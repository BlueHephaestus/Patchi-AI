apr 28 22:59:51 <__adrian>	tml  is kinda is.
apr 28 22:59:52 <gagabone>	tml: it's a usually-great nvidia screen recording tech.
apr 28 23:00:12 <gagabone>	which seems to use a mix of hardware and software to accomplish results that (usually) are so far beyond any other thing like that it's ridiculous.
apr 28 23:00:29 <ckwalsh>	xreal, an interesting note is i can also repro this behavior in hhvm
apr 28 23:00:36 <gagabone>	but today, for some reason, it messed the audio up completely and caused tons of cuts in the video.
apr 28 23:00:37 <xreal>	tml: nope, isn't much faster. just a liiitle bit. 12,5 % faster
apr 28 23:01:15 <xreal>	ckwalsh: good to hear that it's reproducable.
apr 28 23:01:27 <lasdam>	well thanks for some helpful thoughts about this problem of mine, i'll be going off to bed now. have a great day guys.
apr 28 23:01:44 <gagabone>	not the same bed, though. just at the same time.
apr 28 23:01:50 <ckwalsh>	or not, suddenly it doesn't reproduce :s
apr 28 23:02:42 <tml>	eh - you can't trust timings in hhvm
apr 28 23:02:53 <tml>	jits will catch you out
apr 28 23:03:44 <compact>	hey. i have a base64, which i've decoded. but i can't get it to write to a tiff?
apr 28 23:04:40 <tml>	compact: code?
apr 28 23:05:10 <tml>	xreal: i cannot reproduce it on my machine.
apr 28 23:05:11 <ckwalsh>	eh, i can't get it to repro again
apr 28 23:05:16 <tml>	they're always within 10% of each other
apr 28 23:05:30 <ckwalsh>	tml, true, have to warm up the jit
apr 28 23:05:33 <xreal>	tml: i'm on windows, let me check this on a linux machine.
apr 28 23:06:08 <compact>	ah all good, got it
apr 28 23:06:09 <compact>	thanks anyway
apr 28 23:06:38 <ckwalsh>	xreal, i did seem to repro it for a couple runs, but can't repro it now, sorry
apr 28 23:08:35 <xreal>	i was able to reproduce it on a jessie and wheezy system.
apr 28 23:08:43 <xreal>	the funny thing: memory usage doesn't change.
apr 28 23:09:13 <xreal>	with sort: 1008.2006454468, without: 625.51498413086
apr 28 23:10:32 <tml>	xreal: that's a small enough difference to be purely noise
apr 28 23:11:48 <tml>	you're talking about ~0.004 seconds
apr 28 23:12:45 <xreal>	tml: yes, but reproduceable :)
apr 28 23:12:54 <xreal>	tml: but i know what you mean :)
apr 28 23:13:26 <tml>	xreal: http://codepad.viper-7.com/yfani3 - coming in at around 800-900 microseconds, regardless of whether or not i put sort() in
apr 28 23:13:56 <xreal>	tml: nah, not 800-900 ms, it's  pow(10, 5) :)
apr 28 23:13:59 <tml>	i've seen values as high as 1800 for un-sorted()
apr 28 23:14:23 <tml>	and as low as 697 for sort()'d
apr 28 23:15:08 <dietdrk>	writing something like a crm platform. 1945/33036 loc are mine. others are libraries, etc. is this normal?
apr 28 23:15:44 <dietdrk>	html purifier is 28000. mandrill is 2500.
apr 28 23:15:47 <tml>	dietdrk: it wouldn't be normal for me, but it might be normal for you. what's the concern?
apr 28 23:16:25 <dietdrk>	i guess the numbers irk me.
apr 28 23:16:32 <tml>	why?
apr 28 23:17:00 <tml>	you feel like you did too much?
apr 28 23:17:01 <tml>	too little?
apr 28 23:17:06 <dietdrk>	too little.
apr 28 23:17:07 <tml>	you just want to be like everyone else?
apr 28 23:17:10 <tml>	*shrug*
apr 28 23:17:13 <dietdrk>	i guess it's irrational.
apr 28 23:17:20 <tml>	dietdrk: i concur
apr 28 23:17:31 <dietdrk>	i know i need mandrill. i think htmlpurifier is something i need.
apr 28 23:17:56 <dietdrk>	and i'll wave my hands and tell myself someone else checked out the libraries.
apr 28 23:18:17 <ijoshuahd>	are their any alternative for array_rand()? because it doesnt seem to randomize things at all.
apr 28 23:18:26 <tml>	there's no reason you should write one more line of code than is absolutely required to finish the job
apr 28 23:18:27 <dietdrk>	shuffle($array)
apr 28 23:18:41 <ijoshuahd>	i dont want to shuffle the array :/
apr 28 23:18:46 <tml>	don't use shuffle
apr 28 23:18:58 <tml>	(we literally just had that conversation)
apr 28 23:19:05 <ijoshuahd>	shuffle() affects the position of my arrays
apr 28 23:19:06 <dietdrk>	my bad. what was the concern?
apr 28 23:19:22 <tml>	ijoshuahd: what makes you think array_rand() isn't random?
apr 28 23:19:26 <ijoshuahd>	i just want an alternative to array_rand()
apr 28 23:19:45 <dietdrk>	copy the array, shuffle it, shift it, unset it?
apr 28 23:19:59 <ijoshuahd>	for example. array(1,2,3,4,5) it only chooses 2,4,5 repeatedly
apr 28 23:21:00 <__adrian>	ijoshuahd  "random" is not what you might imagine is "random"
apr 28 23:21:11 <tml>	ijoshuahd: really? http://codepad.viper-7.com/jrpbsm
apr 28 23:21:37 <dietdrk>	https://eval.in/320183
apr 28 23:21:41 <ijoshuahd>	tml yes in my var_dump
apr 28 23:21:47 <ijoshuahd>	its not effective.
apr 28 23:22:00 <dietdrk>	array_rand() seems to be a very cool function.
apr 28 23:22:11 <__adrian>	you won't get an even-ish distribution until you take a very significant number of samples
apr 28 23:22:57 <dietdrk>	hah. the eval.in link will give the same result every time. viper recalculates each pageload?
apr 28 23:23:23 <tml>	ijoshuahd: http://codepad.viper-7.com/81sj1l - seems a fairly even distribution to me
apr 28 23:23:26 <ijoshuahd>	how about : array_values($a)[mt_rand(0, count($a) - 1)] ?
apr 28 23:24:05 <__adrian>	ijoshuahd  (1)why?  (2) are all the arrays in question dense lists?
apr 28 23:24:12 <tml>	ijoshuahd: well, that's more or less what array_rand() does under the covers, so i wouldn't expect it to get much better resultes
apr 28 23:24:17 <tml>	s/tes$/ts/
apr 28 23:24:45 <ijoshuahd>	i actually doing a php plugin for pocketmine
apr 28 23:24:56 <ijoshuahd>	its an mcpe server software
apr 28 23:25:16 <ijoshuahd>	im trying to randomize stuff inside a chest
apr 28 23:25:18 <dietdrk>	tml: why did you set it up that way with 2 foreach? why not a for($a=0;$a<=1mil;$a++){...}?
apr 28 23:26:12 <tml>	dietdrk: in case a cache line somewhere was being stubborn
apr 28 23:26:20 <dietdrk>	you mean because of the site or because of underlying php?
apr 28 23:26:23 <tml>	as for why not using a for loop, foreach is so much easier to write and reason about, i pretty much never do a for loop
apr 28 23:26:39 <tml>	dietdrk: i mean because of things like opcode caching
apr 28 23:26:42 <ijoshuahd>	oh well ...
apr 28 23:27:10 <dietdrk>	very interesting.
apr 28 23:27:26 <tml>	ijoshuahd: just run array_rand() more times, and only save every <n>th run.
apr 28 23:27:39 <tml>	ijoshuahd: it'll almost certainly normalize over larger runs
apr 28 23:28:01 <dietdrk>	it relies on the mersenne twist?
apr 28 23:28:50 <tml>	dietdrk: depends on what php_rand() comes out to on your system
apr 28 23:29:04 <dietdrk>	i'm reading about it now o.o
apr 28 23:29:13 <dietdrk>	it's interesting, but a little to ddep for what i should be doing now.
apr 28 23:30:17 <dietdrk>	my business site doesn't rely heavily on rand(), and when i need a token it's  bin2hex(openssl_random_pseudo_bytes(16))
apr 28 23:30:28 <tml>	i'd love it if we could stub out php_rand to mt_rand in a future release, but too many people rely on those creaky old lcgs
apr 28 23:30:43 <tml>	dietdrk: wow - that's incredibly expensive
apr 28 23:30:53 <dietdrk>	only for email tokens
apr 28 23:30:59 <tml>	where did people get this idea that they need csprngs for tokens?
apr 28 23:31:43 <tml>	dietdrk: openssl_random_pseudo_bytes() is one of the most expensive prngs in php
apr 28 23:31:43 <dietdrk>	forgot password. $_get['token']. i'm not sure
apr 28 23:31:43 <tml>	use a uuid
apr 28 23:31:44 <dietdrk>	uniqid()?
apr 28 23:31:44 <tml>	cheaper and just as hard to predict
apr 28 23:31:44 <tml>	no
apr 28 23:31:44 <tml>	uuid
apr 28 23:31:55 <dietdrk>	googled php uuid and got uniqid
apr 28 23:32:08 <dietdrk>	http://stackoverflow.com/questions/2040240/php-function-to-generate-v4-uuid ?
apr 28 23:32:26 <tml>	dietdrk: http://en.wikipedia.org/wiki/universally_unique_identifier
apr 28 23:33:02 <tml>	dietdrk: could be - i personally haven't reviewed that answer for compliance with the dce, but it looks strong enough in practice
apr 28 23:35:29 <dietdrk>	http://codepad.viper-7.com/y0ofvr
apr 28 23:36:38 <dietdrk>	but i believe that it could be very heavy
apr 28 23:38:14 <tml>	dietdrk: http://stackoverflow.com/questions/1940168/openssl-random-pseudo-bytes-is-slow-php
apr 28 23:39:15 <tml>	it's not strictly a windows problem, but it's certainly more exacerbated there
apr 28 23:39:20 <dietdrk>	sounds like a good thing to bring up to mdev
apr 28 23:39:28 <tml>	why?
apr 28 23:39:41 <tml>	in most cases, you don't actually need cs-strong numbers
apr 28 23:39:48 <tml>	you just want something difficult to guess
apr 28 23:39:49 <dietdrk>	he insists on running php on his local windows machine, then uploading to linux vm.
apr 28 23:39:56 <dietdrk>	interesting to learn about the differences
apr 28 23:40:15 <tml>	yeah, i don't care to discuss things like that.
apr 28 23:40:28 <xyphoid>	is there any need to start that up again
apr 28 23:40:48 <tml>	no
apr 28 23:40:52 <dietdrk>	i only mention it because he's not here, and i had no idea about the differences between php on different os
apr 28 23:40:55 <tml>	mdev isn't even here, anyway
apr 28 23:48:30 <davidmemo>	hi
<xreal>	is there an alternative to codeviber? it seems down again
<xreal>	ah, works now
<xreal>	pff... maaany websites say, isset() would be faster than in_array. that's crap. http://codepad.viper-7.com/2rzlja
<tml>	codeviber?
<xreal>	tml: codepad + viber = codeviber :)
<tml>	what is "viber"?
<tml>	xreal: you're charging isset() for the cost of $numbers = array_flip($numbers);
<woet>	xreal: err, you don't run benchmarks on a single iteration (or 3 in your case)
<woet>	xreal: http://codepad.viper-7.com/hxnxim
<woet>	isset is way faster.
<xreal>	viper... oh my
<xreal>	tml: do you have an explaination for the thing i found ?
<tml>	xreal: what thing?
<xreal>	woet: codepad is just an example, i'm running them on my system with > 100.000 entries in a loop with $i=500 :)
<xreal>	tml: yeah, but all the website writing isset() would be faster also need to use array_flip() or a foreach-loop.
<xreal>	tml: so array_flip() also needs to be measured.
<tml>	no they wouldn't
<tml>	they'd just create the array in the order they want it to begin with
<tml>	you don't construct the array the opposite of what you want to check and then flip it
<tml>	you construct the array in a way that conforms to how you will be testing for membership
<xreal>	tml: nope, check this for example: http://nickology.com/2012/07/03/php-faster-array-lookup-than-using-in_array/
<xreal>	tml: and tons of code on stackoverflow doing the same thing.
<xreal>	so, isset() is *only* faster when creating an array, which fit.
<xreal>	as soon, as you'd need an array_flip(), in_array() is faster.
<xreal>	tml: they also doesn't.
<woet>	xreal: and i already showed you you're wrong.
<tml>	xreal: yes, if you read somewher ethat said "array_flip() + isset() is faster than in_array()", that'd be wrong
<tml>	xreal: if you read the article you linked, he doesn't say that he's measuring the foreach loop - just the isset() operation
<tml>	presumably, if you know in advance you're going to do isset(), you'd construct your array that way
<tml>	i have no idea what "they also doesn't" means
<du>	is there a way to make try/catch not trip up on notice/warnings?
<tml>	du: what do you mean?
<ss23>	du: no, they're seperate mechanisms. write your code such that it doesn't cause errors/warnings and throw exceptions instead i guess
<xreal>	woet: you didn't put $numbers = array_flip($numbers); to the time measurement.
<xreal>	woet: ok, you're right.,
<du>	for some context, i installed a magento extension that doesn't thoroughly intialize variables. so the notifications are seeming to be caught by magento's error handling, which i'm assuming is trycatch/ the whole system grinds to a screerching halt
<woet>	xreal: doesn't make a difference.
<woet>	and not relevant to "maaany websites say, isset() would be faster than in_array. that's crap."
<tml>	du: i don't know anything about magento, but it's not normal to pass notice and warning messages through an exception handler
<xyphoid>	custom error handling for notices isn't try/catch
<xyphoid>	it's a custom error handler
<xyphoid>	iirc if you turn off developer mode mage won't stop on notice, but you probably want to fix the notices
<xyphoid>	unless you like your magento logs filling up
<du>	right, i need errors on in development
<du>	so i can't turn them completely off. but if i turn off errors, it works
<du>	okay, that's as good enough of an answer for me. thanks fellas.
<xyphoid>	also patch your magento, hah
<gagalicious>	i would like to call redis delete on my php script. because deletion is very slow, how do i make an "async call" to the redis function without installing modules / extentins or switching to another php variant?
<woet>	store it into a database/queue like rabbitmq
<woet>	and then run a worker or cronjob that deletes it for you
<du>	in magento: "if you write something that raises an error or a warning during developer, execution will halt and you’ll be forced to fix it."
<__adrian>	it's true.  they come in and chain you to the desk.
<gagalicious>	i would like it to be deleted immediately i just dont want my php script to wait. any other alternatives?
<woet>	gagalicious: err, async is the opposite of "deleted immediately"
<gagalicious>	yeah :)
<gagalicious>	sorry then...
<gagalicious>	i would like the call to be async. that's all :) but i won't want anything additional like rabbitmq
<woet>	why not?
<gagalicious>	i like curl init... setting... but
<__adrian>	du  do you have a question?
<gagalicious>	is there one for redis call?
<gagalicious>	why not... because my server is already hogging a lot of mem resources and cpu
<gagalicious>	i wont want another additional thread for process...
<__adrian>	du maybe  /join #magento ?
<woet>	gagalicious: there is no way to do it without another thread.
<gagalicious>	woet : yes. but i dont want to have another program running in the background
<woet>	gagalicious: then you can't do it.
<gagalicious>	ok i can have another program running background.. like curl init to call something remotely
<__adrian>	gagalicious, your question is _all_ over the place.  can you explain it clearly, and briefly?
<__adrian>	what do you want to solve?
<gagalicious>	hdel from redis is deleting too slowly... i dont want it to return anything from my php script
<gagalicious>	i would like to call hdel "asynchronously"
<__adrian>	use a message queue.  like gearman.
<gagalicious>	i dont want another program. coz i have too many on my server and it will be too resource hogging
<woet>	__adrian: he wants async without another application, module or extension
<__adrian>	then don't. wait for it to finish in your php script.
<woet>	already told him he can't
<gagalicious>	for example... curl init... calls a remote url and forget it immediately... sort of like async to me. i would like to have something like that other than curl init... deos anyone have another alternative for calling hdel of redis?
<gagalicious>	does that mean, maybe i should stick with curl init?
<__adrian>	gagalicious  curl'ing your own server will be a much bigger waste.
<gagalicious>	use curl init to call my script
<gagalicious>	but it will be very quick
<gagalicious>	coz... it just calls and forget
<__adrian>	i really don't think you have the problems you think you have.
<__adrian>	but if you do, i really don't think this is the cause.
<__adrian>	honestly, look into gearman or rabbitmq or something.  they're not hogs.
<gagalicious>	hmm.... oh well :i thanks
<du>	__adrian: yes, i asked it prior to your comment. my statement was a follow up to it.
<du>	thanks though, bro!
<joe128>	are oracle or zend certifications good to get a first php job out of college
<__adrian>	du  your error reporting question?
<__adrian>	did you get your answer
<cojabo>	joe128: honestly, ive never even seen them mentioned
<asteele>	i dont think so joe128
<asteele>	you dont need any kind of certifications to be a junior php developer
<asteele>	or a senior one for that matter
<ackpacket>	someone was trying to tell me earlier that if url-encoding things can make them unrecognizable to a filter for bad input... i thought $_get was populated with everything already url decoded though.  right?
<cojabo>	ackpacket: the filter operates at a lower level than that. that's a lot of why they're pretty useless.
<ackpacket>	cojabo: you're telling me that if i do preg_match ( "..." , $_get [ 'username' ]), it is going to examine the url-encoded version of username?
<cojabo>	..wat?
<cojabo>	ackpacket: they were likely refering to a waf, not php
<ackpacket>	they were referring to php
<ackpacket>	had it up to here with this lecturer.  no preparation, none
<cojabo>	then that was plain wrong, and they were probably thinking of a waf.
<ackpacket>	cojabo: check out slides 39-43:  https://inst.eecs.berkeley.edu/~cs161/sp15/slides/lec13-web-vul-1.pdf
<dietdrk>	damn that's painful to read
<dietdrk>	but he's just making a point.
<ackpacket>	hmm?
<ackpacket>	she*
<cojabo>	ackpacket: damn, that is hilariously wrong
<dietdrk>	but terribly.
<ackpacket>	if you were referring to the lecturer that is
<dietdrk>	that is like worst practices
<cojabo>	ackpacket: berkeley even? that's pretty sad.
<ackpacket>	dietdrk: every time i see something like this, and it doesn't jive with previous knowledge, it is a tax on me
<cojabo>	i'd demand a refund rofl
<ackpacket>	cojabo: well don't get me wrong, the tas and other material are utterly fan-tastic
<ackpacket>	worth every penny
<ackpacket>	this is the only lecturer i've ever seen this with
<cojabo>	that lecturer is a moron.
<ackpacket>	she's new, and was hired for her field work not her lecturing ability
<ackpacket>	i have an inkline that she's borrowing slides though
<dietdrk>	it seems like php isn't a big part of that class
<ackpacket>	*inkling
<ackpacket>	dietdrk: eh... about 2%
<cojabo>	ackpacket: the concepts employed there are nothing short of retarded.. it's "sanitizing" by assigning to superglobals.. wtf
<cojabo>	ackpacket: doesn't even seem to mention the modern apis or the correct way to do any of that.
<ackpacket>	cojabo: it does mention parameterized statements at some point
<dietdrk>	i'm looking through homeworks of previous classes.
<dietdrk>	this class is about as legit as ceh cert
<ackpacket>	i believe it's a survey course
<ackpacket>	there are two other lecturers though that do an amazing job with the same course.  one of them with a very heavy emphasis on crypto which i enjoy
<dietdrk>	anyways. lame php in there with vastly outdated and awkward processes
<dietdrk>	good luck on your course
<ackpacket>	thanks for clearing this up for me.  knew it smelled funny...
<cojabo>	ackpacket: some of those are pretty risky, as it makes it impossible to identify which parameters are unsanitized.. it takes effort to be that bad xd
<ackpacket>	well she was showing the wrong way to do things
<ackpacket>	it's billed as a weaker technique
<ackpacket>	so i give her some credit
<cojabo>	i've actually never seen a way that wrong before
<ackpacket>	the caliper of student there is usually able to really grasp the important takeaways:  what works, what doesn't, etc.
<cojabo>	and i've seen some impressively bad code
<ackpacket>	it's not like anyone takes the security course to learn that "this technique, on this system, in this context, does this"
<dietdrk>	#security and #crypto are good
<dietdrk>	or honestly, so many online courses to go deeper in
<cojabo>	##security and ##crypto
<dietdrk>	thanks for clearing up the confusion
<cojabo>	for some reason, the single-# channels of those don't redirect
<dietdrk>	sure they do
<cojabo>	maybe they fixed it now..
<dietdrk>	thanks for clearing that up
<drose379>	hey guys, im iterating over a directory with images using directoryiterator
<drose379>	now im using foreach and getting the file name of each image in the direcotry
<drose379>	im trying to get the size of each image
<drose379>	i tried file_get_contents
<ackpacket>	which channel would any of you reason is a good one for discussing same origin policy of cookies?
<drose379>	but cant figure it out, anythinga?
<ackpacket>	drose379: minimum test-case would help, a gist or something
<dietdrk>	getting filesize?
<drose379>	dietdrk
<drose379>	yeah, im trying to get the image at least
<dietdrk>	image size?
<drose379>	yeah
<dietdrk>	http://php.net/manual/en/function.getimagesize.php
<drose379>	i know that, but whenever i pass the path into that i am left with nothing
<dietdrk>	requires gd
<drose379>	gd?
<spronk2>	anyone familiar with mockery, and know whether you can require that a particular method gets called with different values?
<dietdrk>	error_reporting(e_all); ini_set('display_errors', '1');
<dietdrk>	put that at the top of your php file
<drose379>	but how do i get the file from the path in the first place
<dietdrk>	look carefully
<drose379>	?
<meir`>	off-topic html question: what's your perfect to make a little square with definition next to it (i need it for color legend)
<dietdrk>	$filepath=''
<meir`>	your perfect approach*
<dietdrk>	meir`: #design, #html, #css
<matviy>	my php folder has php.ini-development and php.ini-production, which one is being used by default?
<meir`>	thanks dietdrk, hope they're as active as here :)
<dietdrk>	#html just helped me out with a few questions.
<matviy>	changing the [date] in either one doesn't seem to work
<dietdrk>	meir`: are you talking about an icon?
<drose379>	dietdrk if i have the file path can i pass it to getimagesize
<dietdrk>	drose379: great
<drose379>	that was a question
<drose379>	:)
<dietdrk>	try it and see
<drose379>	does not work dietdrk
<dietdrk>	'does not work' is not enough for me to help you more
<drose379>	doesnt echo out anything
<dietdrk>	check /var/log/apache2/error.log
<drose379>	i dont think my server has one
<drose379>	actually, one sec
<dietdrk>	you're making it very hard to help you.
<rajlaksh>	he is using pc
<rajlaksh>	so it is not linux
<dietdrk>	i can't help with that
<drose379>	no im using linuz
<drose379>	linux
<dietdrk>	rajlaksh: thanks for speaking up for him
<dietdrk>	reminds me of this one time someone asked how much my car was and the passenger who i knew for less than a week answered for me and was off by a factor of 2.
<drose379>	lol
<rajlaksh>	i can help with apache + php :)
<rajlaksh>	but i'm nginx user
<dietdrk>	and a terrible psychic
<rajlaksh>	i will give you a php file it will check if gd is enable or not
<dietdrk>	phpinfo(); ?
<dietdrk>	it'll tell you there.
<rajlaksh>	nope
<dietdrk>	<?php phpinfo(); ?> <---- that will tell you if gd is enabled.
<rajlaksh>	yeah but my friend script will tell gd suported what
<rajlaksh>	!paste
<dietdrk>	uh-huh
<rajlaksh>	that command does not exists here
<rajlaksh>	http://kopy.io/asixu
<dietdrk>	dude... are you kidding me?
<rajlaksh>	nope.
<rajlaksh>	output will be http://fs2.directupload.net/images/150429/b3tgrsv2.png
<rajlaksh>	that is cool script
<rajlaksh>	apache path is /var/log/apache/error.log
<dietdrk>	echoing out pure html
<drose379>	why would getimagesize return an array
<dietdrk>	are there not 2 dimensions?
<rajlaksh>	it will give width , height
<drose379>	ohhh
<drose379>	i thought it was filesize
<dietdrk>	...
<rajlaksh>	list($width, $height) = getimagesize('path_to_image');
<drose379>	thanks for the help guys
<spronk2>	mockery experts? anyone? can you inspect call history?
<ss23>	not to help you! :o
<sorabji>	what are you trying to do spronk2 ?
<spronk2>	i need to ensure that a particular method, that gets called twice, is called with different arguments each time
<dietdrk>	what is 'mockery' ?
<spronk2>	docs.mockery.io
<spronk2>	mocking lib
<spronk2>	i could do this with sinon.js by just inspecting the calls
<spronk2>	no? :(
<spronk2>	ss23 is evil
<sorabji>	spronk2: http://stackoverflow.com/questions/5988616/phpunit-mock-method-multiple-calls-with-different-arguments
<spronk2>	yeah
<spronk2>	i tried a callback approach
<sorabji>	you're looking for the third answer
<morfin>	hello
<morfin>	i don't understand why that does not work hmm
<morfin>	$result = $dbh->pgsqlcopyfromfile("operators",$operators_filename,";","",'"softphone","name","login"');
<morfin>	it just return false to me
<morfin>	i checked out that function sources and hm
<morfin>	that function seems to be not working
<garrettw>	quick question. is it valid syntax to do: $obj->$propname = $val;
<garrettw>	i thought it was but it seems to not be working
<fleetfox>	$obj->{$propname} = $val
<garrettw>	so why would braces be necessary there?
<morfin>	it's valid without bracers
<morfin>	i checked that
<morfin>	but if name is not valid it would not work
<garrettw>	well i can retrieve the value just fine that way, but can't seem to set it
<garrettw>	oh well, maybe the problem is in my __set()
<fleetfox>	http://3v4l.org/tz3gc
<fleetfox>	..
<garrettw>	ah, it was in __set(). a bit of bad logic. cheers :)
<raxbg>	hi, can i create a new context in php? i mean i need to load a system in another system, but i do not want them to interfere. but i still want them to be able to talk to each other. is this possible?
<morfin>	so
<raxbg>	morfin: did you mean "no"?
<devt204>	is it possible to develop a web music player with audio filter (equalizer) capabilities with html 5 /php ?
<raxbg>	devt204: you dont need php for this
<fleetfox>	raxbg: define context
<fleetfox>	you can run multiple interperters / pools
<raxbg>	fleetfox: context in the way it is being used in the pthreads documentation.
<raxbg>	yes, that is what i need
<raxbg>	how can i do this?
<fleetfox>	i don't know nothing about threading, sorry
<devt204>	raxbg is it possible with html5/js
<fleetfox>	and my advice would be to look for something else
<raxbg>	multiple interpreters / polls is what i need
<raxbg>	fleetfox: can you enlighten me how to do this?
<cluelessperson>	hi all. :/
<fleetfox>	raxbg: are you doing threading?
<raxbg>	devt204: yes, that's all you need. read about the webaudio javascript api
<raxbg>	fleetfox: i have done in another project, this one will not have threading
<fleetfox>	well i'm confused why you mention pthreads then
<fleetfox>	you can run multiple fpm-pools or something if you want process isolation
<raxbg>	because the you asked me to define context
<fleetfox>	and you will have to use messaging to communicate if you want
<fleetfox>	why you want the isolation?
<raxbg>	fleetfox: i was looking for something built-in as this will be product used in various environments, which i have no control over
<raxbg>	fleetfox: the systems are not designed to work together, and there are a lot of constants and functions with the same names
<raxbg>	fleetfox: i was looking for a shortcut, to make them work together and stable, but i guess its not gonna be that easy
<phil-work>	raxbg, is this a web application?
<fleetfox>	i'm not getting the work together part
<raxbg>	phil-work: yes, why?
<phil-work>	raxbg, sounds like you need to implement an api and run them as (micro)services
<fleetfox>	for reproducable env, and isolation use containerization
<raxbg>	fleetfox: each one should have access to the other's methods
<phil-work>	your thought process seems to stem a lot from long running applications such as daemons where the problem domain is much larger
<fleetfox>	raxbg: phil-work is right, you can't just call into codbase of different service
<fleetfox>	either expose an api endpoint, or use messaging
<raxbg>	i will probaly end-up doing this, i was just looking for a faster way...
<fleetfox>	there is no faster way
<raxbg>	sadness
<raxbg>	:(
<raxbg>	recently i am starting to find php lacking a lot of functionality it should have :d
<fleetfox>	your problem has nothing to do with php
<raxbg>	it has been around for so many years
<fleetfox>	in every other language i know it would be solved same way
<raxbg>	if there was a way to create a new parser instance for example, it would have been a lot simpler
<fleetfox>	and how you imagine talking with it
<fleetfox>	without defining an inteface
<fleetfox>	or ar you expecting http://en.wikipedia.org/wiki/actor_model
<fleetfox>	form php?
<fleetfox>	from*
<raxbg>	simple - just load it to a point where it starts a server and starts listening on it, then just tell it what function to call, give it parameters and it should return the result in json :d
<phil-work>	so, an api
<raxbg>	but a small one
<fleetfox>	even in langauges, with actor model, you have to define the interface
<raxbg>	a single method maybe
<fleetfox>	raxbg: look at zermq
<morfin>	anybody why pdo function loading from file does not work?
<phil-work>	raxbg, technically you can make an api (webservices or otherwise) that allows you to pass the function and params without much hassle
<raxbg>	fleetfox: zeromq needs to be installed on the server
<phil-work>	not that it sounds like a great idea... but also calling a method isn't a trivial task when other objects need to be passed to it
<raxbg>	phil-work: yeah, i know
<fleetfox>	raxbg: it has, if you don't want external dependencies your only solution is http interface
<raxbg>	fleetfox: wouldn't it be an overkill to make an http request to self multiple time in a single request to one of the apps?
<raxbg>	i guess i will have to take the time and just do a propper connector or something :d
<fleetfox>	raxbg: that's why i suggested message queue
<phil-work>	raxbg, that's the concept of soa and microservices
<phil-work>	there's pros and cons to every architecture
<raxbg>	if the servers where this monster will run were under my control, it would have been much easier. thing is that this should be realsed as a publicly available software and people with all kind of setups in shared hostings will be downloading it :(
<raxbg>	i cannot afford using message queues for example
<raxbg>	even spawning processes is not a good idea :(
<phil-work>	sounds like you're condemned to creating a monolithic monster
<raxbg>	cause it will not work for a great deal of users
<phil-work>	in which case, you have no choice other than to bootstrap one code into the other and resolve conflicts by namespacing one of them
<raxbg>	a man's got to do a ma's got to do...
<fleetfox>	raxbg: you can release a vagrant or docker image and install dependencies requried
<fleetfox>	every other sane person does that
<raxbg>	hahahaha, if only i had that option...
<raxbg>	i am just making the thing happen, the requirements do not allow a docker instance
<fleetfox>	well forcing yourself into env constraints leads to shitty product
<fleetfox>	good luck
<raxbg>	thank you, it will be painful :(
<bittarman>	raxbg, if you want to use queueing, then look at how drupal / magento etc provide a queue which can be used without software being installed
<bittarman>	which uses multiple levels of degredation
<bittarman>	either runs queue in a shutdown function at end of request, or through a crontab script.
<fleetfox>	:d
<bittarman>	this is not a problem which has not been solved before, take a look at the existing implementations for inspiration.
<phil-work>	shutdown function is an interesting concept
<bittarman>	(both allow you to upgrade to a proper message queue btw)
<phil-work>	is it possible to trick the browser into thinking it's fully rendered whilst still having the shutdown function running?
<raxbg>	phil-work: depends on the server setup
<bittarman>	phil-work, yes, flush();
<bittarman>	and ignore_user_abort
<raxbg>	if you are running php as an apache module, you can usually flush the rendered content and the browser will render what you have sent ot it
<bittarman>	raxbg, you can do it with basically any sapi.
<fleetfox>	i'd just stick with the cron..
<raxbg>	i am considering the shutdown function approach, but have to think about it a bit more
<phil-work>	i'm struggling with the concept a little, probably because i don't fully understand the relationship between the httpd and php-fpm
<raxbg>	because widgets from the second system will have to be rendered in the first one
<bittarman>	raxbg, just look at the implementations which already exist before making your own wheel.
<phil-work>	presumably the browser knows a http response has ended when response bytes = content-length
<bittarman>	phil-work, actually, the browser is more interested in </html>
<tinodidriksen>	responses don't usually send content-length. they use chunked encoding.
<phil-work>	oh?
<raxbg>	bittarman: but if the bytes != content-length the tab will probably stay spinning like it is waiting for more content
<bittarman>	raxbg, you can be pretty sure content-length is not being sent.
<raxbg>	if chunked is used - yes
<bittarman>	because, unless you set it, its not going to be set.
<raxbg>	hm
<bittarman>	*for your php requests
<raxbg>	ok
<phil-work>	looking at a fairly standard nginx + php-fpm setup we run
<phil-work>	response has content-length
<bittarman>	thats fairly unusual
<tinodidriksen>	if you have output buffering on, that'll happen.
<phil-work>	i think the framework output buffers, so that makes sense
<bittarman>	ooh, didn't realise it set headers when using output buffering....
<bittarman>	thats...scary
<tinodidriksen>	content-length is an optimization. with 100% buffered output, why would it not just set it?
<morfin>	well i just screwed up
<morfin>	my fields was not ordered properly
<raxbg>	morfin: congrats :)
<phil-work>	got magento+nginx+php-fpm sending it too
<chargen>	hi. i'm generating a url to make a request and it has a whitespace. i think that whitespace is giving me the "505 http version not supported". i'm trying to use "urlencode" to replace that white space dones't work because it generates the wrong signature used on the url.
<chargen>	i've tried using "urlencod"
<phil-work>	chargen, it's not using %20?
<phil-work>	what kind of white space are you talking about?
<raxbg>	chargen: the error does not seem to be related the whitespace :d
<tinodidriksen>	urlencode() is for query parts, not for the path.
<chargen>	it seems so. i've tried using urlencode before and after the calculation of the signature
<raxbg>	it looks like your client is requesting an unsupported http version
<bittarman>	space is not an allowed character in a url.
<raxbg>	chargen: check your request headers and your server http version support
<chargen>	making the request on my browser works
<bittarman>	raxbg, its the space, in http, the first line of the message is method /path http/1.1
<bittarman>	the space is making it expect the version.
<bittarman>	as thats the used delimiter
<bittarman>	chargen, what is the url?
<chargen>	i've also tried changing the context to use another http version
<raxbg>	so, the client is not escaping it properly
<raxbg>	:d
<bittarman>	chargen, what is the url?
<chargen>	i see now that it's not using %20
<bittarman>	chargen, what is the url?
<adsc>	it's secret
<chargen>	the field i'm using is this: $expires = 'expires='.date("y.m.d h:i", strtotime("+1 week"));
<chargen>	has a space between the day and the hour.
<bittarman>	chargen, so its a part of the query. urlencode it.
<bittarman>	 $expires = 'expires='.urlencode(date("y.m.d h:i", strtotime("+1 week")));
<chargen>	the encode returns this: expires%3d2015.05.06+11%3a56
<bittarman>	chargen, no it doesn't.
<raxbg>	even if it is, what is the problem?
<bittarman>	but even better would be $query = http_build_query(['expires' => date("y.m.d h:i", strtotime("+1 week"))])
<chargen>	i think it should be this: expires=2015.05.06%2011:58
<bittarman>	raxbg, its not going to produce the query string he wants if the = ie encoded
<bittarman>	chargen, + or %20 mean the same thing in a url.
<raxbg>	bittarman: but is this related to the http error he is getting?
<bittarman>	when decoded they both become ' '
<bittarman>	raxbg, yes it is.
<raxbg>	hm, how?
<raxbg>	there is no whitespace there
<bittarman>	raxbg, because he's not encoding the url properly, the space is treated as a delimeter, and so the http message is malformed.
<raxbg>	i am just curious
<bittarman>	and everything after the space is treated as the version
<raxbg>	but there was no whitespace in his example
<raxbg>	its just that the whitespace is encoded as a + sign
<bittarman>	raxbg, because he's complaining that it produces incorrect output, which is true.
<bittarman>	not because it doesn't have the space.
<bittarman>	its simply that he's escaping incorrectly still.
<raxbg>	btw, if i were to parse an http request, i would have exploded it and use the first and last parts as the method and version, and implode the remainders to form the path
<raxbg>	is that a wrong approach?
<chargen>	i don't know how to encode just that white space
<bittarman>	raxbg, yes, because thats not how it is specified.
<cluelessperson>	raxbg,   urlencode ?
<bittarman>	chargen, i've already given you the method, twice!
<bittarman>	 $query = http_build_query(['expires' => date("y.m.d h:i", strtotime("+1 week"))])
<cluelessperson>	bittarman, i like you, you're helpful.
<raxbg>	bittarman: i know, but how does it hurt the system?
<bittarman>	 $expires = 'expires='.urlencode(date("y.m.d h:i", strtotime("+1 week")));
<bittarman>	raxbg, yes
<bittarman>	raxbg, think about ie6... that hurt the system by not adhering to standards.
<raxbg>	bittarman: is it a good idea (generally speaking) to stick to the specs precisely?
<cluelessperson>	bittarman, your  http_build_query  is better
<bittarman>	raxbg, standards are there for a reason, not to just do what the hell you want anyway
<bittarman>	otherwise, stuff like ie6 happens, and we all get butthurt.
<raxbg>	bittarman: makes sense
<chargen>	i'm trying what you gave me bittarman, but then it's seems to mess with the signature i need to generate.
<phil-work>	arbuably few browsers adhere to standards
<bittarman>	chargen, how? all its doing is encoding properly...
<bittarman>	remember it gets decoded at the other end!
<morfin>	ie6 is piece of crap that did not like my header('content-disposition: attachment; filename=' . $plain_filename);
<chargen>	ok
<fleetfox>	ie6? :d
<morfin>	ie7 too
<morfin>	same shit
<morfin>	if you don't urlencode filename there is some weird issues when downloading
<adsc>	i always have some code that detects browser agent and sends back mozilla.zip when ie is detected
<morfin>	lol
<bittarman>	you zipped an entire company?
<adsc>	yeah
<raxbg>	adsc: why would you do that?
<adsc>	why not? who needs management or hr?
<morfin>	oh i forgot it was cyryllic filenames
<morfin>	with spaces also
<fleetfox>	my mother calls firefox mozilla
<chargen>	this is the code i have: https://gist.github.com/anonymous/ef4628a111cb5e4d5372
<phil-work>	it's better than "internet", which is what my mother calls it
<mjsey89>	im using xmlrpc to communicate with an external system. however i need to provide a username and password as a login form and i need to store these details temporaily while the user is effectively logged in. the reason for this is that every xmlrequest requires the username and password sent over. what would be the best way to do this? im not sure whether storing username and password in a session is a wise choice for security reasons
<chargen>	https://gist.github.com/anonymous/643ed60f4b3c7bac68be
<bittarman>	mjsey89, in the session is probably your only choice.
<chargen>	and that is with urlencode
<phil-work>	chargen, your complete url is thus: http://api.odnoklassniki.ru/fb.do?application_key=cbamcjpdebabababa&expires=2015.05.06 12:12&last_access_range=2015.04.08-2015.04.22&method=notifications.sendmass&status=a&text=asdf&sig=dacf440d213528c6c3d25b6c37a5698a
<phil-work>	you still have whitespace in expires
<phil-work>	line 9 needs changing to what bittarman said 10 mins ago
<phil-work>	$expires = 'expires='.urlencode(date("y.m.d h:i", strtotime("+1 week")));
<phil-work>	if you do that, the resulting url is http://api.odnoklassniki.ru/fb.do?application_key=cbamcjpdebabababa&expires=2015.05.06+12%3a14&last_access_range=2015.04.08-2015.04.22&method=notifications.sendmass&status=a&text=asdf&sig=4b061c58463de7b3573cfc408d6ec32b
<chargen>	phil-work: yes sorry. i've pasted the wrong code at first
<phil-work>	that gives some kind of response, albeit a legitimate error
<chargen>	yes, the error of the signature must be something i'm missing i guess
<bittarman>	chargen, https://gist.github.com/bittarman/8263b73c2d2829d1905e
<bittarman>	also, that signature calculation is terrible, why not use hmac with an actually secure hashing algo?
<bittarman>	md5 is broken for hmacs.
<bittarman>	completely.
<phil-work>	one would imagine chargen doesn't control that part
<chargen>	i'll try to build the query and use hmacs. thanks for your help!
<mjsey89>	bittarman: i see so sessions it is but as long as the data is not stored as plain text right?
<iaj>	hi there :)b
<iaj>	can someone guide me where i could take a look if i wanted to have a logfile on my system shown on my webpage, line by line in utf-8 encoding via php?
<bittarman>	iaj, you're not looking to write this for yourself?
<cluelessperson>	iaj, i believe you can run a shell command in php with  shell('  in which you could use grep to find lines with certain strings
<phil-work>	iaj, you want to do stuff with each line or literally just show the whole file?
<iaj>	bittarman: well i thought there's maybe a given framework or some easy way to do this.
<bittarman>	iaj, !+recommend
<php-bot>	iaj, no, we cannot recommend <whatever you asked about>. we're here to help you write php code, not spend hours arguing the relative merits of a versus b. we won't recommend packages, libraries, scripts, sites, languages, version control systems, or sports teams; our only recommendation is that you please take your recommendations questions elsewhere (e.g.,  https://softwarerecs.stackexchange.com/)
<iaj>	i tried with file_get_contents to a variable and then echo this variable, but it kills the newline feeds.
<bittarman>	ah, right, so you are writing this for yourself...
<bittarman>	the file_get_contents is not killing the newlines, your displaying it as html... what does html do with newline chars?
<iaj>	bittarman: oh i thought this was like an offensive thing.
<iaj>	oh, i see. yeah.
<raxbg>	iaj: add header('content-type: text/plain');
<phil-work>	iaj, <pre><?php readfile('/path/to/file') ?></pre>
<iaj>	i'd need to replace those with <br />'s
<bittarman>	iaj, wrap the content in <pre> tags so it will display in your page correctly
<raxbg>	iaj: you can also dump in a <textarea>
<iaj>	thanks a lot guys, i'm gonna try that!
<bittarman>	iaj, if you want sexy log viewing however... don't reinvent the wheel, kibana!
<iaj>	tried the <pre> method, works so far, but how can i preserve utf-8 encoding?
<iaj>	what would be "sexy log viewing" ^^
<phil-work>	iaj, the encoding goes in your html
<gagalicious>	how do i send a page that tells the browser to cache it? do i modify header setting or something?
<phil-work>	gagalicious, headers, yes - http://www.mobify.com/blog/beginners-guide-to-http-cache-headers/
<gagalicious>	thanks
<iaj>	thanks i got it to work :)
<gagalicious>	i only know how to add no-cache
<gagalicious>	how do i add cache
<gagalicious>	?
<bittarman>	gagalicious, delete 3 characters...
<bittarman>	or read the article you were linked to!
<gagalicious>	ok thanks
<nodedfree>	can someone help figure why the post parameters don't pass trough curl? http://pastebin.com/mfh5uhj6
<nodedfree>	all headers are fine, content length too, but no $_post at all
<fffuuul>	maybe you did not use post at all then?
<fffuuul>	or have no post body
<nodedfree>	check the code.. there is post ( even twice )
<fffuuul>	not sure if serious
<fffuuul>	nodedfree: where is the result? do you want me to execute it?
<onthemic>	hi i just installed apache2 and php5 and made a simple <? phpinfo(); ?> php page but when i view it in browser it asks me to save the file
<phil-work>	nodedfree, you're saying the post body isn't passed to the api?
<phil-work>	if so, your curl code looks fine - is it you that controls the api on the other end?
<nodedfree>	phil-work, indeed..
<bittarman>	nodedfree, ""content-type: application/json; charset=utf-8;"," that is why
<bittarman>	it only auto decodes x-www-form-urlencoded, not json.
<bittarman>	so $_post will not be populated.
<bittarman>	you want, var_dump(json_decode(file_get_contents('php://input')));
<nodedfree>	response: http://s21.postimg.org/uqxrh09th/postfail.png
<nodedfree>	the empty array() on top should be the $_post
<bittarman>	nodedfree... please read what i've just said... ^^
<nodedfree>	sec
<chargen>	bittarman: got it working. what i did is not to use urlencode for the signature and the encode later just for the query. thank you very much for your help guys.
<onthemic>	is there a way to check at command prompt in ubuntu to see if php is running
<nodedfree>	bittarman, it works.. but the question is how can i make this regular json request?
<bittarman>	nodedfree, that is a regular json request as far as i can see...
<bittarman>	onthemic, pidof php
<bittarman>	or pidof php-fpm
<bittarman>	etc
<nodedfree>	bittarman, i mean that $_post will work without using php://input... like jquery ajax call
<bittarman>	nodedfree, not if you're sending a json body, no.
<bittarman>	only if you send x-www-form-urlencoded
<bittarman>	as i said earlier
<nodedfree>	json body you mean '{"key:"val"}' ?
<bittarman>	yes
<nodedfree>	bittarman, if you can see at the code i posted before, there is an json_encode()
<bittarman>	nodedfree, i saw, and its behaving exactly as expected...
<bittarman>	nodedfree, and i've told you why.
<bittarman>	so, theres not much more i can say really
<nodedfree>	the auto decodes?
<bittarman>	i've even told you how to get the data server side.
<bittarman>	var_dump(json_decode(file_get_contents('php://input')));
<bittarman>	if you want $_post populated automatically, you can't send a json body. its a simple as that.
<nodedfree>	bittarman, so xmlhttprequest will never work with php curl?
<bittarman>	nodedfree, that doesn't even make sense as a question...
<nodedfree>	... that what i understand from you
<bittarman>	you can send either content type through xmlhttprequest and curl
<nodedfree>	if i send regular postfields, the data won't pass because of the xmlhttprequest
<fffuuul>	bittarman: i understood you pretty clear, it's him…
<nodedfree>	only if i remove the x-requested-with, the data will pass
<bittarman>	nodedfree, that doesn't make any sense.
<memoryleak>	i've compiled php 5.5.24 and i'm trying to install extension using pecl (pecl install redis). i've installed first xdebug and followed the notic that i should update the channel, which i did (pecl channel-update pecl.php.net). now i'm unable to install anything as i get following error message: "connection to `ssl://10.62.57.249:3128' failed". looks like suddenly it can't connect to the http proxy anymore :(
<nodedfree>	bittarman, lol i'm so sorry.. missed you line (""content-type: application/json; charset=utf-8;"," that is why)
<nodedfree>	works like charm..
<nodedfree>	ty
<meway>	hello i was folliwng this tutorial http://code.tutsplus.com/tutorials/user-membership-with-php--net-1523 ( i know its out dated but all i can find) and i get this error
<meway>	warning: mysql_connect(): access denied for user 'root'@'localhost' (using password: yes) in /var/www/html/sandbox/phpregister/base.php on line 9
<meway>	in my web browser
<bittarman>	meway you can find more recent than that.
<meway>	please link
<bittarman>	meway, !+pdo
<php-bot>	meway, pdo is php data objects, a database api that has a unified interface for many databases.  you can learn how to use pdo here: http://wiki.hashphp.org/pdo_tutorial_for_mysql_developers
<meway>	this tutorial is specifcly what i'm looking for.
<bittarman>	meway, you want to put things in a database... thats all a registration really is.
<meway>	should i ask mysql about the error i'm getting. i see nothing wrong with the out dated tutorial unless sombody here can identify that being the issue.
<bittarman>	meway, another note, $password = md5(mysql_real_escape_string($_post['password'])); has not been acceptable for many years.
<bittarman>	and it go the escaping and hashing in the wrong order.
<meway>	hmm
<bittarman>	meway, there are a huge number of things wrong with the tutorial
<meway>	the link you provided me does not seem to be specificly what i'm looking for.
<bittarman>	xss, session fixation, using an extension which is removed from the next version of php
<bittarman>	meway, so you want copy paste registration code?
<bittarman>	if so, please use a full stack application framework like drupal.
<bittarman>	because if you can't see beyond all you need to do is take data from a form, and put it in a database table, you're going to struggle to get the other things liek security correct
<meway>	i'm not looking for a handout but examples with a working application specific to this would be usefull.
<xat`>	hi guys
<raydiation>	will full unicode support ever come back :d?
<raydiation>	if someone does it (tm)?
<meway>	bittarman its for educational purposes.
<xat`>	i have php 5.2 and want to upgrade to 5.3.3 . that will be impacting my php code ?
<xat`>	and so on, my websites
<raydiation>	xat`: http://php.net/manual/en/migration53.php
<raydiation>	also why upgrade to 5.3 if even 5.4 is already unsupported?
<kephra>	s/for/if i get a $ for/
<bittarman>	meway, thats not an excuse at all.
<bittarman>	meway, what you just said, is you want to learn it wrong. why would you want to learn the wrong thing?
<fffuuul>	xat`: have ou read the title: stable php versions: 5.4.40, 5.5.24, 5.6.8
<kephra>	meway, as told the old mysql driver without the i should be avoided, better search for a tutorial with pdo explaining prepare, bind, execute
<bittarman>	kephra, i already gave him one...
<meway>	it is no excuse. how do you explain to a person who is not educated or does not have the experiance about using an application to satisfy their needs without having a decent documentation that leads by example especially when a person is looking for something specific.
<raydiation>	meway: :+1:
<meway>	i want to learn correctly and appropriately. i will follow your tutorial.
<meway>	but don't assume i know anything.
<asteele>	and thats why we get paid the big dollars
<kephra>	meway, its not your fault - 99% of php tutorials are for the trashcan ;-(
<asteele>	because you have to navigate an ever changing sea of misinformation to get the good stuff, and then you have to learn it
<raydiation>	in fact id recommend people to start with a different language/framework
<meway>	indeed
<raydiation>	python/ruby/node
<kephra>	so 99% of php newbies run into this sql injection and xss trap - giving php that bad reputation
<raydiation>	then let them dive into php
<meway>	i'm specificlly using php as it was built around web applications.
<h0m1x>	kephra: vice versa!
<h0m1x>	kephra: most of the php newbies know sqli attacks because before starting php they had been script kiddies!
<raydiation>	meway: nowadays thats not an argument anymore, given the issues with websockets
<meway>	s/applications/sites
<asteele>	meway i would personally recommend looking into laravel.  but you need to take things slowly
<meway>	;)
<raydiation>	id argue its harder to build modern web apps in php
<h0m1x>	asteele: laravel is good but not worth learning, it's time consuming fugacious framework.
<asteele>	jumping into a full featured framework without knowing the basic language can lead you to be 100% lost and actually make learning slower if you do it wrong
<h0m1x>	asteele: php is already dead.
<asteele>	h0m1x i disagree
<asteele>	and lol no php is not going anywhere
<h0m1x>	asteele: i don't mean it will disappear immediately. in the process of time, better frameworks will be coded by new high level programming languages with much more better features.
<raydiation>	asteele: micro frameworks maybe?
<raydiation>	usually also feature xss and sql injection "addons"
<raydiation>	for preventing them
<asteele>	h0m1x in the same fashion every language that is popular now will disappear eventually.  php has better staying power than most languages, and its lifetime is still 5+ years i would say because its adoption rate is so high
<asteele>	there are better options for almost every situation these days, but php isn't going anywhere
<asteele>	raydiation what about micro frameworks?
<raydiation>	asteele: not that high learning curve but better tutorials
<h0m1x>	asteele: we will see. probably, 10 years from now i will come back to this channel and we discuss the point further :)
<asteele>	i doubt ill be here in 10 years
<h0m1x>	asteele: joking. i will not be.
<kephra>	microframeworks are different in their reuse culture
<asteele>	and yuou can pick the hottest language you want(golang?) right now and in 10 years something else will be better
<naktibalda>	h0m1x: i will
<h0m1x>	naktibalda: determined!
<kephra>	about the 'hottest' language
<raydiation>	asteele: no generics in go
<raydiation>	-> rust :d
<kephra>	smalltalk 80 was 35 years ahead of its time - since then every few years a new language is hyped, each a step closer to smalltalk
<kephra>	but looking closer at those languages i see a repeating pattern, that i call the "evil of mceval and the curse of a little smalltalk"
<kephra>	sicp and alst both teach how to write an interpreter for a toy languages
<kephra>	python, ruby and many other languages look, as if the author was a student, who decided: its easy to design my own language - and repeating all errors out of the book
<raydiation>	kephra: which ones?
<asteele>	what good is a language without a developer
<kephra>	raydiation, e.g. python repeated the error of an ref-counting-gc and finalization requiring them - both python and ruby implement slow alst like bytecode machines and mceval like interpreters
<kephra>	clojure repeated mceval, preventing tail optimization in jvm
<raydiation>	i see
<kephra>	even if anybody who knows some lisp, scheme will tell you that mceval is an !example! for a !toy! language, and one should better use cps
<kephra>	so jumping the new hype wont solve your problem
<kephra>	there are only 10 types of languages: those everybody curse like php, and those nobody uses
<kephra>	i prefer to stick to languages, where i know the traps
<fleetfox>	am i late for drama?
<bittarman>	fleetfox, i hope so :)
<delboy1978uk>	greetings
<djam90>	i am struggling a little with oop. when should i use traits, vs extending a base class, vs using a static class with static methods like class::helpermethod() ?
<agen_terminator>	rar
<phil-work>	it wouldn't be a week day if nobody argued about languages
<delboy1978uk>	try not to use statics :-)
<phil-work>	djam90, i've never really found a need for traits
<phil-work>	whatever problem that you think can be solved by traits can be solved with a better architecture
<fleetfox>	yes, traits are meh
<phil-work>	when learning oop, i considered the usecase for extending a base class as being when the child class "is a" thing of the parent
<phil-work>	e.g. a dog "is a" animal
<phil-work>	so dog class extends animal class
<phil-work>	and thus composition should be considered as "has a"
<naktibalda>	you could use traits to add wings and other specialist stuff
<phil-work>	e.g. a person has a dog, rather than a personwithdog class being a subclass of a person class
<djam90>	phil-work, that falls apart when my class is a controller extending a basecontroller
<djam90>	because what is a basecontroller?
<alyx>	it's for controlling bases
<phil-work>	djam90, don't worry too much about mvc - it clouds judgement
<alyx>	when all your base r belong to us
<phil-work>	a controller is little more than a set of methods that make method calls to other well structured classes
<raydiation>	>> is_null('')
<phil-work>	and, very importantly, a model is not whatever your orm or db abstraction layer calls a model
<raydiation>	in channel interpreter?
<raydiation>	> is_null('')
<biberu>	raydiation: there isn't one, http://codepad.viper-7.com or http://3v4l.org
<raydiation>	ty
<phil-work>	all that said, if you end up doing tdd you'll prefer composition over inheritance and thus use the "is a" vs "has a" thing more loosely
<fleetfox>	raydiation: ?
<fleetfox>	php -a
<raydiation>	fleetfox: its pretty weird
<raydiation>	never gotten around php -a
<raydiation>	enter does not submit i think
<fleetfox>	php -r
<raydiation>	fleetfox: as in no output
<raydiation>	i mean enter var_dump(is_null('')); in the interactive interpreter
<raydiation>	hit enter
<raydiation>	nothing
<fleetfox>	php > var_dump(is_null(''));
<fleetfox>	bool(false)
<raydiation>	ah
<raydiation>	semicolon
<raydiation>	otherwise it appends everything to one big line
<raydiation>	ty
<fleetfox>	yw :d
<anj7>	hey anyone willing to help me in learning php and mysql to create a log in test website?
<sling>	anj7: give it a try, and if you have specific questions, feel free to ask them here
<sling>	(if they are about php)
<sling>	i don't think anybody here is going to hold your hand ;)
<anj7>	oh, o
<anj7>	this is my test site btw nikhiljoshua.tk
<themysticwyvern>	how do i get a link to target the php include that's sitting in my content area?
<themysticwyvern>	so that it loads the new .php file into the content area.
<adsc>	what is a content area?
<themysticwyvern>	the area where my content is.
<themysticwyvern>	between the header and footer.
<adsc>	so you want to display the code of your php file in there, or what?
<naktibalda>	themysticwyvern: most likely you have to use javascript to modify your page
<naktibalda>	or you could use frames (or iframe) and set a target attribute to id of that frame
<naktibalda>	<a target="content-frame">bad idea</a>
<tuskkk___>	how do i check if resourcetype is empty or is a collection? https://bpaste.net/show/b770a5a89e1b
<themysticwyvern>	i did this in the past, i just can't remember how.
<tuskkk___>	this is a webdav response by the way
<naktibalda>	tuskkk___: read documentation of sabre\dav\property\resourcetype
<halcyforn>	hello. sorry for stupid question i try repair one template for joomla maybe somene know how to add content block( in wordpress this is easy) to index php in joomla template ( this teemplate dont have this thing for first page.)
<adsc>	halcyforn: maybe try #joomla channel
<halcyforn>	ok
<halcyforn>	i think here i get faster answer.
<naktibalda>	you got one
<themysticwyvern>	i managed to find out how to do it.
<themysticwyvern>	thanks for your help, everyone.
<tuskkk___>	naktibalda: initiated a new resourcetype object and sent this response in it. on doing getvalue() to it, i get the same array as response
<nisseni>	i have a nested array, each item in the array has a key (article_no) and a key (quantity). now every array item with the same article_no should have its quantity added together. does this makes sense?
<morfin>	how can only one script work slow but same script with another name not?
<morfin>	i am out of theories
<tuskkk___>	naktibalda: can i pm you?
<kba>	morfin: do you mean the same script with another name?
<morfin>	yes
<morfin>	that's some strange dark magic
<kba>	not necessarily
<kba>	what does the script do?
<morfin>	it run only one query with specific id and if found row header("location:url");
<kba>	so it's like 10 lines? and you're certain it's the same
<morfin>	ok it's not exactly 10 lines but it does not continue execution when found row
<morfin>	it just redirect user
<kba>	you're clearly not telling me the whole story
<morfin>	i tried to open same script with different names: geturl.php(slow) and geturl_test.php(fast) and i don't understand why it's so slow
<morfin>	i am sure they're same
<bittarman>	morfin, without seeing the code, its impossible for anyone to attempt to give you a reasonable answer
<bittarman>	pastebin the contents of both.
<fffuuul>	morfin: http://paste.ee
<morfin>	that looks like script being requested more than another one works slower
<kba>	did you diff the files to be certain they're the same?
<fffuuul>	morfin: are you talking to yourself?
<morfin>	i can't paste whole thing
<fffuuul>	okay
<bittarman>	morfin, then we cannot help you.
<bittarman>	morfin, at least look at the output of diff geturl.php geturl_test.php
<morfin>	as i said i connect to database, if found row i send header to user and redirect him, otherwise i look in another database and then if found redirect
<morfin>	there is no differences between those things
<bittarman>	morfin, why the resistance to running that 1 simple command?
<bittarman>	afraid of what it might tell you somehow?
<watmm>	i have a mirrored /etc/php5 and /etc/nginx on two servers, and have enabled pm.status_path. when i visit the status page the response headers from a varnish cache tell me i've hit server 2, yet i always see the fpm processes of server 1. any ideas?
<morfin>	i i ran it
<bittarman>	morfin, and what was the output?
<morfin>	it said nothing
<morfin>	so no difference
<bittarman>	morfin, then theres no reason other whats in the code itself may be making it *appear* that is the case
<publow>	guys is there some historical bug in php timezone with pacific/auckland?
<bittarman>	i.e. the second one you run is taking advantage of something cached for example.
<phil-work>	morfin, how much "slower" are we talking?
<bittarman>	publow, if you can't find it on bugs.php.net, then probably not a known one.
<publow>	can i describe what's happening?
<bittarman>	publow, it would be helpful
<publow>	where can i paste php that is executable to show you
<phil-work>	publow: http://3v4l.org/
<publow>	http://3v4l.org/cffxu
<phil-work>	ok, what are we looking at? :s
<publow>	okay look at the last unix timestamp. it is wrong.
<fffuuul>	publow: it is wonderful
<morfin>	i found out that apache just works slow
<fffuuul>	morfin: o'rly?
<morfin>	difference is 6 seconds and 10 microseconds
<morfin>	*100 microseconds
<phil-work>	so you were comparing cli with apache?
<morfin>	no
<morfin>	i was comparing apache proxified with nginx and same apache accessed directly
<phil-work>	could probably have told you this had you mentioned the stack differences
<publow>	nevermind
<publow>	lol
<bittarman>	morfin.... there is your answer then
<phil-work>	publow, sorted it?
<bittarman>	the difference is the latency from apache -> nginx
<publow>	yeah i just realized
<morfin>	no
<phil-work>	if so, i'm glad as i wasn't enjoying working out timezone differences
<morfin>	i got bad results in both cases
<publow>	lol yeah i hate it
<publow>	but important question phil
<publow>	is there any reliable way to store a date other than timestamp?
<phil-work>	define "reliable"
<publow>	so is there anyway to take 29 march 2015 for example, and store it as a value that will never have an issue with timezone etc
<publow>	ie a consistent value
<phil-work>	publow, a datetime is not a thing without a timezone
<publow>	besides literally storing 29 march 2015
<morfin>	soo any ideas?
<phil-work>	it's like a price without a currency
<publow>	that's what i'm saying really, how can i store the price
<publow>	and ignore the timezone
<phil-work>	publow, you'll always need a timezone - i'd use utc
<phil-work>	then convert that to whatever timezone your user(s) require
<publow>	why utc?
<publow>	i see
<fffuuul>	because it is universal :)
<phil-work>	yes, the u is the clue
<phil-work>	you can store it in timbuktu time, if you like
<bittarman>	publow, http://3v4l.org/evwj4
<phil-work>	as long as it's consistent - utc just makes more sense
<bittarman>	use the api's consistently, don't switch between datetime objects, and date()... you will loose your mind quickly.
<bittarman>	make your code consistent, and you will be ok ;)
<publow>	kk
<publow>	i'll have to see if i can implement utc cause the systems already running
<publow>	is there any benefit to using datetime over strtotime()?
<phil-work>	publow, what bittarman gave you is producing utc
<bittarman>	publow, under the hood, new datetime('now') is using strtotime to work out the timestamp to use internally.
<publow>	oh okay
<bittarman>	you don't have to implement utc, you simply have to be consistent!
<publow>	ok cool
<publow>	i understand now why it seemed to be not working
<publow>	amusing reason
<publow>	system runs in new zealand, i'm in in australia
<publow>	i was testing timestamps by setting timezone to nz and then using a web based timestamp converter to tell me what date the timestamp represented
<publow>	but it was showing me the date in my current timezone..... so -2 hours, meaning an nz date starting at midnight, was showing the day before which i thought was wrong
<publow>	that's why i was thinking the timestamp generation was wrong
<fernandobasso>	if $arr is ['php', 'js'], can i do something like $var => $arr + 'html' so that $arr ends up being ['php', 'js', 'html'] ?
<bittarman>	publow: new datetime('@' . $timestamp, new datetimezone('some/timezone'));
<publow>	lol
<jimlei>	$arr[] = 'html'
<bittarman>	you cannot work out what timezone a timestamp is though, you must know that in advance.
<publow>	that's right. and the stupid website i was using though was convering the timestamp into my current zone aus, instead of nz
<bittarman>	which is why its generally a good idea to store all your times in utc, then you can easily manage localising them anywhere
<publow>	but again that's because as you say, the timestamp has no inherent zone
<fernandobasso>	jimlei, i need to do that while assigning to $var. $var => $arr <plus another item here>
<publow>	so you recommend storing the database value as utc?
<bittarman>	yes
<publow>	is that current practice now days?
<publow>	cause you remember 5 years ago + it wasn't
<naktibalda>	fernandobasso: array_merge
<bittarman>	thats very common amongst people who know what they're doing
<publow>	i grew up on php learning unix timestamps
<publow>	talking 10 years now
<bittarman>	its very common to see people just storing them in their servers timezone too...
<phil-work>	remember also that "pacific/fiji" isn't an exact thing
<publow>	dst
<phil-work>	you'd need to know when the ts was created to account for dst
<fernandobasso>	naktibalda, worked. thanks.
<publow>	funny i jst came across this http://www.pontikis.net/blog/handling-dates-with-php5-in-any-database
<bittarman>	i don't entirely like that solution
<bittarman>	its over-engineered
<publow>	true
<morfin>	i am still not sure how same script can work differently on same server
<bittarman>	morfin, one is being called via a proxy one is not from what you have sai
<bittarman>	*said
<bittarman>	which would be your reason.
<bittarman>	until you prove otherwise.
<morfin>	no
<bittarman>	yes.
<morfin>	i said i got same result with and without proxy..
<morfin>	and it was bad
<bittarman>	you didn't say that
<bittarman>	then in order for anyone to have any clue, we'd need to see code.
<bittarman>	as you're unwilling, i guess you will never get to the bottom of it.
<bittarman>	if we don't know whats going on in the script, how the hell do you expect us to guess what it could be?
<publow>	lol
<fffuuul>	morfin: are you a bad troll?
<morfin>	that's some magic shit
<morfin>	i will blame my virtualization/hardware/etc
<fffuuul>	morfin: blame yourself :p
<ilhami>	can anyone look at my script and tell me what's wrong? :d
<adsc>	2 requests in one?
<adsc>	that's 2/3 of a kinder surprise egg
<ilhami>	:-d
<watmm>	i have a mirrored /etc/php5 and /etc/nginx on two servers, and have enabled pm.status_path. when i visit the status page the response headers from a varnish cache tell me i've hit server 2, yet i always see the fpm processes of server 1. any ideas?
<ilhami>	https://dpaste.de/k5em what's wrong guys?
<bittarman>	watmm, try #varnish maybe :)
<ilhami>	it's like the functions are never called
<ilhami>	when i look under the "network" tab i don't get any response
<naktibalda>	ilhami: you have to echo, not to return
<naktibalda>	you get what you print
<bittarman>	ilhami, !+session_start
<php-bot>	ilhami, bool session_start(void)  - begin session - reinitializes freezed variables, registers browsers etc - http://php.net/session_start
<ilhami>	oops :d
<watmm>	bittarman: not sure if it's varnish related. varnish should pass the request to webserver2
<ilhami>	thanks bittarman :p
<bittarman>	watmm, get the people in #varnish to verify your varnish config is correct then..
<knowj>	how do you approach custom exception handlers with additional parameters in the construct whilst still conforming to strict standards?
<bittarman>	knowj, custom exception handlers?
<bittarman>	constructors are not bound to the lsp protection, so they don't raise strict compatibility errors
<bittarman>	knowj, could you pastebin what you mean
<bittarman>	its really not clear.
<knowj>	sorry meant extending the default exception class: __construct($message, $code, exception $previous) to __construct($message, $code, exception $previous, $myparam)
<bittarman>	why would you want to do that?
<matthewbe>	hi
<knowj>	bittarman: they’re certain identifiers i want to be able to pass down to the catch for the logger/alerts that need more than just an exception message
<bittarman>	well, you can add parameters to it just fine
<bittarman>	so whats the problem you're having with it?
<knowj>	does that sound like a sane use case?
<bittarman>	not entirely :p
<bittarman>	i can't see the use for it still, but i'm guessing you have some kind of reason why its useful
<bittarman>	personally i'd think the exception type, message, code and backtrace are plenty for pretty much any logging or alerts i'd ever need.
<knowj>	i just wanted to make sure i wasn’t falling foul of strict standards but couldn’t find any reference to conditions.
<bittarman>	strict standards for compatible method signatures does not apply to constructors.
<bittarman>	and only requires them to be compatible, so if the param is optional, it wouldn't matter either
<knowj>	bittarman: for code exception the standard exception is 100% bang on especially if it’s for a developer but i have to send alerts to network teams, data teams that need to be able to use the identifiers
<bittarman>	knowj, sounds like your logging is to anemic then :p
<bittarman>	you should probably be logging from where it occurred and then throwing an exception
<bittarman>	rather than throwing an exception to get something logged, thats the wrong approach.
<knowj>	that’s the other approach inject the logger so it’s available within the entire system but that could leave me in positions where i don’t have the data i need to log within the scope the error occurred.
<dorkinus>	knowj: i would extend the exception class to include $myparam as a property
<knowj>	if i’m not throwing an error to log it, my catch blocks aren’t going to be doing anything other than encapsulating exception types
<bittarman>	knowj, you catch exceptions to handle the exceptions. logging is one part of it.
<bittarman>	as long as you're not using exceptions just to say, hey log this
<bittarman>	than you're ok.
<bittarman>	exceptions are basically for exceptional circumstance, like, the db connection dropped
<bittarman>	logging the fact the db connection dropped when you catch that, thats fine.
<knowj>	ye that’s what this is going to be for. api down, vpn connection error, authentication error etc…
<bittarman>	but fact is, you cannot continue, and its an exceptional circumstance, so exception fits.
<dorkinus>	yo dawg we heard you like exceptions, so we put an exception in your exception so you can catch while you catch
<bittarman>	right, so, throw new vpnunavailableexception('the vpn is down, fixit', 9001);
<knowj>	for isntance if there’s a data error it will throw an exception to hault the action on that entire data set, log it then continue with the next dataset
<bittarman>	what more info could you need? :)
<bittarman>	throw new vpnauthenticationfailure('could not connect with credentials supplied ' . $username, 9002);
<bittarman>	etc
<bittarman>	you can use the marker pattern as zf2 exceptions do to catch both of those as both an spl exception type, and a type in your own namespace if you like too
<bittarman>	interface vpnexception {}; class vpnauthfail extends runtimeexception implements vpnexception {}
<bittarman>	and so on.
<bittarman>	you can then catch on vpnexception, or runtimeexception or exception
<monkeynuts>	o/
<knowj>	bittarman: sending an order to the api, the file is rejected by the api because it doesn’t meet the xsd requriements. i could append the orderid to the message but that doesn’t allow me to use the orderid outside of that message without dirty extraction of it.
<bittarman>	knowj, json.
<monkeynuts>	have a quick question.... a extends b where b extends a aint gonna work?
<bittarman>	monkeynuts, of course not.
<knowj>	bittarman: i wish i could use json. try an erp from 2003 with soap only :(
<phil-work>	circular inheritance, ey?
<monkeynuts>	thanks just needed confirmation as am trying to bug fix some lads code and i not very php orientated
<phil-work>	not sure i can even think of a case where that would need to be a thing
<matthewbe>	for a saas web application, used as a primary work tool, thus where each user maintains a session all day long, is php still a language to consider using due to its shared-nothing architecture and reinitializing the php application on each request? (i've always thought it works well for short lived request like visitors on a standard website, but what when it comes to such kind of cases?)
<monkeynuts>	thanks bittarman
<bittarman>	matthewbe, shared nothing is *great* for scaling. if you don't write yourself into a corner, php scales horizontally *really* well.
<catuca>	this php regex [a-za-z0-9_\-.+]+@[a-za-z0-9-]+.[a-za-z]+ messes up when an e-mail is provided with an asterisk. for example: test*t@test.com. it will capture everything after the asterisk. i don't want it to capture anything because the asterisk is not part of the regex rule. help please?
<phil-work>	catuca: ^[a-za-z0-9_\-.+]+@[a-za-z0-9-]+.[a-za-z]+$
<phil-work>	^ means start of string and $ means end of string
<catuca>	phil-work: let me test that
<phil-work>	you need to use those if you want exact string matches rather than substring matches
<catuca>	phil-work, perfect
<catuca>	phil-work, okay. learned something new today
<viper-7>	catuca: theres still a few problems there
<catuca>	viper-7, like what
<phil-work>	. in regex means "anything"
<viper-7>	aside from the regular "the proper regex to validate an email address is 4kb long, and already included in filter_var"
<phil-work>	so your .[a-za-z]+ means anything followed by more than 1 letetr
<ss23>	except some things
<ss23>	like newlines
<ss23>	sometimes
<ss23>	other times, it does
<viper-7>	your . is a wildcard rather than a literal . and you dont support many/most tlds
<phil-work>	so test@test is a valid e-mail, by your rules
<viper-7>	dave@optus.com.au fails your rules
<matthewbe>	i got d/c, last message i got: <bittarman> matthewbe, shared nothing is *great* for scaling. if you don't write yourself into a corner, php scales horizontally *really* well.
<viper-7>	all you're really checking for with that is a word with an @ symbol somewhere in it :p
<ss23>	every time you write a regex to validate emails yourself, rms refuses to speak at another conference
<viper-7>	matthewbe: you didnt miss anything
<ss23>	allenjb: :(
<ss23>	i knew that wouldn't work
<ss23>	i couldn't think of anything better... it's late here
<matthewbe>	bittarman, if i don't write yourself into a corner?
<chilversc_>	i'm trying to install a local pear package using pyrus but it keeps telling me the channel is unknown, how can i make pyrus ignore the channel?
<ss23>	pear? it's like the 90's up in here1
<matthewbe>	viper-7, thx:)
<chilversc_>	ss23: yeah, this is an old project
<morfin>	why not use php_filter oh how it's called
<bittarman>	filter_var
<morfin>	yes
<morfin>	but it had a problems with idn i recall
<bittarman>	matthewbe, doing something like tying yourself to 1 filesystem (temp files etc)
<morfin>	think need punicode those before
<matthewbe>	bittarman, mm... do you have some reading material to suggest about scalability, tese things that you you mention?
<morfin>	crap
<morfin>	it does not work even if i punicode my email
<watmm>	bittarman: it *was* cache related :)
<morfin>	oh it do
<morfin>	is there default punicodification functions?
<allenjb>	morfin: idn_to_ascii
<morfin>	oh
<morfin>	need to install pecl extension
<morfin>	so using filter_var to validate email seems to be most correct way to do that
<g105b>	can anyone recommend a server-side charting library that doesn't suck?
<g105b>	(svg)
<fleetfox>	you can run js serverside :)
<fleetfox>	i don't think thers something good implemented in php
<g105b>	fleetfox: true
<g105b>	it baffles me that a server side charting library hasn't been made yet
<g105b>	(that doesn't suck)
<mattias>	g105b: https://github.com/saadtazi/saadtazigchartbundle ?
<meway>	figured it out lol
<meway>	was something simple
<allenjb>	people do charting client-side these days - javascript charts are much easier to have features like pan/zoom on and you can have the client do all the work for things like hiding selected series.
<meway>	used mysqli too
<g105b>	mattias: it's javascript
<mattias>	g105b: https://github.com/saadtazi/saadtazigchartbundle/blob/master/controller/democontroller.php the example code looks very php to me.
<g105b>	mattias: the democontroller may well be php, but the chart it produces is pure javascript.
<mattias>	g105b: yeah, well, it was the first hit. how you checkout out everything on packagist.org?
<mattias>	have you*
<mattias>	checked out* -.- english today...
<g105b>	mattias: i have not checked out the whole internet, but i have given a lot of time looking for something that doesn't require js
<mattias>	g105b: http://phplot.sourceforge.net/
<fleetfox>	g105b: php is not a popular language for data anlysis look at pyhon, r, julia
<fleetfox>	it may be iesier to dump a bunch of json into python script
<bittarman>	pchart, phpchart, phplot phpgraphlib.....
<g105b>	mattias: it produces bitmaps
<g105b>	bittarman: i am asking for recommendation not google by proxy.
<tnu0>	hi there. i can see this in symfony coding standards ( http://symfony.com/doc/current/contributing/code/standards.html#structure ) : "use parentheses when instantiating classes regardless of the number of arguments the constructor has;"
<bittarman>	g105b !+recommend
<php-bot>	g105b, no, we cannot recommend <whatever you asked about>. we're here to help you write php code, not spend hours arguing the relative merits of a versus b. we won't recommend packages, libraries, scripts, sites, languages, version control systems, or sports teams; our only recommendation is that you please take your recommendations questions elsewhere (e.g.,  https://softwarerecs.stackexchange.com/)
<tnu0>	is there a psr convention about this? i can't find.
<bittarman>	!+next
<php-bot>	another satisfied customer, next!
<alexyoung29>	hi, i'm just in the process of learning php so forgive me if i'm a bit of a newb lol, i'm trying to count how many records i have in my table but when i do it i'm getting trying to get property of non-object in c:\web server\wamp\www\test\index.php on line 19 here is my code can someone let me know what i could be doing wrong? http://pastebin.com/xtsfzriu
<g105b>	bittarman: i will shut up and leave.
<happy_the_exceed>	at least it's not deprecated.
<bittarman>	alexyoung29, $result->num_rows <- $result is false.
<bittarman>	alexyoung29, remember to check your query results, especially in mysqli which forces you to always check for errors rather than throwing exceptions.
<bittarman>	alexyoung29, also never do this   die("connection failed: " . $conn->connect_error);
<alexyoung29>	ah okay thank you
<bittarman>	your users have no need for that information, nor should you ever directly expose mysql error messages, they can contain sensitive information.
<alexyoung29>	that was just me playing around to be honest lol
<bittarman>	alexyoung29, some things to remember for next time then.
<morfin>	he-he i remember my ex co-worker was visiting python data mining courses )
<alexyoung29>	so for example i have 1 record in that users table, so i know a record exists, and when i do select id, username, password from users it shows me that 1 record so is my $result variable wrong?
<bittarman>	alexyoung29, var_dump($result)
<bittarman>	look at what it is.
<bittarman>	if its false, it tells you the query caused an error, and you need to check for the error to find out what that was.
<alexyoung29>	ah okay, so from a troubleshooting perspective does php have something that can show me a more verbose error at all?
<bittarman>	not from mysqli.
<bittarman>	with php you can use errmode_exception
<hamster88>	hello every one. :)
<bittarman>	s/php/pdo/
<alexyoung29>	ok thats handy to know! well thanks for you help i'll tinker around and see what i can find is happening :)
<bad_advice_cat>	alexyoung29, in case you are interested in making use of pdo to connect to mysql server: http://dpaste.com/1zrw0vk
<hamster88>	i have created a form and its working perfectly with verification and adding things to database, now all i want is to make sure that once the user submits a form, he gets a confirmation email. how can i achieve this?
<bad_advice_cat>	alexyoung29, http://wiki.hashphp.org/pdo_tutorial_for_mysql_developers   <-- here as well.
<bad_advice_cat>	pdo is short for "php data objects".
<alexyoung29>	ah thank you! i'll have a quick look
<bad_advice_cat>	alexyoung29, caution!!! that tutorial is aimed at for people who wants to switch from using mysql_* functions to pdo. (that is because mysql_* is deprecated.)
<tuskkk___>	if fopen doesnt find the file, wil it create it and put the streamed contents in it?
<naktibalda>	tuskkk___: it is documented, isn't it?
<naktibalda>	tuskkk___: !+fopen
<php-bot>	tuskkk___, resource fopen(string filename, string mode [, bool use_include_path [, resource context]])  - open a file or a url and return a file pointer - http://php.net/fopen
<g105b>	hamster88: use the mail() function, or use a third party api.
<tuskkk___>	right, always go to the docs first
<bad_advice_cat>	hamster88, !+email
<php-bot>	hamster88, unless you know the intricate nuances of smtp and mime parts, we suggest you use a well known mailing library and not mail() directly
<bad_advice_cat>	( like swiftmailer for example )
<hamster88>	i am new to php, and i am using a  process.php file to get the form processed. i came across this tutorial but not sure about implementation "http://www.web-development-blog.com/archives/send-e-mail-messages-via-smtp-with-phpmailer-and-gmail/"
<hamster88>	the "to@mail.com" i want that to be grabbed from form itself at the time of submission. so not sure how to get that done
<morfin>	i still have a question what can happen if i directly mail()
<hamster88>	this is my process.php http://pastebin.com/vaxhuxw4
<bad_advice_cat>	morfin, you could make it possible for hackers to exploit your code via email header injection. use your mail server to spam people basically.
<fleetfox>	eyebleach pls
<es0teric>	can anyone help me with this regex real quick? http://pastebin.com/aavnhr3g spits out the error:  preg_replace(): unknown modifier 'p'
<naktibalda>	es0teric: you have slashes in your pattern
<naktibalda>	preg_quote it
<bad_advice_cat>	hamster88, this is a very bad move you made: $_post = f_clean($_post);
<bad_advice_cat>	hamster88, a very horrible one.
<naktibalda>	es0teric: it isn't a complete pattern, is it?
<es0teric>	naktibalda it is
<hamster88>	bad_advice_cat,  i am still learning, but i would be glad if you could tell what i did wrong . i will really appreciate :)
<bad_advice_cat>	hamster88, what if you need to put data from   $_post   onto a web page?   --   or if you want to email it?   $_post     --  you just ruined a perfectly fresh  $_post overwriting that variable.
<bad_advice_cat>	hamster88, that was your only source.
<ingodid>	es0teric: esacape the forward slashes to start
<es0teric>	ingodid i did
<naktibalda>	es0teric: pastebin a complete preg_match call then
<ingodid>	es0teric: myregextester.com is good for tweaking patterns
<bad_advice_cat>	hamster88, okay. some example.  ---  so now i have to "undo sql escape" before i can display this onto an html web page/xml file?  --   i have to undo sql escape if i want to send this data in email?   --  what about over irc?
<naktibalda>	es0teric: do you know what the delimiters are in regexp?
<bad_advice_cat>	hamster88, so that basically screwed the data up, and it is only useful for sql -___-
<hamster88>	bad_advice_cat,  i don't need to post the data anywhere, but i will make a note of it.  thank you for advice :)
<bad_advice_cat>	hamster88, rule of thumb,  do not write data to a super global variable. treat it as a read-only variable.  if you need to copy.  do this instead:  $dataformysql = $_post;
<bad_advice_cat>	hamster88, i have a question.
<hamster88>	ok?
<hamster88>	i might not be able to answer it tho.
<hamster88>	but go ahead
<bad_advice_cat>	hamster88, if i were to tell you that the mysql_connect()  function is deprecated... then shown you better way. would you still use mysql_connect() anyway?
<hamster88>	i would have still used mysql_connect()
<bad_advice_cat>	hamster88, there are other php extensions you can use t oconnect to mysql server.
<bad_advice_cat>	so no, you wouldn't need that. that extension is deprecated.
<hamster88>	:o
<bad_advice_cat>	hamster88, for example. you can use pdo to connect to mysql server.
<bad_advice_cat>	http://dpaste.com/1zrw0vk  <-- typical pdo code would look similar to this.
<bad_advice_cat>	hamster88, and here is the tutorial: http://wiki.hashphp.org/pdo_tutorial_for_mysql_developers   that tutorial is aimed at for people who wants to switch from using deprecated mysql_* functions to pdo.
<hamster88>	thank you very much :) i will read it further
<bad_advice_cat>	okay!
<anoniem4l>	i am using mysqli. the moment i delete a row from a table, the changes are not reflected instantly as in, there's still something cached somewhere and i don't know why. browsing manually the database and the changes seem committed, although php says otherwise....
<hamster88>	although i am still stucked with sending email thing
<hamster88>	do you think using http://www.web-development-blog.com/archives/send-e-mail-messages-via-smtp-with-phpmailer-and-gmail/ tutorial for sending email would be a good idea?
<hamster88>	i am thinking to just set require phpmailer to top of my process.php file and then add rest of script before my ?> tag
<anoniem4l>	anyone? any ideas why this happens? mysql documentation says that autocommit is always on by default.
<pc_magas>	hello i have an issue when i excecute external programs via exec();
<naktibalda>	anoniem4l: are you sure that you haven't implemented caching in your php app?
<pc_magas>	the problem is that www-data cannot excute these programs
<anoniem4l>	naktibalda: 100% sure.
<pc_magas>	even though i use sudo and i inserted into /etc/sudoers the entries
<naktibalda>	anoniem4l: does it use transactions?
<anoniem4l>	naktibalda: no, not that i reckon of.
<naktibalda>	any chance that php selects from slave?
<anoniem4l>	naktibalda: no idea, got no "slaves" or so, the query i am using to see if what i want exists is: select * from sessions where fingerprint='$fingerprint';
<naktibalda>	so, a single mysql server, right?
<anoniem4l>	naktibalda: indeed.
<anoniem4l>	also the query i am using to delete a row is this: delete from sessions where username='$logged';
<anoniem4l>	naktibalda: this issue seems to be php related because i browse manually the database the row is gone, but i refresh my website and the row is there.
<anoniem4l>	and the row*
<naktibalda>	anoniem4l: i can't explain that
<naktibalda>	it isn't something what mysql or php could do
<anoniem4l>	surprisingly enough, after 1 or 2 minutes, the row is gone from the website.
<ingodid>	anoniem4l: are you caching the reponse?
<anoniem4l>	ingodid: nope.
<ingodid>	that would account for the lag on the site, bu not the db
<naktibalda>	1-2 minutes is a very long time
<ingodid>	your browser may be
<anoniem4l>	i tried 2 different browsers, ie and firefox.
<anoniem4l>	both same issue.
<pc_magas>	anoniem4l, do you use transactions; if yes when no error occured do you commit the changes?
<ingodid>	have you tried disabling the cache browser side?
<anoniem4l>	pc_magas: mysql has autocommit on by default. and nope, no transactions.
<anoniem4l>	ingodid: would i have to dig the browser settings?
<ingodid>	if you have firebug/etc installed, it's a checkbox on the top of the "network" page
<es0teric>	naktibalda naktibalda  http://pastebin.com/7bgtd6zn
<anoniem4l>	ingodid: that fixes it.. why though?
<naktibalda>	es0teric: you escaped delimiters, but not the slashes inside string
<es0teric>	naktibalda ahhh i see
<naktibalda>	es0teric: read http://docs.php.net/manual/en/regexp.reference.delimiters.php
<ingodid>	if you check the response headers, it's probaly saying something like "save this response for xx minutes, then request it again"
<ingodid>	so everything server side is doing as you expected, but your browser wasn't requesting the new information right away
<anoniem4l>	ingodid: i don't believe i am following.
<anoniem4l>	oh.
<es0teric>	naktibalda yep that did the trick, thanks!
<anoniem4l>	ingodid: that explains it, thank you.
<ingodid>	anoniem4l: np, gl
<anoniem4l>	ty
<lindrain>	hello
<lindrain>	is it possible to use php sessions but without setting a cookie, instead storing the hash (wish the help of js?) in localstorage or something similar?
<ss23>	probably, but i don't think there's a way to do it out of the box
<lindrain>	right.
<ss23>	you could re-implement them fairly easily though, sessions are just basically file_put_contents(serialize($_session), '/tmp/session_id');
<lindrain>	i want to use it for logging a user in primarily
<lindrain>	i could perhaps just remake that myself.
<naktibalda>	ss23: !+session_encode
<php-bot>	ss23, string session_encode(void)  - serializes the current setup and returns the serialized representation - http://php.net/session_encode
<allenjb>	you can continue using php's own sessions system - you just manually set session_id beforce calling session_start
<lindrain>	allenjb, how does it work on the client side though?
<ss23>	allenjb: that'll make php try send the cookie, right?
<asteele>	lindrain my question would be why are you trying to remove cookies from the equation
<lindrain>	asteele, customers have disabled cookies, which we have to obide by.
<allenjb>	afaik localstorage values aren't automatically transferred via http requests like cookies - they have to be set with javascript - i assume ss23 already has some system for transferring the id
<allenjb>	i believe you can disable php trying to automatically set cookie headers with session.use_cookies
<ss23>	i mean, uh
<ss23>	lindrain: if it's just that, you can do it with a url parameter
<asteele>	who really browses the web without cookies?  you wouldnt be able to sue any websites
<asteele>	stop enabling those people
<asteele>	:p
<ss23>	http://php.net/manual/en/session.idpassing.php
<lindrain>	ss23, i suppose, but that had me worried with the security aspect of it all. but then again, this is probably as good as it'll get.
<lindrain>	asteele: they can do whatever they want aslong as i get moneys lol
<znf>	screw cookies, do localstorage!
<lindrain>	i can store the php session id in localstorage and submit it each time in the url, thats not really a problem.
<ss23>	lindrain: no point in storing it in local storage if you're passing it with url each time
<mbrzuzy>	hei ss23
<ss23>	lindrain: if you use ssl, the url is hidden from attackers (encrypted, etc). if you're not using ssl, people can steal cookies just as easily as url parameters
<asteele>	local storage is a lot cleaner though, since query string will show up in all of your analytics tracking etc
<asteele>	or it *can*
<ss23>	mbrzuzy: hi2u
<ss23>	asteele: if you want php to know about it, it has to be sent through url too
<lindrain>	yep.
<ss23>	php can't access local session, as allenjb said
<lindrain>	make sense.
<asteele>	no it can be sent throuhg headers using js ofcourse
<ss23>	lol
<ss23>	i mean, if you make every request ajax...
<asteele>	oh lol
<allenjb>	http://stackoverflow.com/questions/26065386/can-localstorage-data-be-placed-in-the-http-header
<asteele>	yea you are right, too early
<allenjb>	so says no
<ss23>	lindrain: honestly, i'd just let php deal with it. the behaviour of passing it in the sesion kicks in automatically if cookies are disabled
<ingodid>	lindrain: is the main purspose for idetifying users?
<ss23>	at least, i think it does
<lindrain>	ingodid, logging in, yes
<ss23>	doubel check i guess
<ss23>	also, i doubt there are any users out there who disable cookies and still want to log in
<ss23>	like, i'd bet money that there's exactly 0 of them for any given site
<lindrain>	i wish that was true
<allenjb>	there's always 1
<ss23>	ehh
<lindrain>	try companies with custom security policies
<ss23>	we're a dev shop so we see a lot of clients
<ss23>	lindrain: we work with government a lot, and i'm yet to see any of them have a policy like this
<ss23>	banks, too
<lindrain>	ss23: lucky you
<ss23>	that being said, this policy seems kind of retarded, so less likely that anyone with a security team would have it, vs random dude who doesn't understand computers in a 10 person place doing it
<ss23>	in any case, i'd still push harder on the decision to not use cookies
<lindrain>	regardless, its their business. i get paid either way.
<lindrain>	my boss does not want to get into the whole ordeal of talking to old people with computers right now, so this will have to do.
<ss23>	lindrain: you get paid to be someone who understands computers, which means probing things like this :p
<lindrain>	oh i have
<ss23>	*shrug*
<lindrain>	ss23: some customers have *blocked* port 443
<lindrain>	do you understand what i'm working with here?
<ss23>	hey, i've seen clients doing that!
<ss23>	just never "we want to block all cookies, yet still log in"
<phil-work>	encryption is for girls
<allenjb>	dance like nobody is watching. encrypt like everyone is.
<mbrzuzy>	lol
<jimlei>	lindrain: this might be stupid. but if you're allowed to require javascript then  what about storing the session id or some access token in local storage, and injecting it into an authorization header of all requests? then you wouldn't have to add it as a get param to all pages
<ss23>	why not just let php handle it since it already has code for "if cookies are dsiabled, add it into the url transparently"?
<jimlei>	ss23: got the impression it wasn't wanted to have it in the url
<jimlei>	but if that's not the case then absolutely :)
<lindrain>	jimlei, that was my initial idea, but might as well just put it in the url.
<lindrain>	i havent decided yet though, we'll see.
<ss23>	if you're able to inject it into requests, you'd have to be doing ajax requests on everything. if you're doing that, no one see's the url anyway, so no advantage of having it in header vs url
<asteele>	not just 'might as well' as ss23 correctly pointed out earlier, that will not work for clicking a link on a webpage, where you cannot modify the header
<es0teric>	anyone here know how to do a search/replace with mysql?
<naktibalda>	es0teric: better than #mysql?
<es0teric>	naktibalda #mysql is not really providing useful answers
<jalder>	as in replace() ?
<es0teric>	jalder yeah but i am trying to do a regex replace
<es0teric>	so search regex then replace with text i speecify
<naktibalda>	es0teric: you got all the options there
<jalder>	from what i can find, you'd have to use a user defined function
<jalder>	does it need to be done at the query instead of in php?
<es0teric>	jalder i guess i can do it in php
<happy_the_exceed>	lindrain, tricky you are. lol
<lindrain>	tricky?
<es0teric>	jalder if i do it in php
<es0teric>	how would i go about that?
<jalder>	es0teric: this might be useful if you really want to bake it into your mysql instance https://github.com/hholzgra/mysql-udf-regexp
<happy_the_exceed>	lindrain, login by storying to localstorage.
<happy_the_exceed>	old people? their browser might not even be capable of that.
<es0teric>	jalder nah because then i would have to install that on the server
<es0teric>	which i dont want to do
<jalder>	es0teric: yeah, well i'm not sure what you're doing or working on, but i'd just gather up all results from the db, then when iterating over the results do your regex replace on the entry, store it, then move on to do what you needed to do next
<jalder>	assuming your db isn't large
<es0teric>	jalder nah..
<es0teric>	well.. fuck it i'll just export the db and reimport it
<jalder>	haha
<es0teric>	thats the easiest way to do it
<jalder>	ah, just a one off repair situation?
<es0teric>	jalder yeah
<es0teric>	jalder ok since i am running mysql off homebrew, that regex function to install into mysql wont work
<es0teric>	its looking for the mysql instance in the wrong place
<ilhami>	if(isset($_session['session_token'])){	header('location: /login.php');} testing some code.. funny that this doesn't work :/
<cythrawll>	ilhami, is it before output?
<ilhami>	i don't get any errors. :p
<ilhami>	let me try to var_dump $_session['session_token']
<ilhami>	notice: undefined index: session_token in /vagrant/src/resources/global.php on line 15 null
<ilhami>	here is the problem cythrawll :/
<ijoshuahd>	how to make rest api secure?
<phil-work>	ijoshuahd, define "secure"
<ijoshuahd>	im trying to create a rest api type authentication system for my project which wouldnt need a mysql use.
<ijoshuahd>	phil-work well, a hard work to hack by script kiddies
<cythrawll>	ilhami, well fix it!
<noiseeee>	you can hand out private api keys and demand it as a query param, ijoshuahd
<ijoshuahd>	oh hmmm
<ilhami>	cythrawll, well i will try! :d
<ijoshuahd>	what if i create generated api keys using mysql?
<ijoshuahd>	i mean store api keys from there
<ilhami>	ijoshuahd, you can.
<ilhami>	use oauth :d
<cythrawll>	ijoshuahd, depends on the n ature of your api.
<ijoshuahd>	can i submit data to a rest api right?
<cythrawll>	apikeys are fine for somethings
<cythrawll>	others it's better to use certificates
<cythrawll>	othe ris oauth
<ilhami>	api keys can be overkill. :-d
<ilhami>	or?
<ilhami>	brb
<cythrawll>	oauth is perfect if your api lets y ou do something on behalf of another user
<ijoshuahd>	well im planning to create a simple api based authentication and php as the backend
<noiseeee>	"create a simple api based authentication" what does that mean
<ijoshuahd>	api key(as suggested) plus user data --> rest api --> returns result using json header
<ijoshuahd>	will that be spoof proof?
<jalder>	ijoshuahd: are you working with an established framework or building this from the ground up?
<ijoshuahd>	building it from ground up
<noiseeee>	well look at slim
<ijoshuahd>	well, its just a simple rest api to make things easier.
<ijoshuahd>	and wont need mysql details from exposing
<noiseeee>	you sound confused
<noiseeee>	anyways, look at slim to get the api going
<ilhami>	there are many such frameworks.
<ilhami>	but they are not supported here.
<jalder>	ijoshuahd: i think your jumping around quite a bit and need to focus on one piece at a time. so let's say you want to authenticate a request, your application needs to first check if the request contains whatever auth or token the user is passing, validate it, then move on
<jalder>	if you aren't using a mysql db to store validated tokens, you could (not advised) quick and dirty store the tokens in the script (maybe an array) and check if the users token is in that array
<jalder>	s/tokens/keys
<raydiation>	regarding the scalar type hints: are they in master yet?
<raydiation>	is there a way to test this?
<raydiation>	since the timeline says 7 will come out in a few months
<allenjb>	raydiation: i'm pretty sure they're in master. you can test it by downloading and compiling php yourself.
<allenjb>	there are also some people who are regularly creating distributable php packages from master already, but i don't have any links to hand
<raydiation>	allenjb: what about docs?
<raydiation>	im looking for reflection docs for the scalar type hints
<allenjb>	i don't believe docs have been updated yet - they'll do that when they've finished tinkering with the code otherwise the docs may be inaccurate.
<allenjb>	raydiation: if you have questions, you may want to try asking on chat.stackoverflow.com 's php room (a number of core devs hang out there) or #phpinternals (very low traffic)
<raydiation>	ok, thanks
<happy_the_exceed>	core devs don't like us.
<happy_the_exceed>	>.<
<allenjb>	there may be some core devs in here - they just have better things to discuss than most of what goes on in here =d
<allenjb>	in fact (checking a couple of nicks i know) there are definitely core devs in here  =d
<salathe>	raydiation: there are currently no docs for sth reflection, because there is currently no sth reflection (that i'm aware of)
<trysten>	what's the difference between pdo::sqlite and whatever provides php_libversion()
<naktibalda>	trysten: do you mean sqlite_libversion?
<isil`zha>	hello. is it possible to have an array of named sub-patterns with preg_match? for example: "1,2,3:12,13,14:2,5,6" to "array('data'=>array(array(1,2,3),array(12,13,14),array(2,5,6)))"
<naktibalda>	isla_de_muerte: !+preg_match_all
<php-bot>	isla_de_muerte, int preg_match_all(string pattern, string subject, array subpatterns [, int flags [, int offset]])  - perform a perl-style global regular expression match - http://php.net/preg_match_all
<isil`zha>	naktibalda: did you mean me?
<naktibalda>	yes
<trysten>	naktibalda: thanks, that's exactly what i meant.
<naktibalda>	isil`zha: but it looks like you would be better with explode on colon, foreach and explode on comma
<isil`zha>	naktibalda: i looked into that (or rather preg_match). but i couldn't figure out how to create an array out of a named sub-pattern. the string to match against is one line only. i understand that preg_match_all is for multi-line matches?
<naktibalda>	isil`zha: no
<naktibalda>	isil`zha: pdo provide the same interface for many databases, sqlite_ is specific to sqlite2
<naktibalda>	trysten: pdo provide the same interface for many databases, sqlite_ is specific to sqlite2
<trysten>	naktibalda: so, though sqlite_libversion() is an undefined function, i should be able to use sqlite through pdo?
<hassoon>	'evening gentlemen
<naktibalda>	trysten: yes
<naktibalda>	trysten: sqlite_ is old, it supports sqlite 2, there is sqlite3 extension: http://php.net/manual/en/book.sqlite3.php
<trysten>	naktibalda: when would i use sqlite3.so instead of pdo::sqlite?
<sorabji>	pdo uses sqlite3.so no?
<isil`zha>	naktibalda: thank you. preg_match_all indeed got me closer. i couldn't figure out how to nest the sub-patterns in a way that would return the desired array. i would love to avoid loops (as in explode). do i need recursive patterns to achieve what i'm looking for?
<tgodar>	php-pecl-memcached.x86_64 or php-pecl-memcache.x86_64 these days?
<tinodidriksen>	sorabji, i think php ships their own copy.
<sorabji>	hmm, not what i have
<trysten>	sorabji: oh.. so how is sqlite listed as an available pdo driver if i don't have sqlite_libversion()? i'm looking into this
<lawngnome>	trysten: sqlite_libversion() was for sqlite 2 only. pdo_sqlite uses sqlite 3.
<lawngnome>	also, pdo drivers are generally decoupled from the non-pdo extensions — it's possible to only compile one or the other.
<manicpanic>	is there a function to convert a php array to an ini file ?
<manicpanic>	the opposite of parse_ini_file("sample.ini")
<sorabji>	manicpanic: doesn't look like there's anything out of the box
<manicpanic>	sorabji: okay thanks
<sorabji>	some hopefuls on packagist though if you look
<kjn>	or http://stackoverflow.com/questions/1268378/create-ini-file-write-values-in-php
<manicpanic>	kjn: the recommended answers function there looks okay. hope its still valid and not buggy. thanks
<kangarooo>	hello. i found in worpdress some strange cpu activity then files witch i googled are injections and i wanted to decode but cant find out how.
<kangarooo>	 i have 5 files but can you help understand where to decode? tried base64 decode but didnt helped. heres one example file http://pastebin.com/wlgwrdtu
<jalder>	ouch
<jalder>	well, it should be base 64 decoded, after all new lines are removed from the string
<jyg>	i could've sworn that i read that oci8 was being integrated into php 5.6.  but i don't see that anywhere on php.net, etc.  does this sound true? or was i just dreaming?
<kangarooo>	jalder: i tried theese pages base32 and 64 didnt helped. https://www.base64decode.org/ http://online-calculators.appspot.com/base32/
<mentoc>	anyone with s3 api experience here?
<jalder>	kangarooo: it looks to be compressed as well with gunzip
<jalder>	so, it's base64 decoded to a blog (which those sites can't output) then gunzip inflate takes place
<sammitch>	don't bother decoding injections, it's a waste of time
<jalder>	s/blog/blob
<sammitch>	they will do one of two things: 1. decode and run something posted to the server. 2. fetch and run a remote file.
<jalder>	but yeah, like sammitch said, now is the time to get your backups out, figure out how they were able to compromise the site, patch/secure, and relaunch the site/app
<sammitch>	restore from backup, apply patches, move on with life
<kangarooo>	just did updates all is fine with site. cpu is 0 now. was also 3 exe files exactly 130 mb each in size. now wanted to decode and found who is responsible. also secured wp with sexurity plugins and already someone from russia had a failed log in with admin. site was 2 years old.
<jfive>	hello
<jfive>	how can you require a php script to run before a user can access a directory?
<sorabji>	what does 'access a directory' mean here?
<jfive>	sorabji: access as in, visit a /directory/ aka a folder, over http
<jalder>	kangarooo: you updated the existing/hacked website instance?
<sorabji>	jfive: probably route all the requests to a single file (a front controller) and do your logic there
<jalder>	kangarooo: they may have buried some other exploits elsewhere that you haven't caught yet, i'd highly recommend you start with a known clean copy
<kangarooo>	jalder: yes and removed strange files from server. copied to computer. wp from 3.8.7 to 4.2.1
<kangarooo>	ok
<jfive>	is there a "php_value" setting that can be used to require a php script is run for each request in apache?
<sorabji>	jfive: there is auto_prepend_file
<kangarooo>	jalder: this one helped find all 5 files. https://wordpress.org/plugins/sucuri-scanner/ it was mentioned in wordpres wiki about malware or security
<jfive>	sorabji: thank you! that was it
<jfive>	you're a life saver, haven't used it in years and was trying to remember
<kangarooo>	oh i found exactly same code some other people also were finding http://www.unphp.net/decode/7c6ca6096e807dd1cd2bbc7d98ad215a/ and http://3v4l.org/sv0t3/vld
<jalder>	kangarooo: okay, well, i'd recommend putting some monitoring on the site to notify you if the site content changes in case something was missed
<kangarooo>	jalder: jep i put sucuri scanner. it shows each log in. hardened in 5 different ways and another plugin with login blocker. now its newest version of wp so must be good. otherwise i have backup and ill reinstall all from duplicator (best backuper with all db) backup
<kangarooo>	but can i on linux or on web tools decode ?
<mythril>	is anyone working on a php 7 to ~5.4ish transpiler?
<mythril>	(i have no idea how doable that is)
<cythrawll>	mythril, don't know how necessary it is, besides deprecation of minor stuff, everything should be bc afaik
<cythrawll>	oh wait
<cythrawll>	nm
<cythrawll>	wrong direction lol
<mythril>	cythrawll i mean to transpile the new features into old runtimes
<mythril>	yeah
<cythrawll>	mythril, don't know how useful that is either
<cythrawll>	mythril, transpilers are great for when you don't control the runime version
<cythrawll>	that's why transpilers are all over the browser side js world
<mythril>	yeah, i know
<cythrawll>	in serverside land, that's hardly ever the case
<cythrawll>	unless you're running on shared services
<mchelen1>	in some corp environments it can be hard to get ops to upgrade runtime versions
<cythrawll>	in which case you're not doing anything cool enough to warrent using up to date features.
<mchelen1>	but idk if thats enough to make it worthwhile
<cythrawll>	mythril, also i'd say that a transpiler is possible, but not very easy
<cythrawll>	because unlike js which with es6 just basically mostly syntactical sugar and building in some more apis
<cythrawll>	php 7 making some fundamental changes to how the type system is used
<cythrawll>	which means for non trivial code injection into mimic how new method signatures work
<cythrawll>	which getting to do that cleanly, (i might be wrong) probably isn't easy
<cythrawll>	mchelen1, only badly managed corp environments (i can't talk i managed such environments but it wasn't up to me)
<cythrawll>	now adays you can just spin up vms with whatever instance of php you need
<cythrawll>	but depends how modernized your corp environment is.
<cythrawll>	mine wasn't, it was running on some nasty badly managed server farm, so it was very difficult to get new instances of *anything*
<mchelen1>	cythrawll: sadly its incredibly common, but yeah
<mythril>	that's basically the use case
<mythril>	non-technical managers making technical decisions ftw
<cythrawll>	mythril, mchelen1 i think the biggest problem with what you're suggesting is that, and i touched this, is that in order to properly take advantage of php 7. it's stuff that needs to levarge at the engine level.
<mchelen1>	cythrawll: i can spin up my own vm's for dev, but for prod its all handled by someone else, and they are security limited to versions of php in a given distro/release
<cythrawll>	if you transpile to userland code, you're really losin glike 90% of the benefits
<cythrawll>	this is different than say es6
<mchelen1>	cythrawll: yeah i can't speak to the difficulty, just describing a situation where upgrading the runtime is not a trivial task
<cythrawll>	mchelen1, well my perspective, is those cases where it's not trivial, sticking to the source php version might be more beneficial.
<cythrawll>	i guess the short of it.
<cythrawll>	i see such a thing being more harmful than good
<cythrawll>	then again, could be wrong
<mythril>	transpilation has another use though, writing software to be compatible with os projects usually means targeting their lower supported bound, which can suck from a dev perspective
<mchelen1>	cythrawll: yeah that's probably true
<cythrawll>	mythril, i really doubt that is a good approach to that problem, because that means different distributables for different php versions, and maintaining that seems like a nightmare, more so than just using the syntax of that lower bound.
<mchelen1>	mythril: thats true, although going from 7->5 might be a stretch
<jess44>	hi
<jess44>	im having problems getting my login page to work
<jess44>	i get this error fatal error: call to undefined function mysqli_connect()
<jess44>	hello?
<rrman>	guys, is this a security issue?   if($password == $_post['pass']) admin();
<devmn>	jess44: are you in a namespace?
<sorabji>	jess44: do you have that extension enabled? installed?
<jess44>	i dont know
<jess44>	it was working before
<jess44>	i was using open element
<jess44>	but ive been trying wamp. but it still doesnt work
<sorabji>	rrman: where did $password come from?
<jess44>	whats namespace?
<sorabji>	jess44: look at phpinfo and see if it is enabled
<jess44>	ok
<rrman>	sorabji, just normally declared: $password = '123456';
<devmn>	rrman: you're vulnerable because you're using $post without sanitizing and apparently not encrypting passwords.
<devmn>	jess44: > it was working before
<sorabji>	is bad
<devmn>	jess44: so what changed?
<jess44>	i rebooted the computer
<devmn>	jess44: http://php.net/manual/en/function.phpinfo.php
<jess44>	is the file called phpinfo?
<jess44>	or is it a ini file?
<sorabji>	it's a function
<manicpanic>	how can i set the document root of a file thats incluced in another file. $_server['document_root']; always shows the path of the file that $_server variable was not included in.
<devmn>	jess44: at the top of your page put <?php phpinfo(); die(); ?>
<devmn>	manicpanic: http://stackoverflow.com/questions/9628443/why-would-i-use-dirname-file-in-an-include-or-include-once-statement
<jess44>	what page?
<devmn>	manicpanic: tl;dr - dirname(__file__)
<devmn>	jess44: the page you're trying to view that is saying mysqli_connect is borked?
<jess44>	ok
<manicpanic>	example init.php has $_server['document_root']; in it. and index.php includes the init.php which is not in the same directory
<devmn>	manicpanic: dirname(__file__)
<manicpanic>	devmn: its not in the include() or require statement. its part of the init.php code
<jess44>	i dont know how to do that
<manicpanic>	devmn: that works thanks
<jess44>	ok
<jess44>	i get the same error
<sorabji>	jess44: you didn't put it in the correct file then
<jess44>	i dont know how to
<sorabji>	what did you do then
<jess44>	the index.php file loads ok
<jess44>	i added a code block
<sorabji>	at the top?
<sorabji>	<?php phpinfo(); die(); ?>
<devmn>	jess44: the die() is important
<juslintek>	hi i'm trying to make a function which would clean up recursively multidimensional array, for example if array(1=>array()); this element should be removed and if last returned value is empty array, then return false. as the answer that there are no non arrayical values.
<jess44>	yea
<sorabji>	and?
<juslintek>	empty array is same as no value and that key containing empty array should be removed
<jess44>	this error fatal error: call to undefined function mysqli_connect() in c:\savant\root\wefiles\server\db\dbtools\oedbrequest.php on line 415
<devmn>	jess44: whats the url you're going to?
<juslintek>	so i would in return end up with array containing key which only contain values, no nulls, no booleans, numerical or strings not empty ones.
<jess44>	its a .onion address
<sorabji>	lol
<sorabji>	this just gets better
<jess44>	html works fine
<jess44>	so what the problem?
<jeffmjack>	how do i find out what webserver i'm using? i suspect that it's just php's built in server but don't know for sure
<jess44>	whats
<sorabji>	jess44: you aren't editing the correct file
<devmn>	jeffmjack: whats the url you're using?
<juslintek>	it would be best some function calling itself so long as the final values is not array and if the last value is empty array then it should unset key if empty string unset key
<jess44>	ok
<sorabji>	or there's some error in an auto prepended file
<devmn>	jeffmjack: is a local url or remote?
<sorabji>	or...in short, we can only guess
<jeffmjack>	mathforkeeps.com
<devmn>	jeffmjack: so thats a remote server then?
<jeffmjack>	right
<devmn>	jeffmjack: can you ssh into said server?
<jeffmjack>	godaddy with a bunch of php files
<jeffmjack>	yes
<mythril>	rrman, http://php.net/manual/en/function.password-hash.php and http://php.net/manual/en/function.password-verify.php
<mythril>	please do not store the password in plaintext anywhere
<jess44>	ive just put that bit of code it in the login.php file but it still gives the same error
<mythril>	even if it's a toy, it can only cause you pain
<jess44>	is that the correct file?
<devmn>	jeffmjack: put phpinfo() on a page and that should tell you. if its a godaddy shared host i believe it'll be apache.
<sorabji>	jess44: when you see phpinfo output, you know you did it correctly
<jess44>	login.php is the correct file, yes?
<sorabji>	jess44: i have no idea
<sorabji>	it's your system
<jeffmjack>	devmn: thanks! the console should just log the server info?
<jess44>	im trying to access /login.php
<jeffmjack>	devmn: yeah i figured apache or php builtin... there's an .htaccess file
<jess44>	ok
<jess44>	its working now
<jess44>	wrong file
<rrman>	mythril, oh awesome did not know there is such a thing!
<jess44>	php extension 	20100525  is that good?
<mythril>	rrman, http://php.net/manual/en/faq.passwords.php
<jimlei>	jeffmjack: usually the web server will respond with its name. in your browser: press f12, go to network, refresh your page, select the html/php loaded, and you should get the response headers to the right that usually contains the user type/version in the "server" key
<jess44>	theres alot of information here
<sorabji>	jess44: you're looking for mysqli
<jess44>	what am i looking for?
<jess44>	ok
<jess44>	its not there
<juslintek>	okay i almost done with the function, the thing is the last array still stays with one element which is null...
<sorabji>	jess44: you'll need to install it then
<mythril>	rrman, as a more general answer, using most equality operators for password hash comparisons leaves you vulnerable to a timing attack in most cases
<jess44>	ok
<jess44>	how do i do that?
<sorabji>	wamp?
<sorabji>	not sure
<jess44>	yes, i have that installed
<mythril>	rrman, == will return false as fast as it can determine that the two operands are not equal, which is information an attacker can use to help deduce the needed value
<jess44>	and running
<jess44>	not sure?
<sorabji>	you'll want to look at whatever documentation they provide
<jess44>	hmmmmmm
<rrman>	mythril, could you say an example, please?
<juslintek>	okay thanks for no help< i'm done with this super useful function, noone will see it.
<jess44>	is there anywere i can ask on irc?
<mythril>	will return false after comparing only 3 characters
<jess44>	anywhere
<sorabji>	jess44: ask google first
<mythril>	the timing of that can be used by an attacker to deduce the contents of the target variable
<jess44>	i cant find extension=php_mysqli.dll in the php.ini file
<mythril>	rrman, it's not about what it returns, its about how long it takes
<devmn>	11211 does not equal 11111 in value, just in type so therefore it shouldnt return true.
<mythril>	there will be a recognizable difference in the timing
<jeffmjack>	jimlei: cool, that's a great general solution.  thanks!
<jess44>	hello?
<rrman>	oh!! now got it!
<mythril>	enough that a motivated attacker can deduce the contents of the target operand
<sorabji>	jess44: we don't really support wamp here, or windows, or debian, or...
<jess44>	ok
<sorabji>	it would take far too much time.
<jess44>	where can i go
<jeffmjack>	any advice for a non-php guy trying to do some simple url routing? aka for a /thispage request, serve /thispage.php?
<jess44>	?
<sorabji>	jess44: i do not know. i've suggested google and their documentation
<jess44>	ive just tries that
<jess44>	tried
<salathe>	jeffmjack: that’s generally a web server thing, rather than a php thing
<devmn>	jeffmjack: that would be a htaccess/mod_rewrite/apache thing
<jimlei>	jeffmjack: rewriting in the web server. if apache then look into mod rewrite and .htaccess
<jeffmjack>	devmn: jimlei thanks
<rrman>	yeah totally understood. thanks!
<salathe>	jeffmjack: screw you man, screw you! *storms out*
<devmn>	jeffmjack: to be more verbose, you access example.com/somepage
<aikar>	so um, code is dying really out of nowhere on a if (is_null(false)) { line (variable... value is false). its consistently always on this line. i registered a shutdown function and breakpoint inside it to see when it jumps. i am totally stumped as to why. i tried doubling memory limit. is call stack length configurable?
<aikar>	but it doesnt look that deep
<devmn>	jeffmjack: you will have an apache rule to send that to /srv/www/public/index.php
<devmn>	jeffmjack: index.php expect /somepage as a parameter and will autoload that page
<devmn>	jeffmjack: but first you need apache to turn example.com/somepage into example.com/index.php?{request_uri}
<mythril>	rrman, https://www.youtube.com/watch?v=8ztinclxe1q
<devmn>	jeffmjack: http://stackoverflow.com/questions/6234953/how-to-modify-the-uri-routing-for-a-mvc-php-site
<jimlei>	devmn: too long since i've been fiddling with rewrite rules. don't you get the original request uri even though you go through mod rewrite?
<devmn>	jimlei: dunno. i don't use apache and havent implemented a bootstrapper in a few years.
<ilhami>	is there always a session cookie by default?
<devmn>	jimlei: oddly enough though i should be doing that to this legacy application in may.
<devmn>	jimlei: but in nginx.
<jimlei>	devmn: likewise, i think you do though. so i _think_ it's enough to rewrite it (remember [qsa] after the rule to redirect get params as well. still you should get the original request uri in index.php
<jimlei>	ilhami: php sets a phpsessid cookie when you do session_start()
<ilhami>	oh ok :)
<lindylex>	i am having problems with preg_replace not finding the followed by apostrophe.  this is what i tried http://pastebin.com/0tscuprq
<aikar>	found solution to my problem - xdebug adds a recursion limit - xdebug.max_nesting_level = 200
<jeffmjack>	lol salathe sorry man.  thank you too
<ledil>	i need a php memory profiler to track memory usage for a php cli script ... any suggestions ?
<noiseeee>	ledil: good ol' xdebug or https://github.com/phacility/xhprof
<ledil>	noiseeee: i thought xdebug is only for php websites ?
<ledil>	noiseeee: ive got a symfony task cli
<noiseeee>	nope it'll do cli stuff as well
<noiseeee>	afaik
<ph88_>	how do i check if a datetime is not longer than a month ago using the dateinterval class ?
>	folks, i know this should be a repeated question, but i'd like to ask your advice regarding the best approach to hide the db password from the source code.
<ph88_>	can i compare a dateinterval object with another using <  >  ?
<ph88_>	jack[z]: you put it in another file and then add an entry for that file to .gitignore
<jumpman>	i need to submit a post request to my site & another site simultaneously. easy to do!
<jumpman>	but the other site isn't like "a cool api", it's just another website with an actual form
<jumpman>	i... still just send a post request to the form's action value, right?
<ph88_>	yup
<juslintek>	hi, mysqli for some reason returns empty mysql error on this query:  insert into `mod_votes_competitions` set `judge_id` = 1, `competition_id` = 2, `ip` = inet_aton('xxx.xxx.xxx.xxx'), `grade` = -3, `session_id` = 'blablablablablablablabla'. in mysql itself it works.
<jumpman>	sounds good to me :3 thanks
>	ph88_: is there a - easy - way to let this file encrypted even on filesystem ?
<ph88_>	jack[z]: encryption doesn't help here
<ph88_>	you should place the file outside of the document root fo your webserver
<juslintek>	ah found error semicolon after if(!$result); :-d
<ph88_>	even if it's a php file
>	ph88_: because i would like to protect the content from other folks which has permissions -- i know that it wont secure 100% the password, but - at least - would make it difficult
<ph88_>	jack[z]: you should set the right permissions for the other users that they don't have access to this file. talk to your system administrator if you have one
<damoncasale>	afternoon all...
<damoncasale>	i'm having trouble with gd.  anyone familiar with creating an image with a transparent background?
<ph88_>	damoncasale: just ask the specific question and your code with test case, expected results, output, debug info etc
<damoncasale>	i'm using imagecreatetruecolor, and the documentation isn't clear in whether or not i can use that for images with a transparent background.
<damoncasale>	using imagecolorallocate to "allocate" a white background, then using imagecolortransparent to make it transparent.
<ph88_>	damoncasale: http://php.net/manual/en/function.imagecreatetruecolor.php first comment
<damoncasale>	do i need to fill the background with white?
<damoncasale>	urg, still getting all black.  :-/
<damoncasale>	mind if i pastebin?
<damoncasale>	got it, wrong image type output.
<damoncasale>	okay, this may be a coding error or it may be me misunderstanding how gd2 works.  in gd2, is everything measured in points, or what?
<damoncasale>	my width and height offsets are way off so i'm wondering if that's the cause.
<mrmagneto>	how can i add inline css to the replace portion of preg_replace? i tried to do preg_replace('/out of stock/', '<p style="color:red">this text is red</p>", $input) and i also tried with echo with no luck
<damoncasale>	you mean inline html?
<damoncasale>	and also, why are you using preg_replace to replace a text string?
<mrmagneto>	as opposed to str_replace? i tried that first but also had no luck so i was just hoping there was some difference with the replace portion
<mrmagneto>	and yes, i mean inline html
<damoncasale>	if you're having no luck with str_replace then something's wrong with your code.
<damoncasale>	str_replace("out of stock", "(fooblah html)", $input)
<damoncasale>	or, to use your example:
<damoncasale>	str_replace("out of stock", '<p style="color:red">this text is red</p>', $input)
<damoncasale>	note that you used a double quote at the end of your html instead of a single quote, in case that's coming directly from code.
<mrmagneto>	and the paragraph style should be applied at execution?
<jza>	hi i am trying to use a webservice but i am having issues with the code.
<jza>	aparently when i do sudo php code.php -> fails, but if i do php code.php -> win!!
<jza>	how is that possible?
<damoncasale>	your substituted string will be returned as the result of str_replace.
<damoncasale>	$result = str_replace(...)
<devmn>	jza, whats in the code? sudo might have a different include path then non sudo?
<jza>	is a webservice request
<devmn>	jza: whats the failure?
<jza>	well it returns  my nodes with missing branches
<jza>	php code.php gives [10] => stdclass object ( [blah] = > foo [bloh] => faa [bluh]=> fii )
<jza>	but with sudo it returns
<dagerik>	how to handle incompetent coworkers. saying their code is not good enough is to confrontational
<jza>	[10] => stdclass object ( [blah] = > foo [bluh]=> fii )
<dagerik>	they are using singletons and static methods everywhere
<dagerik>	and using new static. wtf does that even mean
<jza>	dagerik: you need a membership on the singletons secret society
<dagerik>	the sss
<devmn>	jza: seems to be an issue that would likely need you to post code to solve. do "php --version" and "sudo php --version" return differences?
<devmn>	dagerik: depends on the culture there. are there defined standards? is there peer review merge requests?
<jza>	devmn: yes
<dagerik>	devmn: we are five people and we agreed to follow psr2 and psr4. nothing more
<devmn>	dagerik: personally i would have a town hall and decide on team best standards.
<jza>	devmn: i can post the code, hold on: https://pastebin.mozilla.org/8831830
<jza>	the node returns 7 items but with sudo only 6
<devmn>	jza: when you said yes to my last statement about "php --version" and "sudo php --version", were there differences between the two?
<jza>	no
<jza>	both are the same version
<jza>	i switch to 0 on  soap.wsdl_cache_enabled=0
<jza>	ok seems that removing the /temp/wdsl file fixed it
<jess44>	hi
<jess44>	im having probkems with wamp
<jess44>	it wont load my login page
<jess44>	problems
<jimlei>	what happens instead?
<jess44>	this: fatal error: call to undefined function mysqli_connect()
<jess44>	mysqli extension is running in wamp
<jess44>	hello?
<spaceone>	how long would it take at least to compile php? is it doable in 15 minutes?
<sorabji>	jess44: you need to install the mysqli extension
<jimlei>	jess44: no experience with wamp, the error would suggest mysqli is not loaded though
<dustin|work>	spaceone, you mean compile from source?
<jess44>	there is a tick next to the box in extensions:mysqli
<jess44>	its installed
<jess44>	?
<spaceone>	dustin|work: what else?
<sorabji>	jess44: phpinfo disagrees
<dustin|work>	i was hoping you werent thinking your php code needed to be compiled :p
<jess44>	i wasnt using wamp then
<jess44>	i am now
<dustin|work>	but ya, 15 minutes should be plenty of time to compile it from source if your box isnt from the 90's
<sorabji>	jess44: well, phpinfo again then :)
<jimlei>	jess44: i'd suggest installing virtualbox, vagrant and just upping scotch/box. it's a proven dev platform
<spaceone>	dustin|work: okay, nice
<jess44>	its not there
<manicpanic>	is there an easy way to set superglobal environment variables with php ? something thats not limited to one script request
<jess44>	no mysqli
<jess44>	hmmmmmm
<jess44>	its says the extension is running in wamp
<jimlei>	jess44: if you've ticked some mysqli box then you might have to restart apache for it to pick up the changes..?
<jess44>	i didnt
<dustin|work>	manicpanic, sessions
<jess44>	its loaded before
<jimlei>	jess44: i'd still recommend using a vm though
<spaceone>	manicpanic: do you use apache?
<spaceone>	you can set a environment variable there
<manicpanic>	dustin|work: i want to set the environment variable , not session
<jess44>	1 step at a time
<spaceone>	using $_env
<jess44>	so whats happening???
<jimlei>	jess44: guess wamp is crap, or you have messed up something. ^^
<jess44>	i havent touched anything and wamp isnt crap
<manicpanic>	spaceone: will that make the env variable show up in phpinfo() ?
<dustin|work>	manicpanic,
<dustin|work>	http://php.net/manual/en/function.putenv.php
<jess44>	i think open element was running a server, ive turned it off now
<spaceone>	manicpanic: yes
<jess44>	but now it doesnt work at all
<jess44>	unable to connect
<manicpanic>	dustin|work: that lasts only one request
<dustin|work>	yeah just saw that
<dustin|work>	hmmm
<manicpanic>	spaceone: okay
<spaceone>	manicpanic: what do you really wanna da?
<jess44>	nothing works now. i guess open element was running the server
<jess44>	wamp doesnt work at all
<manicpanic>	spaceone: save a path to app's base directory outside webroot
<jess44>	??????
<spaceone>	manicpanic: jeah, either use a environment variable (e.g. with apache) or open a config file
<jimlei>	jess44: i can't answer any wamp questions, i can only again recommend running a vm. then you will get an isolated proper environment for your project. it's just two installs and a couple of commands away.
<spaceone>	manicpanic: setenv variable_name variable_value → either in your aapche config or in .htaccess
<jess44>	nope
<jess44>	thats not going to make any difference
<jess44>	im  not going to argue about it
<spaceone>	manicpanic: you can access this then via $_env['variable_name']
<spaceone>	and it is shown in phpinfo()
<manicpanic>	spaceone: it must be with php. when the app is installed first time it sets up the config.ini and the env variable to where the app is installed
<jimlei>	jess44: of course it will make a difference. now you're trying to run a server environment on your local machine (which obviously have failed somewhere). with a tested dev vm you get a server environment already configured that works, out of the box.
<jimlei>	jess44: but whatever.
<jess44>	idiot
<spaceone>	manicpanic: config.ini is related to the app? waht kind of app is it?
<manicpanic>	spaceone: i cant set someone elses apache with php
<spaceone>	manicpanic: can you use .htaccess?
<manicpanic>	spaceone: its holds default settings for the app
<jimlei>	jess44: now you're just being silly
<spaceone>	manicpanic: so define a defaults.ini which contain all the default values and load it?
<manicpanic>	sapceone: like i said php cant set apache settings or .htaccess
<asteele>	lol wtf jess44
<spaceone>	manicpanic: yes, but you can read files with e.g. file_get_contents()
<sorabji>	jess44: vm is the better way forward here
<asteele>	wamp creates problems like this, it gives new develoeprs a gui for something that cant really be managed with a gui.  specially not on your production servers
<manicpanic>	spaceone: that wont work. index.php has only one line require($appdir***'/init.php');
<asteele>	you are confused because theres not a simple button to fix it, but the truth is turning it on was never meant to be a simple button.  i am sure the problem is simple, but you arent even sure how to go look at your php error logs and find out because wamp made it too easy for you to run a server
<manicpanic>	spaceone: everything starts from that one line. i cant load code before that
<spaceone>	manicpanic: and what is $appdir? or do you need to specify that via env variable?
<manicpanic>	spaceone: its just example. i dunno what goes there
<spaceone>	manicpanic: which application do you use?
<manicpanic>	what you mean?
<spaceone>	what are you working on?
<manicpanic>	spaceone: it does'nt matter. all that matters is the path to the app folder outside root
<jimlei>	asteele: thank you, i was starting to wonder if i actually was behaving like an idiot, had even started to read back in the log to see what i could've said to offend him/her :p
<manicpanic>	spaceone: nevermind , i will just move the init code to index.php
<manicpanic>	arrgh! solved, should be, require('../../app/init.php');
<xreal>	i've figured out, that collecting output content in an array (1) is much faster and memory equal than concating it to a string (2): (1): foreach() $output[]; implode("\n", $output - (2) foreach() $output .= "blah\n" - can anyone verify or falsify this?
<damoncasale>	afternoon again...
<spaceone>	xreal: python is very much faster than php
<xreal>	spaceone: oh, am i in the wrong channel?
<spaceone>	no
<damoncasale>	okay, so for a true-color image, imagecolorallocate and imagecolorallocatealpha are indeed returning me integers that look like correct color values, but for some reason, imagettftext always shows a black text color.
<damoncasale>	help?
<damoncasale>	using gd 2.
<spaceone>	xreal: but if performance in php matters for you than i would suggest switching to a performant language :d
<spaceone>	php is one of the slowest languages
<xreal>	spaceone: nah... i just mean the "php universe".
<xreal>	spaceone: it's like marvel cinematic universe, there's no batman from dc :)
<spaceone>	:d
<fred1807>	this url: run.php?cmd=currentsong   , gives me all this info:http://pastebin.com/raw.php?i=bnczx2rb    . what do i have to include in this url, to get only the "file" (filename) echo in return?
<xreal>	but can anyone verify my thoughts?
<asteele>	spaceone lol based on what he showed you, you suggest python?
<asteele>	xreal i would consider that premature optimization.  if you are outputting a string then use a string.  if it makes more sense to use an array then do it.  but comparing the two for speed is a waste of good brain power imo
<jimlei>	fred1807: impossible to know without knowing what's in run.php
<spaceone>	xreal: concatenating strings is always faster when you do it with an array instead of a loop appending strings
<xreal>	asteele & spaceone: okay, thanks :)
<xreal>	since i'm working with 100.000 files right now, saving some microseconds is nice :)
<asteele>	is it really though ?
<asteele>	si ti really
<spaceone>	xreal: don't use php for such things then
<spaceone>	there are langauges up to 300 times faster
<asteele>	300 times faster at what spaceone
<asteele>	inb4 'everything'
<spaceone>	in looping stuff
<asteele>	lol
<xreal>	spaceone: it's a one-time-job
<spaceone>	dunno, i would use /bin/sh + sed + grep + sort + … for file things
<spaceone>	whatever you do
<asteele>	then why does saving microseconds master xreal
<asteele>	matter *
<jimlei>	asteele: to make up for the time spent here discussing it? though that would have to be quite a few microseconds per file
<asteele>	i swear people spend way too much time thinking about optimization, long before their application needs it
<xreal>	asteele: "feel good" (tm)
<streaky>	asteele, some people need to work at scale and should think about it long before they actually do :)
<asteele>	and usually i wouldnt care if they didnt then go and convince other people of the same crap.  and then you end up with people walking around spouting things like 'every language is faster than php, other languages are 300 times faster... at looping..''
<streaky>	best to just ignore that noise
<streaky>	i have an problem, excuse me 3 week whilst i go learn another language
<streaky>	off my lawn.
<jimlei>	it is interesting though to look at stuff like https://www.techempower.com/benchmarks/
<drakethegreat>	http://php.net/manual/en/function.ldap-search.php
<drakethegreat>	anyone have an idea why that call would return an integer
<streaky>	they're probably math benchmarks jimlei mostly
<asteele>	kind of but not really, theres way too many variables in application development for an all in one benchmark like they have to ever make sense
<streaky>	as opposed to solving real world problems
<drakethegreat>	instead of a resource identifier or a boolean false that is
<jimlei>	streaky: benchmarks are and will always be just benchmarks. they have db query tests though
<drakethegreat>	e_warning: ldap_get_entries(): 12 is not a valid ldap result resource
<manicpanic>	so string are harder to compute than numbers :/
<streaky>	i can't see how their benchmarks work but by just the titles they're fatally flawed
<jimlei>	source should be available for all cases
<streaky>	"in this test, the framework's orm is used to fetch all rows from a database table containing an unknown number of unix fortune cookie messages (the table has 12 rows, but the code cannot have foreknowledge of the table's size)"
<asteele>	but someone whos never written a big production application probably doesnt know better, and so they go and pick from the top of a benchmark list because they want their app to be as fast as google
<jimlei>	and should be more info in there on how and on what they're run ^^
<streaky>	assumes all php a) frameworks and b) orms don't completely suck
<drakethegreat>	https://github.com/php/php-src/blob/master/ext/ldap/ldap.c
<streaky>	hence, fatal flaw, next benchmark
<drakethegreat>	you'll see this call in the code at the link above
<drakethegreat>	errno = ldap_search_s(ld->link, ldap_base_dn, scope, ldap_filter, ldap_attrs, ldap_attrsonly, &ldap_res);
<drakethegreat>	ldap_search_s is deprecated and php's core is still using it
<jimlei>	asteele: yeah but if you're building a big application you probably have "that guy" that looks at you and say.. ey.. we're not gonna do that
<drakethegreat>	plus it ignores about half a dozen error codes from the openldap bindings
<asteele>	lol absolutely, and most of the people you hear trying to give you advice on speed and crap are not those people lol
<asteele>	or at leats the people who love to share their opinions
<drakethegreat>	in other words, php continues to be a joke of a language written by a group who talks about "zend" but programs via contract
<drakethegreat>	**end rant**
<jimlei>	drakethegreat: doesn't most languages have horrible secrets lurking under the carpet?
<jimlei>	drakethegreat: with node we could all just convert to javascript :)
<streaky>	zend are the worst from both ends of php, but they have nothing to do with php's ldap stuff i'd wager
<drakethegreat>	potentially but i've never ran into a language that assumes all results are perfect
<streaky>	i don't know what that means
<drakethegreat>	i remember a 5.2.x bug where the zend gc tried to deallocate a null
<streaky>	sounds like a c problem?
<drakethegreat>	sounds like a lack of experience problem with the language designers
<streaky>	lol
<streaky>	sounds like an bug
<streaky>	bugs happen, code written by people
<asteele>	theres the languages everyone hates, and the languages nobody uses
<drakethegreat>	i use python bindings that target all sorts of shared libraries with direct c bindings and i've never seen them so painfully ignore the error codes. yet in php's core they do just that
<drakethegreat>	you're right though, people do make mistakes, usually it's something understandable though
<drakethegreat>	the part i'm trying to wrap my head around is how the most recent versions of php are making c calls to functions that have been deprecated for years
<drakethegreat>	it gives me that unsettled feeling that half of the engine isn't even being tested or maintained
<streaky>	i honestly don't think many people use php with ldap
<manicpanic>	dev's need r&r too, to play with their cats
<drakethegreat>	i was planning on submitting a bug report as well but it requires a test script and i only see this problem when ldap servers are dropping the connection midstream
<drakethegreat>	@streaky true that, i figured i must be one of the few
<drakethegreat>	we use it against ms ldap none the less in a corporate environment ;)
<drakethegreat>	well was worth a shot seeing what others thought. i fixed it by capturing the return type and if it's not "resource" i just blame php hehehe
<streaky>	i haven't even glanced at ldap myself in like 10 years
<drakethegreat>	lol ya no one usually does by choice
<tgodar>	talked to radius recently, not ldap directly per se
<drakethegreat>	ttyl everyone and don't forget to check for t_paamayim_nekudotayim
<streaky>	don't get me started on that nonsense :)
<drakethegreat>	;)
<streaky>	spitting out tokens into error messages is probably the most egregious of php's issues
<streaky>	not sure if php is the only language that does it, but it can't be very common
<narutimateum>	i need some advice on working with money... i want to $125.20*1.166(rate)   the result from these what should i do? round? number format?
<xyphoid>	narutimateum: the rules for how you round money can depend on what you're doing
<xyphoid>	like for example, how much precision you keep on individual line items in an order might be quite important - you can get differences in a final total depending on whether you round tax amounts per-line or per-invoice, etc
<narutimateum>	xyphoid:  usually when dealing with money.. do you round each time you calculate like subtotal -> ratea ->rateb -> sum -> grandtotal  round evertyhing or round only grandtotal?
<fas3r>	hello
<fas3r>	with pdo i need to use "commit()" only when i do modification in the database, i don't need to do it on a select ?
<happy_the_exceed>	fas3r, commit() isn't necessary.
<willyham>	hey guys
<happy_the_exceed>	fas3r, commit() is only needed if you are using database transaction mode.
<happy_the_exceed>	fas3r, http://wiki.hashphp.org/pdo_tutorial_for_mysql_developers  here, a tutorial that explains this.
<willyham>	can you openly use the twitter api to get tweets on a global scale
<willyham>	not just the individual user
<fas3r>	happy_the_exceed: i do use transaction.
<happy_the_exceed>	then you need commit.
<happy_the_exceed>	or the code will simply not run
<happy_the_exceed>	fas3r, use transaction for write/changing/updating operations. not for simple reads such as select.
<fas3r>	happy_the_exceed:
<fas3r>	damn .. you know thanks for that reminder :d because actually i forgot to put the begintransaction() ...
<happy_the_exceed>	fas3r, you should question yourself: "why am i using transactions in the first place?"
<happy_the_exceed>	i have yet to write any php code that uses begintransaction();
<fas3r>	happy_the_exceed: thanks, it's working.
<happy_the_exceed>	cool.
<spaceone>	can somebody explain https://github.com/php/php-src/blob/fc33f52d8c25997dd0711de3e07d0dc260a18c11/ext/standard/php_rand.h#l45 for me?
<spaceone>	if i execute this i will get a large number
<spaceone>	e.g. if __n == 1804289383; __min = 0; __max = 62
<spaceone>	i will get 3413968
<spaceone>	which is larger than __max
<spaceone>	(__tmax is 1<<15)
<tapout>	for you windows users, what do you guys use for code snippets / for managing them ?
<dustin|work>	what do you mean tapout?
<dustin|work>	like gists? or what
<tapout>	macos has : http://www.shpakovski.com/codebox/
<tapout>	wondered what other windows users used
<tapout>	outside of phpstorm :)
<dustin|work>	ah, i use https://gist.github.com/
<tapout>	oh brilliant, thanks bro
<sorabji>	there's yasnippet
<dustin|work>	if you use sublime text, it's got some snippet managing plugins too
<tapout>	my buddy uses codebox and has it all organized.  where i work on windows, i wanted something portable.  my phpstorm, i haven't found a way to sync the snippets between desktop/laptop
<sorabji>	should be part of your editor's configuration, which should be under vc and easy to pull down to whichever machine you're working on
<horsik>	boy, phpunit is a trainwreck
<sorabji>	cool story :)
<akk>	need dollar sign escaping help: i'm reading values from a csv file with fgetcsv, then printing them.
<akk>	some fields have a dollar sign, and the dollar sign and whatever follows it is being treated as a variable and printed as '' instead of what was in the csv file.
<akk>	i'm not sure how to tell whether the substitution is happening during fgetcsv, or during print (like how to debug the value that was read in other than printing it).
<sammitch>	akk: that should not happen unless you're doing something silly like re-interpreting the string via eval()
<sorabji>	akk: can we see your code?
<akk>	let me pastebin a subset of the code, so you don't have to wade through the whole file.
<akk>	one other thing i've just discovered: it doesn't happen on my debian sid machine, only on the isp we're using for the real site.
<akk>	so it might be a php bug that has since been fixed ... maybe?
<sammitch>	or your isp is shady
<sorabji>	let's see the code before we start imagining bugs in core :)
<akk>	http://pastebin.com/liquxhsn
<akk>	i think that includes all the relevant code.
<sammitch>	looks reasonable to me
<akk>	$event["event description"] is an ugly long string that includes a bunch of embedded html and, occasionally, prices, like '$20 or $16 for members'.
<akk>	the prices aren't showing up (on the webserver, but do on the server on my local machine).
<akk>	on the webserver it's running inside wordpress, but i don't think that's relevant (i hope not).
<dietdrk>	i started playing with ?> <html> <?php .... ?> <more html> recently.
<dietdrk>	might it be bad practice?
<sorabji>	dietdrk: php is a templating language. just make sure you're only putting template logic in there
<dietdrk>	<input name=" <?php echo $name ?> " placeholder"words">
<dietdrk>	does that count?
<sorabji>	akk: nothing jumps out at me.  can you replicate it anywhere other than the funky wordpress server?
<sorabji>	dietdrk: that's what it's for. you might consider using the short echo tags
<dietdrk>	good to hear it's not terrible practice. thanks.
<sorabji>	<?= $name ?>
<akk>	sorabji: unfortunately i don't think that server will let me run the php file directly ... let me try and see.
<dietdrk>	i might hold off on that until i'm more comfortable mixing the two together.
<akk>	oh! it will! sorabji, you're right -- outside of wp it works, so this is something wp is doing.
<dietdrk>	another practice i have: function return_login_form(){ include('../includes/userlogin.html');}
<sorabji>	dietdrk: bad bad
<dietdrk>	my ide will link that file automatically, so i started to do it.
<dietdrk>	i think it's a small step up from return file_get_contents('../includes/userlogin.html');. what should i be doing?
<sammitch>	dietdrk: oop, psr-4, composer. :i
<sorabji>	just include the file where you need it
<dietdrk>	sorabji: bah. that makes much more sense.
<dietdrk>	i actually spent quite a few hours looking at how to include objects into one file.
<sorabji>	objects?
<dietdrk>	class, sorry
<dietdrk>	but finally, it feels like i'm actually just translating it directly over.
<sorabji>	one class per file
<dietdrk>	maybe i could share the page and get a little input?
<sorabji>	sure
<dietdrk>	i'm still working through this making it a bit nicer. i hope it can be understood as-is: http://pastebin.com/h2ycxsbn
<dietdrk>	pid= pseudoid, the id number of the row referenced shown to the user. the actual id is always hidden.
<dietdrk>	perhaps there is a common-language vocab word to describe this concept.
<sammitch>	what the hell? https://github.com/php-fig/fig-standards/blob/master/proposed/psr-8-hug/psr-8-hug.md
<fred1807>	whatever i make this: shell_exec('sh playlister.sh /dev/null 2>/dev/null &')    (a shell script that load music playlists on mpd). my php server crashes. i am not sure if this is because i should not be calling .sh this way, or if it just a php -s glitch
<fred1807>	*php builtin server
<sorabji>	dietdrk: look into oop and dependency injection
<dietdrk>	i've spent like 8 hours looking at this code and oop and accelerating cars
<dietdrk>	maybe i just don't get it enough to use it correctly here.
<sorabji>	where did you use it at all?
<dietdrk>	i was trying to figure out how to do it. i wrote a lot of it up, but it felt like i was just using classes functionally
<dietdrk>	like it says on ircmaxell's blog
<dietdrk>	his example shows callbacks, and that's a bit much for me
<sorabji>	also, if you control the server, put ini settings there rather than in code
<dietdrk>	which ini settings?
<sorabji>	error_reporting, ini_set
<dietdrk>	ahh. the errors. sure
<sorabji>	start using classes, use composer and autoloading
<dietdrk>	that's the thing. with classes it ended up looking the same
<dietdrk>	i basically put all the functions from supplierfunctions.php into a big class
<sorabji>	look into mvc, a front controller
<dietdrk>	and then did the same thing
<dietdrk>	the only difference was how variables were passed to each other
<sorabji>	that's a failing in how you implemented it rather than oop itself
<dietdrk>	yep
<dietdrk>	(9:02:30 pm) dietdrk: maybe i just don't get it enough to use it correctly here.
<sorabji>	that's a sign you should spend more time researching/learning
<sorabji>	don't just write more code
<dietdrk>	i spent about 6 hours reading up on it
<akk>	gotta go, but thanks, sorabji ... i passed it off to our wordpress person to try to find a way to get it not to do that substitution.
<dietdrk>	2 hours implementing.
<sorabji>	it's going to take a lot more than 6 hours to grok oop
<dietdrk>	it'll have to wait for another day, then.
<sorabji>	okay
<sorabji>	best of luck :)
<dietdrk>	thanks!
<delboy1978uk>	any of you guys using codeception?
<delboy1978uk>	how do i test that my object throws an exception when i pass garbage in as an argument?
<__adrian>	pass garbage as an argument, see if it throws.
<__adrian>	is there something more to this question?
<jimi_>	i'm gonna put that pussy on a chain wax then /join #mysql
<jimi_>	fuck
<jimi_>	ignore that please
<delboy1978uk>	lol it was setexpectedexception not assertsomething :-p
<__adrian>	delboy1978uk  not sure what you mean?
<__adrian>	ah, you're asking about phpunit?
<ocb>	does anyone know how can i submit $_post['sometext'] from file1.php to file2.php automatically on redirect without pressing submit button? http://pastebin.com/ckw6vtxa
<ocb>	maybe a noob question... but need some help
<__adrian>	ocb  is there a reason you're not submitting the form to file2 in the first place?
<ocb>	__adrian: i want to submit data from another variable from a code, let's say i have $variable = "1"; and i want to submit it to file2.php using $_post and echo it there
<__adrian>	ocb  and are these files both on the same server?
<ocb>	same server
<ocb>	same directory
<__adrian>	ocb, i understand your question.  is there any reason that you cannot submit the form directly to file2?
<__adrian>	because that's the simplest solution.
<ocb>	because there is a message that will show, i have step1.php step2.php step3.php .... step8.php
<fred1807>	why this is crashing my php builtin server?? <?php shell_exec('sh script.sh /dev/null 2>/dev/null &');?>
<ocb>	and in each of those some info will show for the user and will redirect in 10 seconds after showing the info
<ocb>	the code is still in testing, i will probably reduce it to 4-5 steps
<ocb>	nice
<ocb>	:(
<fred1807>	i mean, i hope the .sh script once started, has nothing to do with the web server
<ocb>	why not just start it with sh script.sh& why the /dev/null ?
<__adrian>	ocb, this sounds like a not-good plan.  if you really need to submit to file1 and have file2 handle it, i would suggest using mod_rewrite (or the equivelent on whatever server you run).  alternatively, depending on what you're doing, simply including the file might work just fine.
<ocb>	hmmm i see
<__adrian>	if you want to display several things in succession, you also might consider using ajax.
<fred1807>	(btw the script runs fine)
<ocb>	i will try with the including the file, not good in ajax but i will read out. thanks for you extensive answer __adrian
<__adrian>	but what's best would depend entirely on what you're actually trying to accomplish.
<__adrian>	np.
<ocb>	:))
<__adrian>	if you want to explain further, this really does sound like something that has a simpler solution.
<ocb>	i'll try 1 minute
<__adrian>	np
<ocb>	so i have $variable = "some text goes here" in a code, and that $variable value is populated from a random string generating function, all this is done when file1.php laoded. so, now i need to send value of $variable through $_post to a file2.php which will echo the $variable from file1.php, note that the key generated in file1.php is generated randomly, and writing in database does not come in solution.
<ocb>	there also mustn't be a form, because i have a meta http-equiv refresh after 10-15 seconds the page loaded to redirect to file2.php
<__adrian>	why the delay?  what is shown on file1 in the meantime?
<ocb>	information about order
<ocb>	well, it must be like that :)
<ocb>	i know it's not how it should be done, but the client specifically wanted it like that
<__adrian>	why redirect automatically?  shouldn't the user decide when the are ready to proceed?
<ocb>	yeah.... he should... but that's how he wants, because that is not the final info of the order
<__adrian>	if you're doing web dev, part of your job is to explain things like that to your client.  clients are dumb.  that's why they hire devs.
<ocb>	:))) well, true
<__adrian>	http://php.net/session_start
<ocb>	session?
<__adrian>	^--- sessions are for keeping state between page requests.
<ocb>	hmmm that would be good
<ocb>	so making it $_session['var'] = $variable;
<ocb>	and just loading it on step2.php?
<__adrian>	you should probably do a little more than that, e.g., making sure pages are accessed in the correct order, and so forth.
<__adrian>	better would be to have only one page, which simply chooses which step you're at depending on what was submitted and the progress thus far.
<ocb>	ok thanks __adrian i will do with sessions and take care about that.... this is just making some code, there will be a month testing it later
<ocb>	aham understood
<ocb>	ajax would be good but need to learn it
<ocb>	i know how handy it comes in such situations
<__adrian>	it's not difficult.  most js libraries include ajax methods, which make it easy.
<__adrian>	but what i'm really suggesting is serious thought and planning about how your whole process is managed.  :)
<ocb>	:))
<ocb>	yeah, i planned but there is so much hard code in this
<ocb>	:))) thanks
<__adrian>	if the code is hard it's because you have more planning to do  :)
<__adrian>	you're welcome
<ocb>	:))
<scar>	if all i have is a non-zero prefix number for the month (1-12) and a 4 digit year, what is the best way to format this to use strtotime? i've had issues before where it mixes up the month and date, so i figured i'd check in
<z1haze1>	wouod anyone share with me the concept of how one might create a sniper service like an auctio sniper for ebay, but i will be using it for something else. just curioushow it works
<raymond>	you use curl, or some other http library to rake the site for the listing watching the time and price.
<raymond>	once there are "seconds left" you put in what you think will be a winning bid.
<raymond>	if you are outbid, you do it again, until you're the top bidder.
<sorabji>	z1haze1: you can find the full source for some on github
<z1haze1>	im not trying to make a bidder just i think the concept is the same
<raymond>	sounds like an xy problem.
<z1haze1>	i want to make a username sniper that people can secure usernames when thet become available. ive written my own api and i made a function that gets me the unix timestamp ofcwhen its available
<z1haze1>	i just dont understand the logic behind makingmmy scripts run at that time and being able to accumulate several and it beautomated
<raymond>	somewhat similar.
<z1haze1>	how do i make a script run at the time i want?
<sorabji>	it sounds like you want it to be running all the time
<raymond>	z1haze1: you need to look and writing a daemon
<raymond>	z1haze1: and i'm not so sure php is your best choice for such an application.
<raymond>	but... ymmv
<z1haze1>	ymmv?
<raymond>	+g z1haze1 ymmv
<z1haze1>	well anyway what language would u suggest? it just needs to read from mysql is where im going to store the infirmation
<raymond>	i used to use perl for that, today i tend to use python.
<z1haze1>	thanks. tjis may be beyond me. i only 'know' php and i dnt know it that well. i learned veey basic perl in school tho
<z1haze1>	well that stinks. it seemed like it would be cool
<sorabji>	which site were you planning on sniping usernames from?
<z1haze1>	mojang
<sorabji>	ahh :)
<z1haze1>	names become available 37 days after released
<z1haze1>	can u help?
<sorabji>	any of us here can help if you have something specific you're stuck on
<raymond>	i doubt any of us have the free time to "do it for you".
<z1haze1>	how to take a timestamp from a stored row in a table, and exexute a php script that runs some curl calls
<raymond>	z1haze1: that you need to figure out. we'll help with *specific* issues.
<z1haze1>	that is specific
<sorabji>	z1haze1: at a high level you basically do what you just said. read the row, execute a function
<z1haze1>	yep
<raymond>	z1haze1: no, it's not. which means this is probably beyond your scope/skill set.
<z1haze1>	i already admitted that raymond no need to rub salt in the wound
<sorabji>	so work on how you're going to read data from your database
<z1haze1>	but yea at a very high level i want to read a row, and execute a function at a time from timestamp column
<z1haze1>	with  a pdo object i have that covered
<sorabji>	it might be easier if instead of thinking of running the function at a particular time
<raymond>	wow... just, wow.
<sorabji>	you continually check until it is time to run
<asteele>	z1haze1 you arent getting the simplify part, let me help you with the first step.  you say you have pdo and have that covered.  does that mean you are successfully pulling data our of the database as needed for step 1 'read a row'
<z1haze1>	so run a cron task that basicallyncompared now() against my stored time, then do stuff its withtin whatever threshold i ser?
<sorabji>	yes
<z1haze1>	what if i neex second precision?
<z1haze1>	sorry for my typos im using a surface tablet its difficult
<z1haze1>	thats a great idea
<z1haze1>	but im still stuck with crontask that only runs every minute right?
<sorabji>	do you know what a daemon is?
<raymond>	if you *need* sub minute precision you need to write a daemon.
<z1haze1>	im afraid i dont
<z1haze1>	guess i need to though
<sorabji>	google is your friend :)
<z1haze1>	indeed
<sorabji>	as has been pointed out, php isn't the best choice for writing these things
<z1haze1>	well this is a start
<z1haze1>	how come? im quite new still to programming and all.. what makes one better than another?
<sorabji>	php was built to handle short lived web requests
<jza>	i have the following code, it grabs a soap webservice and display a timetable of the routes from a transportation company, however there are 'empty' roads. what i want is to insert a conditional that will skip if the route has no active trips.
<jza>	https://pastebin.mozilla.org/8832427
<z1haze1>	so as he suggested, ill need to learn python for this?
<jza>	my question goes a bit since on the code the trips are not called but after the routes are define, how can i add a conditional that will check if there are trips available?
<sorabji>	z1haze1: python is one option, yes
<raymond>	jza: how about you post just the section you have  question regarding?
<jza>	s/called/defined/g
<jza>	sure
<z1haze1>	can you send post data requests with this python
<sorabji>	of course you can
<raymond>	python has a curl library.
<raymond>	z1haze1: but, as i'm sure you can imagine, this is not the proper place for python questions.
<sexyken>	can anyone help me out with this regex?  it does almost what i want it to do, but i'd like the 'http' or 'https' to match regardless of the case (http would match the same as http)  "preg_replace( "#{[0-9]}#", "(.*?)", "http(?:s)?://(www.)?youtu.be/([\d\w-_]+?)" )"
<z1haze1>	seems so daunting to learn an entire new language. i barely know this one
<jza>	raymond: here you go https://pastebin.mozilla.org/8832428
<raymond>	welcome to being a programmer.
<z1haze1>	maybe ill try with php just to see where it leads me
<raymond>	sexyken: have you tried http://regex101.com/ ?
<jza>	raymond: the routes are $obj and the trips are $hor
<sorabji>	sexyken: that's three regexes?
<jza>	they are set on line 3, 8.
<raymond>	jza: i'm one those who finds it bad form to to mix php logic and html as you have but, ok.
<raymond>	jza: so you want to know if there is nothing in $obj->precio?
<jza>	if there is no $hor, then $obj shouldnt display
<jza>	basically is a bunch of titles and tables, the route is on the title, the table are trips. if there is no trips, the title shouldnt show up.
<sorabji>	count($obj->listhorarios->itemhorariocorrida) ?
<jza>	maybe i could do this with jquery on the frontend, but i am curious.
<sorabji>	ideally you'd filter these out before you sent them to this template
<raymond>	jza: i think sorabji has it.
<jza>	so, i need to rework the whole code?
<raymond>	sexyken: you example is broken, get us something that's workable.
<raymond>	jza: i would say "yes".
<jza>	ok, then i should do this on the frontend.
<sorabji>	jza: at the least you need to wrap the $obj display in an if block that checks the trip count
<sorabji>	you also might benefit from using php's alternate syntax in files like this
<jza>	yes i was thinking something like that, but since i still havent defined the trip ($hor) i wouldnt be able to call it.
<sorabji>	the array of them is reachable through $obj
<jza>	i wanted to instantiate all the xml objects but i got thrown a book on pattern design that got me completely lost
<jza>	:)
<sorabji>	that can happen :d
<asteele>	sometimes you have to know when to say no, ive been saying no to regex for 10 years now and have no plans on changing
<asteele>	:)
<exounx>	good morning
<exounx>	so i'm just learning on how to pull information from table using pdo
<exounx>	now my question is how to only pull so much per page
<sorabji>	pagination?
<exounx>	talking to me?
<sorabji>	yes
<exounx>	idk what pagination is
<exounx>	quick google though told me
<exounx>	yes that seems about right
<sorabji>	awesome :)
<exounx>	http://www.phpro.org/tutorials/pagination-with-php-and-pdo.html
<exounx>	that looks pretty good
<exounx>	what do you think?
<sorabji>	seems to be doing a bit more than simple pagination
<fleetfox>	it's awful if you ask me
<exounx>	well have a good tutorial then that's secure and elegant?
<exounx>	does someone*
<sorabji>	i'm not sure what part isn't clear now?
<exounx>	well i want to see script and explanations of clean and secure code for pagination
<exounx>	examples*
<exounx>	does anyone have a good link for that?
<fleetfox>	nope
<exounx>	ok
<sorabji>	we try and help you write code, rather than link to ready made scripts
<exounx>	well that's appreciate as well
<exounx>	i'll post my results page here in a moment
<exounx>	http://hastebin.com/osujifenib.coffee
<sorabji>	you don't want mix html with code like that
<sorabji>	want to*
<exounx>	wouldn't i have to break each function into an individual script though?
<sorabji>	there will be more than one file, yes
<exounx>	sorabji, any ideas on what to do?
<sorabji>	what's the problem?
<exounx>	let me redo what i can and show you where i'm a bit confused
<fleetfox>	exounx: what's the point of two iterators? :dd
<fleetfox>	do you come from java or something? :d
<exounx>	python :d
<exounx>	how do i break up the functions?
<fleetfox>	sack your iterator thingy
<fleetfox>	and include tempalte that renders ther rows
<exounx>	so is there a good way to render the output?
<exounx>	i'm very new with php so what you see is pretty much what i've learned so far
<fleetfox>	if you don't want to use templating engine, just use some html and shorttags
<fleetfox>	<?=$var;?>
<fleetfox>	if you know python why don't you stick with django? :)
<exounx>	i don't like taking the easy way out
<exounx>	i'd rather learn php
<exounx>	than extend what i already know
<exounx>	i set a goal, as you can see isp complaints, want certain features
<exounx>	read documentation, examples, guides, and irc chat
<exounx>	to help me learn
<fleetfox>	that's all nice, just watch out for disappointment
<exounx>	i haven't been disappointed so far
<exounx>	i enjoy hitting road blocks and struggling to get to the next step
<exounx>	helps me asbord the code much better
<exounx>	absorb*
<exounx>	i'll write something up
<exounx>	and see what you think and where i should go next
<fleetfox>	exounx: don't get me wrong i have nothing against learning, it's just that i feel python is equivalent or even better at web apps than php. so if you want to learn something new i'd go with different language.
<gintt>	localhost/phpmyadmin ,show error :the mbstring extension is missing. please check your php configuration.  centos6 os
<cheeti>	how to upgrade fckeditor?
<darsvaeda>	by goint to their homepage and not asking in an unrelated #php channel :)
<darsvaeda>	gintt, ask #phpmyadmin
<darsvaeda>	but the error is pretty obvious
<gintt>	ok
<darsvaeda>	ask the channel if you can still use phpmyadmin if you don't have the extension otherwise you will have to install it
<fleetfox>	gintt: install multibyte extension
<gintt>	fleetfox: what's multibyte ?
<fleetfox>	http://php.net/manual/en/book.mbstring.php
<lost123>	anybody using nginx here? i am not able to purge cache, i have deleted the cache directory but no use
<lost123>	any suggestions?
<alwayshigh>	is there anyway to use get[] to return a dynamic page so i could have website.com/firstpage instead of website.com/index.php?action=firstpage
<jzp113>	hi how to find the file where is include( function_path."redr.renew_verify.php" );
<fleetfox>	alwayshigh: mod rewrite
<jzp113>	i don't know which folder
<darsvaeda>	alwayshigh, google "url rewrite" for your server how to set it up
<mackan90096>	hi. why is there like, a million different ways to do the same thing in php?
<fleetfox>	mackan90096: it's not that bad, take a look at perl
<gintt>	fleetfox: no mbstring  here ?
<fleetfox>	what?
<cheeti>	how to upgrade fckeditor?
<walkeralencar>	wow, a lot of ppl
<alwayshigh>	fleetfox, darsvaeda, wouldnt rewrite just remove my index.php and leave website.com?action=firstpage  ?
<mackan90096>	also, what would be the best way to connect to a irc server in php?
<jzp113>	somebody know that?
<fleetfox>	best way would be not to use php
<fleetfox>	jzp113: dump function_path.
<jzp113>	fleetfox, how about that redr.renew_verify.php?
<jzp113>	it's a real file? i mean it's look strange
<fleetfox>	?? that's the filename
<mackan90096>	oh, question, how does the $_get[]; work?
<flynnn>	how does this know the name of my computer? http://www.iterm2.com/images/mark.png
<fleetfox>	lol
<alwayshigh>	mackan90096, $_get[] refeers to a value made in the url
<alwayshigh>	website.com/index.php?action=firstpage
<alwayshigh>	like that
<flynnn>	wherein $_get["action"] == "firstpage"
<alwayshigh>	$_get['action'] = "firstpage"
<mackan90096>	alwayshigh, yeah, i know. i'm wondering how it reads the value from the url
<alwayshigh>	well it will check anything after the ?
<fleetfox>	yes, it contains unmangled querystring
<alwayshigh>	and multiple $_get[] values are split by a &
<mackan90096>	i know, i use php.
<alwayshigh>	then why are u asking
<flynnn>	mackan90096: what exactly is it that you want to know? you need to be specific.
<mackan90096>	because i'm wondering how php checks the address bar of the browser
<flynnn>	mackman90096: the browser sends the address bar to the server so that the server knows what to send back
<fleetfox>	it doesn't webservers parses http request
<alwayshigh>	^
<flynnn>	mackman90096: literally, that is the purpose of the address bar -- to be sent to the server so that the server knows which of its subdirectories (or sub-services, or whatever) to run.
<mackan90096>	right. thanks.
<flynnn>	more formally, this is how the http protocol works -- it starts with a request uri, which is the latter half of a url. the first half is which server to send the uri to.
<jzp113>	fleetfox, how to find function of renewcode which in this file https://bpaste.net/show/117af38bd13c
<fleetfox>	use grep
<zro>	why can't i chain __invoke with just () ? http://sprunge.us/buiv?php
<fleetfox>	hmm
<fleetfox>	php > $f = function() use (&$f) { echo 'call'; return $f; };
<fleetfox>	php > $f()();
<fleetfox>	php parse error:  syntax error, unexpected '(' in php shell code on line 1
<fffuuul>	php > echo "hello wörld!";
<fleetfox>	appears to be parser limitation, nothing to do with invoke
<fffuuul>	pff, appears to not working
<fffuuul>	:p
<fffuuul>	##js has such a bot :3
<fleetfox>	zro: https://wiki.php.net/rfc/fcallfcall
<fleetfox>	and that explains nicely why it's not there at the moment
<zro>	well look at that! thanks, fleetfox !
<unopoo>	i'm wondering, why mail() function doesn't require a parameter for the sending email account's password?
<fleetfox>	what accounts password
<tinodidriksen>	unopoo, local smtpd usually doesn't require any password. it is assumed local users on the trust list are allowed to send mail.
<tinodidriksen>	if you're already logged in or running as a local user, there's no point in 2nd auth.
<unopoo>	tinodidriksen: oh, then it's safe to change the account's password and the functionality of my existing mail() won't be influenced??
<tinodidriksen>	correct
<djjeff>	116.226.38.156 - - [04/may/2015:22:16:09 -0700] "get /ahah/aha/ah.php http/1.1" 302 - "-" "-"
<djjeff>	anyone have any ideas as to what this is?
<djjeff>	someones idea of a joke?
<asteele>	if so it worked
<djjeff>	i redirect all 404 to http://www.fbi.gov/<requestedpage>
<alyx>	is there a way to inject additional variables into a function? (e.g, i want to call x($a, $b) but i want x() to have access to $c)
<fleetfox>	you can't modify siganture of existing function
<djjeff>	https://bpaste.net/show/e6ad56f7dea6
<djjeff>	this is how you do it baby....
<alyx>	is there any other way to make the variable available?
<fleetfox>	alyx: this sounds like xy problem
<asteele>	alyx function() use ($localvar, $localvar2, $etc) { }
<alyx>	oooh that's cool
<alyx>	fleetfox: xy problem?
<patabugen>	alyx what about http://php.net/manual/en/function.func-get-args.php ? (or php php5.6 has ...$params )
<fleetfox>	http://mywiki.wooledge.org/xyproblem
<xyphoid>	i always feel worried when this problem comes up
<asteele>	it is useful when you are using an api that uses closures sometimes
<dietdrk>	i want to insert some html as a variable:    $action= ?><form> <?php ;
<p4trix>	heillow, would someone recommend guzzle? or is it better to make the request it myself with
<p4trix>	curl?
<asteele>	yes, use guzzle
<p4trix>	thx man
<p4trix>	is there a decent library outhere for rest client / server?
<dan2k3k4>	sprintf with named variables ? (and using the variables multiple times ?)
<p4trix>	sprintf("asdf %s asdfjñ %s", $variable, $variable) ?
<adsc>	p4trix: most php frameworks have some kind of rest library/bundle, yes
<adsc>	p4trix: don't know of a standalone one, though
<p4trix>	i was looking for something like guzzle for rest webservices.
<p4trix>	i ll make it myself then
<p4trix>	thx adsc
<adsc>	well, you should search first
<fleetfox>	what's wrong with guzzle as client?
<p4trix>	as client its cool
<adsc>	just because i don't know one doesn't mean it doesn't exist
<p4trix>	i need the server
<fleetfox>	https://apigility.org/
<p4trix>	very nice. thank you sir fleetfox
<morfin>	strange
<morfin>	oops i forgot to scroll
<jzp113>	hi guys
<morfin>	php can't chain calls
<fffuuul>	*yet
<morfin>	lol
<fffuuul>	what you laughing at
<morfin>	everybody have that
<morfin>	but php is old but still can't
<bittarman>	php can't chain calls?
<bittarman>	you mean like, $foo->this()->that(); ?
<fffuuul>	more like foo()()
<bittarman>	eww, why you'd even want to do that is beyond me.
<darsvaeda>	grab(.)(.) ?
<fffuuul>	or b('o')('o')('b')->s
<fffuuul>	darsvaeda: how is that valid syntax
<fffuuul>	at least try!
<darsvaeda>	nevermind...
<bittarman>	http://3v4l.org/q2fw3
<bittarman>	http://3v4l.org/q2y2j
<fleetfox>	https://wiki.php.net/rfc/fcallfcall
<bittarman>	its a wonderful way to write unreadable code...
<bittarman>	it being missing would not be a terrible thing at all :d
<fleetfox>	it may be handy for some forms of dsls
<fleetfox>	i hate the whole "it's bad feature because it may be abused" argument
<fffuuul>	php is bad because it may be abused
<bittarman>	fleetfox, it cannot be used in even that usecase without making things unreadable.
<bittarman>	i'm not saying it may be abused, only that, its sucky *any* way its used.
<fleetfox>	it should be there just for consistency
<asdpew>	hey, i have question for you guys. maybe somebody can't point out some references or have been using. in general i want to track user activity inside php application. for example i have two links(a and b) in index page and if user click any of those links i want to store what he clicked a link. any idea's?
<adsc>	use something like google analytics
<cojabo>	asdpew: piwik or owa if you don't want to sell your users' souls.
<cojabo>	but either way, just use something premade..
<bittarman>	!+recommend
<php-bot>	no, we cannot recommend <whatever you asked about>. we're here to help you write php code, not spend hours arguing the relative merits of a versus b. we won't recommend packages, libraries, scripts, sites, languages, version control systems, or sports teams; our only recommendation is that you please take your recommendations questions elsewhere (e.g.,  https://softwarerecs.stackexchange.com/)
<asdpew>	cojabo: thanks i will look at it :)
<jim87>	hello! i'm using slim framework and i need to store some variables in a middleware to use them in the routing... i tried adding a "variables" attribute to the $response, but it seems to be protected and i can't add it. any hint?
<fffuuul>	jim87: what is $response????
<fleetfox>	http://dev.slimframework.com/phpdocs/classes/slim.http.response.html
<jim87>	exactly
<jim87>	in particular i'm using slim 3.x branch
<darsvaeda>	jim87, #slimphp
<jim87>	thanks, didn't catch the chan name :)
<xebra>	hi, i have an object that has a method like this, $object->getwhatever(), but that method is not present in the object's class, nor in its parent classes. what should i look for, to find its origin? thanks
<fleetfox>	look for magic methods i guess
<jim87>	xebra: search for "function getwhatever" in your source files, case insensitive
<fffuuul>	__get() method?
<jim87>	or magic methods, too
<xebra>	yes, it's __get i guess. i just didn't understand those magic methods. thanks.
<hoyt>	hi, why is this code returning "9999"? http://pastebin.com/jug6rfyh
<hoyt>	anyone please take a look?
<josefde>	hey guys. why is my xml parsing not working? could anyone help me with this?: http://pastebin.com/z9ztymjj
<jim87>	hoyt: what is the expected output?
<fleetfox>	what does it say
<hoyt>	jim87: "99", why does it match multiple times ...
<fleetfox>	use domdocument
<hoyt>	jim87: just trying to understand the behavior ..
<josefde>	i expect the output "13a79ac8-c43d-4bb1-b031-4ce2309cfcb9", instead it returns null
<fleetfox>	josefde: i don't think you can just access arbitrary element like that
<jim87>	hoyt: ([0-9]+)|. means pretty much everything
<jim87>	it means a number or whatever
<josefde>	can you improve my code please?
<bittarman>	josefde, no, you improve it yourself, please don't ask people to do your work for you.
<bittarman>	go to the simplexml docs, and search for xpath.
<josefde>	yeah..
<hoyt>	jim87: oh i get it
<hoyt>	jim87: it replaces whatever it finds
<jim87>	yep, also you're not using groups in your code, so the round parenthesis are pretty much useless there
<fleetfox>	is there a way to disable ipv6 at runtime?
<allenjb>	fleetfox: what exactly do you mean by "disable ipv6"? what is trying to use ipv6 when you don't want it to?
<fleetfox>	yes
<fleetfox>	nvm, i just disabled it on system level
<fleetfox>	something is wrong, but i don't care :p
<plushwork>	what should i set so the unhandled thrown exceptions are not printed out?
<nilson>	that ajax thing was pretty neat
<nilson>	but i gotta get off irc for real now. haha
<nilson>	work is too soon
<fleetfox>	plushwork: turn of display_errors
<bittarman>	plushwork, display_errors
<allenjb>	plushwork: display_errors to false, or use set_exception_handler to handle them in your own way (eg. if you want to email them)
<fleetfox>	f
<ermajn>	hello, i'm having problem to add to my url string ampersand.. is it option to see '&' in url instead '&amp;'
<ermajn>	because google analytics does not handle it well
<tinodidriksen>	& needs to be &amp; if it's in a html document.
<tinodidriksen>	(or xml)
<ermajn>	tinodidriksen, so, when i do mouseover on my link in html, in url i see '&amp;'
<tinodidriksen>	so for src="" and href="", you must turn & into &amp; ... but for curl() you must not.
<ermajn>	is that ?
<ermajn>	is that ok?
<naktibalda>	ermajn: is there any chance that you are double encoding?
<tinodidriksen>	mouseover isn't authoritative. look at the source.
<tinodidriksen>	and yeah, it sounds like double-encoding.
<tinodidriksen>	&amp; would turn into &amp;amp; if you double-encode.
<ermajn>	yup, it is double encoded...
<fedora_newb>	 if the namespace is "use postmark\postmarkclient; $client = new postmarkclient("token");" and you wanted to attach it to a object creation, you could use $client = new \postmark\postmarkclient("token");? i keep getting class not found
<fffuuul>	fedora_newb: what? why do you want that if you did the "use postmark…" thing
<fedora_newb>	i am trying the original setup with use and then without. both ways i get the follow error: fatal error: class 'postmark\postmarkclient' not found in
<naktibalda>	i thought that you only got error in one way
<naktibalda>	fedora_newb: a) have you got that class? b) do you use autoloader?
<fedora_newb>	naktibalda, yes i see the class in its vendor dir and i do require the autoloader in the index.php
<fedora_newb>	codeigniter
<naktibalda>	composer's autoloader?
<fedora_newb>	yes
<fedora_newb>	require_once './vendor/autoload.php';
<naktibalda>	have you run composer install?
<fedora_newb>	yep
<fedora_newb>	if it helps, this is what i am trying to use http://developer.postmarkapp.com/developer-official-libs.html#php
<__adrian>	df00z  your main "app" can be a provider for things like the db.
<wfpkhc>	and gives __adrian a big hug as well
<df00z>	this is like the tiniest web app, permanently tiny.  scope is small.  and also, i don't want to have to instantiate this function all over the place where it's used.
<__adrian>	df00z  do you know dependency injection?
<df00z>	hm?
<df00z>	function = class* oops
<__adrian>	"dependency injection" means "give things what they need"
<wfpkhc>	now here is a question - if i have a class - that requires this database connection, is it better to have a global variable or dependancy inject the database connection?
<__adrian>	as opposed to "let things look for things they need."
<z1haze>	__adrian, as far as forcing downloads - is then untrue then http://210mike.com/force-file-download-nginx-apache/ ?
<__adrian>	wfpkhc  my comments were directed to df00z, but answer your question also
<__adrian>	very directly
<wfpkhc>	so di :d
<wfpkhc>	hehehe
<__adrian>	:)
<wfpkhc>	thank you
<__adrian>	np
<wfpkhc>	is there anyone here with lowbie questions that i can help answer?
<wfpkhc>	to return the help?
<__adrian>	z1haze, dunno specifically about nginx.
<wfpkhc>	nginx is super awesome
<wfpkhc>	kicks the shit out of apache apparently
<__adrian>	typical setups on shared hosts, sure.
<z1haze>	well ive been told its a million times better
<df00z>	i both like nginx and lighttpd
<__adrian>	i've been told the same about mongodb  :)
<z1haze>	plus not vulnerable to that slowloris atatck
<df00z>	but lighttpd is falling behind it seems on features
<chunk2>	it is, but it doesn't have any features for shared hosting
<wfpkhc>	i use it for local development z1haze and its really great and easy
<__adrian>	...
<chunk2>	nginx is awesome if you get more than say, 100 hits per day
<df00z>	but the only thing i dont like about apache is it's complex to set up
<df00z>	i have no other qualms about it
<chunk2>	apache is the easiest to just get and go with
<_genuser_>	$row = $sql->fetch(pdo::fetch_both);
<chunk2>	its config syntax is a mess
<wfpkhc>	thanks all i need to go for a while
<_genuser_>	$row["username"] returns an error. "notice: undefined index: username"
<__adrian>	did you select a column "username"?
<_genuser_>	__adrian: http://pastie.org/10183586
<chunk2>	__adrian: what do you mean by dependency injection?  like is what composer does dependency injection?
<_genuser_>	__adrian: i see. if in my select statement i have "username" then in the array it's indexed as uppercase. doh. i caught it while creating the pasite.
<__adrian>	chunk2  $dependency = new thingwhichisneeded();  $injection = new thingwhatneedsit( $dependency );
<__adrian>	that is all
<__adrian>	everything else is frosting
<robdgreat>	mmm frosting
<chunk2>	oh that, yes that's an awesome design pattern
<__adrian>	_genuser_  mysql might be case-insensitive (might be), but php is not.
<z1haze>	not to mention if you are on a server where every bit of resources matter, nginx is the way to go
<__adrian>	"username" ≠ "username"
<z1haze>	how did u just type that character
<chunk2>	my boss...  hates nginx
<chunk2>	because i set one of the dev servers up with it
<__adrian>	chunk2  lol ur boss hates everything doesn't he
<__adrian>	find a new boss
<chunk2>	in the process lol
<_genuser_>	__adrian: i guess, i'll go uppsercase for all columns names as a rule in my code.
<z1haze>	i have no complaints, nginx is very fast, easy to use, and very low on resources
<__adrian>	interesting.  i have the opposite rule.
<__adrian>	:p
<chunk2>	my boss probably has a huge inferiority complex--he hired me thinking he was going to "show me the ropes" and it turns out i know more than him
<_genuser_>	all lower case?
<__adrian>	generally speaking.
<__adrian>	easier to type
<_genuser_>	__adrian: lol, lately my variables (multi-word ones included) are all lowercase, no _'s.
<chunk2>	and yes, i'm looking for a new job now
<__adrian>	vars, i generally do camelcase.
<_genuser_>	it's just a sql habit where keywords, etc and columns names are all uppercase.
<df00z>	figured it out…$this->var not $var
<df00z>	i always forget $this isn't implied...
<chunk2>	_genuser_: i never make my columns uppercase
<__adrian>	yeah, but i do not accommodate sql habits anymore.  i lowercase "select", even!
<__adrian>	ooooohhhh  heracy
<_genuser_>	well, i was always lowercasing sql until very recently.
<_genuser_>	but in java/c# even camelcasing is taking up too much time. i'm just starting to lowercase the whole lot.
<__adrian>	whatevs.  just do "something" and remember what it is
<kevinquinnyo>	possibly stupid question incoming:  how can i create a new instance of a class from that same classes' __callstatic() method?
<chunk2>	i follow the psr-1 standard!
<_genuser_>	yep, i'm gonna to simplify my db code.
<_genuser_>	next stop password hashing.
<__adrian>	but if you share with others, you shuld take convention into account.
<__adrian>	kevinquinnyo  not a stupid question, but probably a really bad idea that led to it  :)
<_genuser_>	well, take even us as an example. already we have different styles. it's going to happen with any dev, i suppose.
<__adrian>	kevinquinnyo   you can do `new self(...);` or something.
<kevinquinnyo>	__adrian: i think that is definitely the case
<__adrian>	`self`  ← i suspect this is what you're looking for
<kevinquinnyo>	hm yeah i tried that
<__adrian>	what are you trying to do
<kevinquinnyo>	maybe i have some bug, let me try again
<__adrian>	what are you trying to do
<df00z>	hm does php support like defining classes inline    http://pastebin.com/58whd0vr  like that
<df00z>	i dont know actually what that's called
<df00z>	it's freaking out though
<df00z>	if i knew what it was called id google it
<__adrian>	um... no
<df00z>	damn.
<chunk2>	i wish i could write all this shit in python
<df00z>	dang.
<df00z>	i can work around it..but i love .net and java's ability to do that
<df00z>	and…now my view is separated from the model. \o/
<kevinquinnyo>	ok, so i'm probably confused and missing something, but why doesn't this work as expected:   http://pastebin.ca/3001571
<df00z>	where's your bar function
<df00z>	oh __callstatic
<df00z>	dang does that actually do that
<df00z>	are you expecting the __call function to be called  for the constructor too? jeeze
<df00z>	what does it error with>?
<kevinquinnyo>	php notice:  undefined property: file::$bar in /tmp/foo.php on line 24
<kevinquinnyo>	not an error
<kevinquinnyo>	but i was expecting __call() to produce "bar invoked!"
<df00z>	it worked for me as your code is no changes
<df00z>	where's your ?>
<df00z>	what version of php?
<df00z>	debug: i'm in __callstatic() and filename is /tmp/foo   debug: i'm in __callstatic() and file object is:
<df00z>	hm i didnt see method invoked though
<kevinquinnyo>	yeah
<dr-007>	how do you generate the locale string in php? i've got the country shortcode / country name / continent in my possesion
<kevinquinnyo>	why doesn't it df00z?
<__adrian>	kevinquinnyo  you're calling a static method.  that's __callstatic, not __call.
<df00z>	it doesnt work for the constructor
<__adrian>	hm... following
<df00z>	http://php.net/manual/en/language.oop5.overloading.php#object.call
<df00z>	"if you need to also use the magic setter in your constructor, you may use this example"
<df00z>	you're expecting it to be called for the constructor right
<df00z>	where you do new self($filename)
<__adrian>	ah, no parens on $file->$method
<__adrian>	:24
<__adrian>	http://viper-7.com/i4a8sm
<kevinquinnyo>	__adrian: yeah but i'm creating a new instance of the file class in the __callstatic() method, i'm confused why it doesn't send the undefined "bar" method to __call() after that
<kevinquinnyo>	oh shit
<__adrian>	but please, tell me you're doing this just for fun
<kevinquinnyo>	yeah i'm learning.  ;)
<df00z>	screw that i'm never writing another function again
<df00z>	just going to chain if blocks
<kevinquinnyo>	i know this is bad practice.. well i don't but i imagine it must be
<df00z>	;)
<kevinquinnyo>	and thanks __adrian and df00z
<__adrian>	kevinquinnyo  just keep in mind the only thing you will learn from this is "how bad can it get"
<chunk2>	php is weird... functions aren't really first-class values, they're strings that correspond to defined functions.  it uses strings the way c uses pointers.
<__adrian>	chunk2  similar thing goes on with objects and resources.
<__adrian>	it's just hidden better
<chunk2>	and you can use strings to get fields
<kevinquinnyo>	__adrian: yeah i was just playing around with how "magic" i could make something for fun
<kevinquinnyo>	i can see how this could get out of hand, especially since it's so easy to miss "()" like i did
<__adrian>	it's out-of-hand almost the moment you decide to do it.
<kevinquinnyo>	lol
<kevinquinnyo>	refactor time i guess
<kevinquinnyo>	thanks for the help guys
<kevinquinnyo>	and gals
<cluelessperson>	guys, guys
<cluelessperson>	i just finished my final exam and final presentation!  i'm free
<cluelessperson>	i have a web server, what should i do with it?!
<cluelessperson>	maybe something with encryption! :d
<df00z>	congrats
<cluelessperson>	df00z:  thank you. :d
<yansanmo>	change your world
<np>	hey guys, is buildconf a php thing?
<df00z>	 if ($isset($_get['id'])) $id=intval($_get['id']);  is there a way to do that without typing $_get['id'] twice?
<df00z>	i recall some goofy way to write an if statement with a question mark in it
<df00z>	nah thats just if then else
<raymond>	df00z: a) no b) it's not "goofy"
<np>	df00z: ternary
<ss23>	ternary won't really work here
<ss23>	i mean, it will in the senes that you could use it, but it won't solve any problems
<np>	that's what he is thinking of, and it wont work there
<df00z>	whoa it's storming…might lose power
<yansanmo>	what is $isset ?
<znf>	does anyone happen to have a server on hetzner that could run a traceroute?
<df00z>	a typo
<__adrian>	df00z, why? codegolf?
<yansanmo>	i do that so often, that my function in my projects is gi  for get integer,   $id = gi('id')
<df00z>	ha - no.   just looking for the best way to do it.  my code has several dozen similar cases.
<np>	yansanmo: means a variable is defined
<__adrian>	if you always expect $id to be defined (even if it is defined with null), then do $id = isset($_get['id'])? $_get['id']: null;
<yansanmo>	np, that's isset() not $isset()
<np>	good eyes
<yansanmo>	write like a maintainer, read like a parser
<cluelessperson>	__adrian:    df00z      $var = !empty($_post['var']) ? $_post['var'] : false;    there.  it's always set, easy check.
<ss23>	what if ?var=false?
<__adrian>	cluelessperson  why use false when null already means null?
<ss23>	or ?var=0
<__adrian>	"null" = "unset, missing, and/or unknown"
<__adrian>	"false" = "not true"
<__adrian>	it's a know value
<__adrian>	*known
<cluelessperson>	__adrian:   you can use null.  the point is you get to dictate the default.
<raymond>	when extending a class is there a way to implement your own method with the same name as the parent, and the call the parent method with the changes you want to make?
<__adrian>	yes
<__adrian>	raymond: yes to you also
<yansanmo>	raymond, parent::methodname()
<raymond>	__adrian: can you point me towards an example?
<__adrian>	parent::methodname()
<raymond>	public function foo($msg) { $bar = strtoupper($msg); partent::foo($bar)} ?
<__adrian>	"parent", yes
<raymond>	lol, thanks.
<cluelessperson>	god, all the fucking quit and joion messages.
<__adrian>	don't worry, cluelessperson.  i will paste them for you!
<__adrian>	20:26:07              <-- | jop008 (~jophof@g191010.upc-g.chello.nl) has quit (quit: jop008)
<cluelessperson>	__adrian:  i hate you
<__adrian>	:)
<__adrian>	if there really were a monster that fed on people's hatred, it would just hang out on the internet all day
<__adrian>	horror movies got it all wrong.
<raymond>	cluelessperson: watch your language please.
<cluelessperson>	raymond:  that's annoying..
<tw2113>	__adrian, i like others more than you
<z1haze>	__adrian, im having a hard time figuring out this process of recreating an uploaded image before saving it..
<tw2113>	but you're not the worst in the world either ;)
<raymond>	cluelessperson: then don't participate here.
<cluelessperson>	raymond:  you're the one complaining.
<raymond>	cluelessperson: not complaining stating. it's a clearly stated channel policy.,
<__adrian>	z1haze  use one of the imagecreatefrom* functions, then save it as a file with one of the image* functions.
<z1haze>	what does that actually solve?
<cluelessperson>	so i have a website up with full a+ tls 1.2 and modern+high ciphers.  i'd like to expand on that.  what do you think i can do with my site?
<cluelessperson>	any ideas for applications i should build or something?
<cluelessperson>	raymond:  it's a poor one that should be removed.
<__adrian>	z1haze  it gives you an image which you know is an image and nothing else.
<raymond>	cluelessperson: well... doesn't look like it's going to be. so either conform or leave.
<__adrian>	z1haze  also the opportunity to resize it if it's some obscene resolution
<__adrian>	save some bandwidth
<cluelessperson>	raymond:  yeah, that's what really pisses me off.  "conform"
<z1haze>	so its just like imagecreatefrompng($_files['file']['name'])? kinda thing?
<z1haze>	to tmp_name
<__adrian>	what? "keep your language clean"?
<__adrian>	clean language is not a big deal.
<z1haze>	huh?
<raymond>	__adrian: apparently it is for cluelessperson. you should see the drivel i'm getting in privmsg
<__adrian>	z1haze  something like, yes.
<z1haze>	so by creating an image, from an image, it somehow will remove malicious code?
<z1haze>	if it has it
<__adrian>	z1haze, imagecreate* makes a gd image resource. it's a representation of the bitmap.
<z1haze>	like that link you showed me yesterday i think it was.. somehow they have put php inside of a png image.. so you say that if i pass that image file into createimagefrompng() then it will clean it?
<z1haze>	i guess not, lol
<z1haze>	is this valid? $ext = strtolower(end(explode('.', $file_name))); to get a files extension in lowercase?
<biberu>	z1haze: data only gets meaning when you use it in a context, you can't "clean" it like that, but it will verify that it could be understood as an image (although that doesn't mean it can't be valid for other uses as well)
<z1haze>	ive decided to basically store all files that arent images in a directory outside of my document root, then store the images in a folder accessible from the web
<biberu>	what if a file is both an image and something else?
<z1haze>	then i only have to check if if the image is malicious
<raymond>	z1haze: and "no" that won't work.
<biberu>	malicious to what context?
<z1haze>	like a png containing php code or something
<raymond>	z1haze: photo.jpg.png.gif.txt
<z1haze>	raymond, thats why i used end()
<raymond>	z1haze: still no good.
<z1haze>	how not?
<raymond>	z1haze: because what do you know about that file?
<z1haze>	its extension
<raymond>	lol. ok
<raymond>	btw: it was actually a bmp.
<z1haze>	i literally only asked if it was valid to find the extension
<z1haze>	can you give an example of how that wont find the file extension?
<z1haze>	ive been racking my brain for a simple file upload system for 3 days now, ridiculous i never would have guessed it could be so complex.
<raymond>	z1haze: you assume that what you have is an "extension".
<z1haze>	how could it not be?
<raymond>	photo.may2015
<z1haze>	what program would open that as an image?
<z1haze>	nothing on my computer
<raymond>	z1haze: ever use a mac? :)
<z1haze>	no, actually
<raymond>	z1haze: there you go.
<z1haze>	so a mac will open the files correctly, without a file extension?
<raymond>	z1haze: if you *really* care about what you have received. you open the file and read the first 10 bytes.
<raymond>	yup.
<raymond>	i reads the header and determines the signature.
<raymond>	s/i/it/
<kevinquinnyo>	is this weird?  http://pastebin.ca/3001595  i'm just playing around with magic methods and allowing a class to handle instantiated class methods *and* static method calls.  is what i did insane?  is there ever a use for something like this?
<z1haze>	so, may i ask what you suggest.. if i am allowing any file type to be uploaded, storing images on the webserver, storing all other file types outside of the webserver.. whats the best route to take then?
<raymond>	z1haze: read the file header and figure out what you think you have.
<z1haze>	that sounds promising
<z1haze>	im getting the idea that there is no real way to do this
<z1haze>	at this for 3 days, have had dozens of different 'solutions'
<z1haze>	and articles across the internet are all over the place
<z1haze>	saying do different things.
<raymond>	raymond: i frequently rewrite file headers to bypass various ids systems.
<raymond>	z1haze: you'll find that when you work at long enough, you'll find a solution that works for you.
<z1haze>	so short answer, its not actually possible to have a 'safe' file upload
<raymond>	z1haze: if there is one i can tell you, and probably most other who have done professional code development. it doesn't matter how smart you are, or how good your code is. it all falls apart when users are unleashed upon it.
<raymond>	z1haze: that depends upon how you define "safe".
<raymond>	z1haze: bits on disk are, largely, inert.
<z1haze>	dude i just want be have a simple file upload system for my users they can upload shit, and download it. download the non image file types, and display the images for hosting
<raymond>	z1haze: "danger" comes from working with the data without first validating what it is.
<z1haze>	ive been around and around on this dozens of time in the last couple days. i just want an real solution
<raymond>	z1haze: language please.
<z1haze>	but you just said its not possible to be sure what it is.
<raymond>	z1haze: and *nothing* is simple once you have users.
<z1haze>	i get it. but im here to get some help and guidance to make this work.
<raymond>	z1haze: no, but you can make some pretty safe guesses.
<z1haze>	ive not found anything online about what youve suggested for getting the file type
<z1haze>	most just say get the extension, which is what ive been doing that
<raymond>	z1haze: if you are not already, become one with this page: http://www.garykessler.net/library/file_sigs.html
<z1haze>	you memorize everything on this page?
<raymond>	z1haze: i know the ones i had to deal with frequently: gif, png, jpg, raw, pdf, doc, xls, etc
<raymond>	oh, ps and eps
<raymond>	so a few of them, yes.
<z1haze>	what is docx
<z1haze>	without looking
<z1haze>	no person could memorize all of this
<raymond>	not sure, it didn't exist when i was doing this type of work.
<z1haze>	whats doc then
<raymond>	i didn't say memorize, i said become one with.
<biberu>	z1haze: http://en.wikipedia.org/wiki/office_open_xml
<z1haze>	haha ^
<biberu>	you don't need to know them by heart, just know that these kinds of signatures exist
<raymond>	z1haze: my point is simply, there are *far* better methods of determining a file type than trusting the "extension"
<z1haze>	hmm
<biberu>	also remember that just because a file starts with gif87a it doesnt mean that the rest of the data is a valid gif image, you must validate everything
<z1haze>	what about mime_type
<raymond>	z1haze: i can't fake those easily with the header() function.
<raymond>	s/can't/can/
<z1haze>	or does php's getimagesize() do a good enough job to validate whether the time is actualy an image or not?
<raymond>	z1haze: tias
<z1haze>	so.. try it and see if my server gets hacked, then ill no?
<z1haze>	know*
<z1haze>	cmon...
<raymond>	z1haze: wow... does the concept of testing escape you?
<z1haze>	i dont even know how to do what what it is these hackers do..
<z1haze>	it doesnt escape me
<raymond>	z1haze: get a bunch of different file formats and run them through whatever you want.
<z1haze>	but generally you have to you how something is done, beforeyou can prevent it, yea?
<raymond>	z1haze: see if you are happy with the results.
<raymond>	z1haze: sure, and we know ssl works... have known for years. and it was trusted for years... but not any longer.
<z1haze>	i just dont want to risk handing my server over because of something silly?
<raymond>	z1haze: so test!
<z1haze>	i mean if its something that takes a lot of work and only a very good hacker would be able to do it, i guess thats more acceptable.. im just talking about using what i think is ok, not already knowing how it all works
<streaky>	lol
<raymond>	z1haze: all any of us can do is use the tools we have to the best of our ability.
<streaky>	a *very* good hacker is going to f you over regardless of how good you are
<z1haze>	i know, your talk was just so demotivational.. you basically said its a lost cause.
<z1haze>	^ exactly
<raymond>	z1haze: we have shown the "file extension" is not a valid test.
<streaky>	the trick is having a barrier to entry that's worthy of the target :)
<z1haze>	but i mean some things cant be cracked though, right?
<streaky>	not as software is built today?
<z1haze>	like .. . php password_hash..
<z1haze>	i was told thats impossible to break
<streaky>	you were told wrong
<raymond>	z1haze: i have no idea where you're coming from. i gave you a method by which you can make a pretty good decision on how to hand various bit streams.
<streaky>	that's a question of resources
<z1haze>	raymond, you suggested reading the .. what? inside an image?
<z1haze>	i mean i read it, but it made zero sense
<raymond>	inside a file.
<streaky>	with password_hash, again the key is making it a harder target than the resource that you're hashing is worth it
<streaky>	in regards to the original question, i'd suggest doing some research
<raymond>	z1haze: read x bytes, compare to list, decide file type. "makes zero sense"?
<streaky>	that's not very safe either
<streaky>	people been exploiting that one for decades :)
<raymond>	streaky: it's a start on how to route the rest of the test.
<streaky>	fill first kb with something that looks like a jpeg, code in the rest, exploit
<z1haze>	like i said, losing battle
<raymond>	z1haze: you're right, just give up. go back to using a wii.
<streaky>	usuaully the safest thing is to read it into something that can manipulate images, then write it back out as a new image
<streaky>	the problem is with some formats that's a lossy process
<streaky>	if you can read it into gd/im and get a size or a mime type you're probably good to go though i'd argue
<streaky>	that's not to say gd or im is secure ;)
<streaky>	they're probably *secure enough* for your needs though is what i'd argue
<streaky>	unless you're a bank or something, then why are you letting people upload things
<streaky>	see how this works? ;)
<z1haze>	i dont play games
<z1haze>	why woudl a bank need people to upload things?
<streaky>	it wouldn't
<streaky>	which is the point
<z1haze>	then your statement made no sense
<streaky>	of course it does
<z1haze>	"unless you're a bank or something, then why are you letting people upload things"
<z1haze>	hinting that banks need people to upload things
<streaky>	"then why are you letting people"
<streaky>	or not?
<z1haze>	because thats the entire freaking point of this project
<z1haze>	a file upload/storage system
<z1haze>	i wanted to create a very simple form of a dropbox
<streaky>	right, so here's an even better question
<streaky>	why do you care what people are uploading
<streaky>	keep people away from each other
<streaky>	problem solved
<z1haze>	because i was told that "people will own my server"
<streaky>	chroot et al
<z1haze>	these are system users
<z1haze>	s/are/arent
<streaky>	that's precisely why it's easy to jail people off from other people
<z1haze>	i dont want to make system accounts for these people..
<streaky>	they don't need to be running code on your servers, so you make it impossible for them to do that
<z1haze>	i wanted to do this via webapp
<streaky>	i know what you mean
<z1haze>	ok, good.
<streaky>	i never suggested that :)
<z1haze>	you said to chroot them
<raymond>	streaky: the conversation is now all yours. ;)
<streaky>	lol thx :p
<z1haze>	he kinda already took that role i assumed since you havent spoken in 10 minutes
<z1haze>	but thanks anyways, im going to just let it go. not worth the headache. thanks for your time
<streaky>	if it's me storage would go on another server, or at least another vhost
<streaky>	then that server's httpd would be chrooted to keep people away from stuff
<streaky>	and presto
<streaky>	after that it's just a question of file permissions
<z1haze>	but if running php scripts on the server.. they would have access to anything that the webserver has access to, and perhaps more
<streaky>	or, i guess your frontend server pulling data out
<z1haze>	almost a direct quote from another user in this channel last night
<streaky>	somebody locked in a chroot can't do anything
<streaky>	(without privs)
<streaky>	that's the point, they won't even be able to get at glibc or anything
<z1haze>	a chroot web accessible folder?
<streaky>	if you chroot into (say) your /var/www and drop privs
<z1haze>	like for example just to look at dropbox.. how is it so super secure that they dont worry what you upload. there is no file extension limits on anything
<streaky>	then any code in there that might hypothetically be malware on some level is inert
<streaky>	there's lots of ways to do it but chroot is pretty convenient
<z1haze>	actually just found a video going the route of exactly the same thing i had started doing ( didnt copy i promise )
<z1haze>	but its from phpacademy.. thats supposed to be reliable source, isnt it?
<z1haze>	https://youtu.be/prcobmxhnyw?t=446
<streaky>	it's not unreasonable
<z1haze>	well this dude is literalyl doing exaclty what i planned to do, but i kept getting told, 'no no no'
<streaky>	it'll *work*, as in it'll do what it's supposed to do
<streaky>	i wouldn't say it's the solution to your specific problem - which is probably why
<streaky>	your issue isn't so much allowing specific file types (but i *want* to store php files on there) - it's rendering uploads inert
<z1haze>	so in his example is vulnerable to whatever it is hackers can do with image files?
<z1haze>	well my most recent idea, lol, was to store images in a web accessible directory, and store everything else off the webserver
<z1haze>	so even if they uploaded malicious content, it couldnt be run
<streaky>	the simplest thing might be to just use a file hash for the file name and store what it's called in a db and point to the hash
<z1haze>	would be, inert, as you put it
<gagalicious>	php message: php fatal error:  call to a member function set() on null  <--- how can i trap this one? i tried "try" and } catch (exception $e) {... but doesnt seem to work?
<z1haze>	and when i think about it, as logically as i can... it sounds to me like it would work.. but then i would be faced with possible image extension files that are actually malicious code
<sorabji>	gagalicious: it's fatal, you can't catch it
<gagalicious>	what's my alternative
<streaky>	check $foo actually exists and is an object
<sorabji>	^
<gagalicious>	how do i check that?
<streaky>	bonus points for checking it's the right /kind/ of object ;)
<sorabji>	gagalicious: context?
<gagalicious>	mind pointing the way?
<streaky>	if(isset() && is_object()) {
<streaky>	something around that
<sorabji>	what are you doing where this happens?
<sorabji>	there's a number of php functions that will either return an object or false to indicate failure
<biberu>	that always makes me cringe
<sorabji>	it's not the best api :)
<gagalicious>	i declared a redis object
<gagalicious>	and it throws... that error
<sorabji>	the connection threw that error?
<gagalicious>	the set function threw the error
<sorabji>	or you tried to do something with the connection afterwards, and generated that error
<gagalicious>	can i ask... how can i know what function is calling the function... the prior function that calls a function
<gagalicious>	so i can remedy it faster
<biberu>	php.net/debug_backtrace, or use a debugger
<gagalicious>	coz the set function is being called multiple times and if i can know which one is calling it or what is calling it, it will be great
<sorabji>	this is the library that's generating the error?
<biberu>	gagalicious: there's php.net/debug_print_backtrace too, for quick dumps
<gagalicious>	oh thanks! that's a lifesaver! biberu . thanks
<gagalicious>	will implement it and see now :)
<gagalicious>	i love php now
<sorabji>	you'll hate it again soon enough
<biberu>	programming made me bipolar
<z1haze>	just a question as im new to programming all together, but why do so many people hate php
<gagalicious>	why doesnt this work?
<gagalicious>	error_log(json_encode(debug_backtrace());
<biberu>	why do so many people hate anything
<z1haze>	well i know, but is php really that inferior to most other backend languages?
<gagalicious>	it's not showing anything
<biberu>	people are people, most just want to protect themselves and their interests
<sorabji>	z1haze: there's languages people hate, and then there's languages no one uses :p
<gagalicious>	error_log(json_encode(debug_backtrace()); <--- shows nothing. can anyone help?
<z1haze>	https://blog.martinfjordvald.com/2011/06/why-path-info-is-the-worst-php-feature-since-register-globals/
<z1haze>	read this earlier, interesting
<gagalicious>	biberu : help. error_log(json_encode(debug_backtrace()); doesnt show anything
<gagalicious>	... anyhow i did serialize instead of json_encode... so i can see something... funny... :i
<biberu>	gagalicious: take it apart, check how many steps you are getting through. should it really show anything? where? did you check the log files? better make sure that json_encode could deal with the return value from debug_backtrace too, it can't handle just any input
<gagalicious>	oh ok. thanks
<biberu>	probably that then, json strings must be in unicode, and "funny" sounds like it might be something binary
<gagalicious>	thanks i found the error :)... now i know why json_encode doesnt work on hhvm...
<gagalicious>	i mean not 100% of the time... for what i need
<gagalicious>	ok i found the error for caught exception. thanks.... the problem was the "class" "object" was destroyed...
<gagalicious>	wait let me check again
<gagalicious>	u guys are the best... forever. biberu : thanks.
<gagalicious>	i hate "classes"... pun intended... it just complicates everything.
<biberu>	just until you get your head around it
<sorabji>	aww, classes make things a lot easier
<gagalicious>	it slow things down a lot too
<biberu>	walking can be slower than crawling for the same reason
<gagalicious>	ok i identified the problem... it was with a destruct method inside one of the... "classes"... the object a was destroyed and object b was calling a function inside object a... i wanted object b to be called before the script exited... and i need to make sure both objects are alive... hmm... how can i do that?
<gagalicious>	crawling can be slower than walking u mean?
<sorabji>	why do you keep writing "classes" ?
<gagalicious>	i dunno what's the real term to use?
<gagalicious>	objects?
<sorabji>	sure :)
<acidreign>	z1haze: i don't agree with the conclusion of that article. he's saying its your code's responsibility to consider the implications off pathinfo, but since it's part of the cgi spec, it's really up to the server admin to configure the webserver correctly.
<gagalicious>	can anyone help... my object b under it's method of "__destruct" is calling a destructed object a... how can i prevent object a from being destructed before object b?
<sorabji>	did you write any of this?
<mattsah>	make object a depend on object b
<acidreign>	z1haze: the issue is because of the combination of running a reverse proxy and a responder that properly handles pathinfo... it's really an nginx issue imo
<gagalicious>	mattsah " how do i do that? "
<mattsah>	$object_a->b = $object_b;
<gagalicious>	https://blog.martinfjordvald.com/2010/09/12000-requests-per-second-with-nginx-php-and-memcached/ <-- is this for real or in his wet dreams?
<mattsah>	gagalicious: that said, if you're in that type of situation you might be doing something kinda weird/wrong
<gagalicious>	i wish he specify the hardware he will be using for his 12k requests per second
<gagalicious>	mattsah : what's the alternative?
<mattsah>	i think the number of times i've had to use __destruct in 8 years of professional php development are 0
<mattsah>	gagalicious: depends on what you're doing
<mattsah>	or trying to do
<gagalicious>	i want my destruct from object b to be calling object a's method without object a being destructed first...
<gagalicious>	why is that so difficult? :i
<acidreign>	gagalicious: i guess nginx serving in ram cached pages, not touching php or the filesystem, could probably get that fast on decent hardware...
<mattsah>	gagalicious: nothing is hard about that when you state it that way, if object b is calling object a's method anyway, then it should, in fact, have a reference to object a anyway
<gagalicious>	acidreign: yes u are right. that's for read speed. i wonder what can be done for write speed
<acidreign>	gagalicious: hitting the fs, talking to an external process (like php, or a database), tends to be the major bottle necks for an httpd
<alyx>	/w/w 141
<guidex>	i'm trying to configure php for windows/iis7, i've done it a bazillion times, but for some reason, on this machine i get err_connection_reset in the browser
<guidex>	on a simple info.php
<df00z>	http://cookwithkevin.com/midi/index.html  heheh latest php project, now with more frames.  i need to find a dos midi player that can play with the onboard yamaha opl synth
<fleetfox>	o/
<jeppech>	\o
<halcyforn>	hello can someone help me a bit? i must add fast text but idk how to set margin/padding in div
<halcyforn>	2 versions no mobile and mobile.
<woet>	halcyforn: how is that related to php?
<halcyforn>	this is php file?
<fleetfox>	lol
<alyx>	halcyforn: you might want to uh
<alyx>	ask about how to do html/css
<alyx>	in their respective channels
<alyx>	that is more their problem than ours :p
<gagalicious>	alyx : do u have to make it so funny for us here?
<alyx>	unless you mean you need help figuring out how to seperate between mobile and non-mobile users
<alyx>	but tbh i think via magical css voodoo
<alyx>	you can do that just in css
<halcyforn>	i see function to mobile and no mobile users only how to seperate this margins for desktop 250 for mobile 5 :d
<alyx>	gagalicious: yes.
<alyx>	..
<alyx>	what.
<fleetfox>	was it so funny?
<alyx>	well of course, fleetfox
<alyx>	i'm hilarious.
<fleetfox>	better
<alyx>	i'm literally the nigel thornberry of ##php.
<linex>	hi. does it make sense to make a table for a list of 5 statuses . there will be 5 rows and i know the table will never grow .
<alyx>	will the content change?
<linex>	alyx: no
<alyx>	linex: why not just make it static somewhere in your php
<alyx>	just like an array of statically defined strings or whatev
<linex>	alyx: i was thinking the same thing. in my previous app v1, i used a table. it is fine and fast too.
<linex>	alyx: is it bad practice ?
<alyx>	iunno
<linex>	ok.
<alyx>	personally, i'd think it would make perfect sense to just define $my_silly_statuses[] somewhere in php
<alyx>	if you know it's never gonna be changed ad always staying the same
<linex>	yeah i guess you are right,
<phpmiddleman>	does this look like a good database migrations script? http://sprunge.us/yaaz we are new with this
<fleetfox>	linex: if it's registry of constants it is a bad practice
<fleetfox>	use enum or something
<linex>	fleetfox: it is a registry of constants
<linex>	enum in mysql ?
<linex>	oh sorry, you mean enum in php
<fleetfox>	yes
<fleetfox>	this is ok https://github.com/myclabs/php-enum
<fleetfox>	or just do your own thing
<autrilla>	i really don't understand this "php message: php warning:  error_log(/var/log/php-fpm/www-error.log): failed to open stream: permission denied in /var/www/tiendaagricola.com/include/func/func.logging.php on line 556" while reading response header from upstream,
<autrilla>	php does have permission to read and write that file
<gagalicious>	user permission
<autrilla>	as i said, it has permission
<gagalicious>	for the user of the php-fpm
<autrilla>	as i said, it has permission
<gagalicious>	what user is running php-fpm?
<gagalicious>	chmod 777 /var/log/php-fpm/www-error.lo
<autrilla>	nginx
<alphos_>	as php said, it doesn't. guess who i'd rather believe ?
<autrilla>	i believe su nginx cd /var/log/php-fpm/
<autrilla>	touch www-error.log
<gagalicious>	chown nginx:nginx /var/log/php-fpm/www-error.log
<autrilla>	it's surprising because php deletes the file
<gagalicious>	...
<gagalicious>	ur startup script... check that
<gagalicious>	or cron
<autrilla>	what startup script?
<autrilla>	systemd?
<gagalicious>	what variant of linux are u using?
<autrilla>	centos 7
<gagalicious>	vim /etc/init.d/php-fpm
<wg1337>	hi! i'm using phplibsec to make a simple script. the idea is to connect to one server which has a client connected to it. in order to access it  i need to telnet (or ssh) to server and from the server i need to telnet to the client. the thing is that the script doesn't seem to output everything from the second telnet. here is my script: http://pastebin.com/j4fig41y        is there some kind of a limitation that i'm unaware of?
<autrilla>	i switched the log file on the config to /var/log/php-fpm/error.log, let's see what happens
<autrilla>	yeah, same deal
<autrilla>	gagalicious: centos 7 uses systemd
<gagalicious>	oh right...
<gagalicious>	anyhow i don thave ur problem...
<autrilla>	....
<autrilla>	you rarely have the same problem as people who come here
<gagalicious>	quick check... how many of u guys use vim or emac?
<autrilla>	i use vim
<gagalicious>	i'm a vim user for years... and nothing else.
<woet>	what about nano users?
<p4trix>	do you use vim even form big proyects? gagalicious
<gagalicious>	p4trix : for everything
<gagalicious>	p4trix : nope
<gagalicious>	not for big projects
<p4trix>	hehe, ok
<gagalicious>	what do u use for big projects? :)
<p4trix>	i was about to express my "admirance" (if that word exists)
<robdgreat>	admiration, perhaps
<p4trix>	php storm or netbeans
<p4trix>	yeaa robdgreat
<p4trix>	thx
<gagalicious>	ok... next question... netbeans or eclipse... how many of u guys use... for php?
<p4trix>	i have never liked eclipse, but may be a personal thing. i have no empiric reason...
<gagalicious>	p4trix : ... hmm...
<gagalicious>	any particular reasonb?
<p4trix>	i like the code snippet system, but for the rest, i dont feel it suits me... just said, i have no real reason... i like the others more...
<p4trix>	its not like i have spent a  lot of time using it though...
<p4trix>	maybe im beeing unfair ;)
<gagalicious>	which ide is best for remote collaboration?
<alyx>	"remote collaboration"
<alyx>	gagalicious: personally i've been using vim + git for basically everything
<alyx>	for a good half decade or so
<alyx>	:p
<gagalicious>	not open source projects?
<jerrt>	has anyone in here kept up with the current self hosted ecommerce options available?
<jerrt>	was about to roll my own for a freelance project(there's some tricky inventory management), but am considering just sticking opencart on it
<jerrt>	and writing a plugin or something
<motaka2>	does anyone has any idea why in lines 41 and 45 i get two different values?  https://gist.github.com/anonymous/84decdcc53b7a410fab1
<jerrt>	what does emptyis do? also dp and dpe
<chaendler>	good morning
<fleetfox>	jerrt: opencart is shit
<jerrt>	i remember something like that. it was either opencart of zencart. wanted to avoid it.
<jerrt>	someone was ranting about it
<motaka2>	does anyone has any idea why in lines 41 and 45 i get two different values?  https://gist.github.com/anonymous/84decdcc53b7a410fab1
<fleetfox>	jerrt: http://sylius.org/ looks good but i can't vouch for it either
<jerrt>	thank fleetfox, looks interesting. was looking at prestashop as well.
<fleetfox>	prestashop is also shit
<alphos_>	motaka2 : what is emptyis supposed to do ?
<jerrt>	hahah, any particular reason?
<fleetfox>	poor quality of code, everything is coupled
<fleetfox>	it has like million plugins and half of them are broken
<alphos>	fleetfox oh my god it's wordpress !!!1!!eleven!!
<plushwork>	motaka2: because dp and dpe are diffrent functions?
<fleetfox>	not that bad
<fleetfox>	it's "oop"
<fleetfox>	but codeigniter like oop
<motaka2>	plushwork: no
<plushwork>	you mean oop that has db queries in constructors?
<alphos>	motaka2 so what are dp, dpe, and emptyis ?
<fleetfox>	i've yet to see usable ecom in php
<jerrt>	there's always whacking the mole with an rpg via magento, but i hate that too
<motaka2>	alphos: emptyis is function emptyis($var) {if(empty($var)) return true else return false}
<fleetfox>	i don't know a thing about the new magento
<jerrt>	new magento? new zend?
<motaka2>	function dp($var){var_dump($var)}
<motaka2>	alphos: function dp($var){var_dump($var);exit;}
<fleetfox>	magento2 or whatever
<fleetfox>	zend components are fine
<alphos>	...
<motaka2>	alphos: this code is making me crazy
<jerrt>	motaka2: what's dpe?
<motaka2>	jerrt: function dpe($var){var_dump($var);exit;}
<jerrt>	do you have a debugger?
<motaka2>	jerrt: no
<motaka2>	you mean something like xdebug ?
<fleetfox>	what's with the stupid functions
<jerrt>	yes. that would have been useful to see what was going on
<alphos>	fleetfox : every few months when i come back, motaka2 keeps doing the same things and asking the same questions. i'm not surprised
<motaka2>	alphos: this is the first time i am asking this qquestion
<jerrt>	i'd look in finduniquepersonsbyidezrtasks
<jerrt>	and maybe rename it
<johani_>	hello
<motaka2>	jerrt: lemme see
<alphos>	motaka2 no, technically it's the second time you're asking this question
<motaka2>	alphos: technically you are sick
<alphos>	[09:53:43] <motaka2> does anyone has any idea why in lines 41 and 45 i get two different values?  https://gist.github.com/anonymous/84decdcc53b7a410fab1[10:02:18] <motaka2> does anyone has any idea why in lines 41 and 45 i get two different values?  https://gist.github.com/anonymous/84decdcc53b7a410fab1
<johani_>	i have a table in db and want to empty its data every after 30 days. and want to create a cron job for it. how can i do it
<johani_>	?
<alphos>	technically i keep logs
<alphos>	johani_ just do it ?
<johani_>	how ?
<motaka2>	jerrt: renaming didnt work
<jerrt>	motaka2: i mean look what's inside it... mentioned renaming because it's really long
<alphos>	how would you create a cron job ? how would you empty a db table ? how would you use one to do the other ? it's really as simple as it sounds
<motaka2>	jerrt: ok
<johani_>	can i have any example link ?
<jerrt>	just create  a php script that will clear the db when you run it. then make a cron job that will run that. google is your friend.
<alphos>	jerrt no need for a php script
<alphos>	johani_ have you *bothered* searching on google ?
<jerrt>	ah, just clear the table
<jerrt>	lol, yeah
<johani_>	i ssearched but that are so complicated. and don't understand what they mean ?
<johani_>	i want to run that cron job file through the cron job option in cpanel
<alphos>	johani_ then read them again, and when you see something you don't understand, search that too
<alphos>	https://www.google.fr/search?q=cron+job+empty+mysql+table it's really no difficulty at all, and it's really not a php question...
<johani_>	okay thans
<johani_>	thanks
<plushwork>	johani_: just think twice if you want to reset the autoincrement column or not
<johani_>	pluswork: sorry i don't understand what you mean ?
<johani_>	alpos: i have more than 3 database on my cpanel phpmyadmin. now i have came to the cron job option in cpanel and it requiers the command. e.g. i want to truncate the "abc" table of the "xyz" database then what should i write in that command option ?
<fleetfox>	command to truncate?
<fleetfox>	your question has nothing to do with php
<johani_>	i mean how that truncate command syntax will be to truncate "abc" table of "xyz" databse. i have about 3 database and want to truncate the table of one specific database
<johani_>	i mean normally for truncate we write  truncate table tablename
<johani_>	but what will be in this case
<bittarman>	johani_ #mysql
<johani_>	okay
<tsm>	has anyone written any code to handle clock drift in hardware totp tokens
<fleetfox>	nope, sounds nasty
<tsm>	its not so bad really
<alina-malina>	hello people, i want to organize a feature like in vbulletin forum, so i could turn on/off threads and their subthreads also turn on off, i am not sure how to organize this thing, because it is like nested threading system, i want to be able to control, do i need to do this on php level or mysql level?
<fleetfox>	you are not sure about what exactly toggling or storing tree?
<alyx>	in a standard php execution environment (the whole apache runs a script-per-request thing), is there a way to maintain state through runs
<fleetfox>	session
<fleetfox>	alina-malina: http://www.slideshare.net/ehildebrandt/trees-and-hierarchies-in-sql
<alina-malina>	fleetfox, thanks let me see it
<fleetfox>	from what i've seen for bulleting boards it's usually adjacency list
<fleetfox>	bulletin*
<alina-malina>	hmmm, i never did stuff like this before, i hope this is not that complicated
<primalhunter>	hi, i'm currently trying to setup php 5.6 with mssql access on iis. if i have a careful look at phpinfo() i see that windows binary package (php 5.6.8-nts-win32-vc11-x86) was compiled with "--without-pdo-mssql" would anyone know the reasoning or know if it can be overridden? it looks like it's preventing the pdo_mssql.dll from loading?
<plushwork>	johani_: if you have autoincrementing column in that table things may go boom if it gets reset to 1, or it may go boom if it doesn't
<johani_>	yes that table have primary key which auto incrementing.  but you mean by 'things may go boom etc '
<plushwork>	johani_: references to the autoinc from outside may go wrong
<johani_>	then what should i do ?
<primalhunter>	sorry, it actually works. i had a typo and needed to restart the application pool.
<alea123>	hmm why i have problems with this function? http://pastebin.com/mbr6mqzn ... special characters are not propably encoded
<alphos>	alea123 : any reason why you're not using the proper dsn portion and using set names instead ?
<g105b>	.
<alea123>	alphos: what do you mean with proper dsn? i have a conf.class where the connection data is stored in
<bittarman>	alea123, you also want to set errmode_exception
<alea123>	alphos: this getdbtest func is a connection to an external server
<bittarman>	and, when you say special characters are not properly encoded, did you check that you're sending the correct headers to the browser to say its utf8?
<alea123>	the internal db-connection with the same table has proper special chars
<bittarman>	and also that all your files are encoded in utf8?
<alphos>	alea123 http://php.net/manual/en/ref.pdo-mysql.connection.php
<bittarman>	also, charset has been supported in the dsn for a while
<alphos>	supported and properly handled for a while ^^'
<alphos>	5.3.6
<alea123>	bittarman: yes, like i said, i have 2 db cons.. first one is internal and works fine with special chars, second one is external and works proper too, exept of the special chars
<bittarman>	alea123, then you didn't do one of those things i just mentioned.
<bittarman>	also check the encoding of the tables themselves
<bittarman>	you have to be consistent *everywhere*
<alea123>	bittarman: sorry, i was typing :) i will see what i can change, thanks ^^
<skizu>	how do i get link 5 to return relative to the child? http://3v4l.org/buu6h
<fl0w>	trying to parse a xml file here, and it contains a namespace (i think it is..) as “<sm:contactinfo>…</sm:contactinfo>. am i missing something or doesn’t simplexml handle this by design?
<unopoo>	some bug is hard to reproduce, like just now, my site's customer service said an order is paid with a unmatched total amount. so i placed a order everything the same with that order, but the bug just didn't appear. just a general question, how do you guys handle such situation? there seems nowhere i find i could start to do the bugfixing
<fleetfox>	if it's not reproducable there is not bug :p
<fleetfox>	skizu: is that correct pastie? i don't get your question
<skizu>	fleetfox: i want it to return bar\baz\baz::test();
<skizu>	fleetfox: the only thing i could think to do is to cast a reflection class and then get the namespace of the current object by doing class_name($this) and a whole lot of mess
<fleetfox>	why kind of problem ar you solving, sounds like xy
<alea123>	http://pastebin.com/psbetvsb still getting non-proper special chars... same function to internal db in the same php file has proper special chars... both tables and databases are utf8_general_ci and the data inside has proper specialchars too
<alphos>	fl0w simplexml is a very limited library for xml handling. switch to dom, and you should be able to handle namespaces fairly easily :)
<skizu>	basically, i've a bar object which extends foo (does all the handling of bar), bar is kind of a description object, and baz is a validation object in this case
<literphor>	does anyone know what causes this error? fatal error: uncaught exception 'exception' with message 'serialization of 'closure' is not allowed' in [no active file]:0 stack trace: #0 {main} thrown in [no active file] on line 0
<caddoo>	trying to serialize a closure
<caddoo>	http://php.net/manual/en/functions.anonymous.php
<fleetfox>	skizu: your problem is too abstract, but i think you should get rid of static methods, and have references to the objects
<literphor>	caddoo but i’m not… and if i was, why not an active file or a line number?
<unopoo>	fleetfox: seriously, if there is no bug, that problem shouldn't be into existence
<skizu>	fleetfox: that's my issue, how do i reference the object.
<literphor>	i can read… i see what the error message says :-/
<caddoo>	literphor can you paste a code sample
<skizu>	how do i get \bar\bar to call \bar\baz\baz
<skizu>	fleetfox: ^
<literphor>	caddoo you would have to look at my project, i can’t localize where this error is. the description is completely useless
<fleetfox>	skizu: on instantiation of \bar\bar make sure it has a refrence to baz instance
<literphor>	i was hoping someone might have an idea of why php would throw this kind of error, it seems like a bug
<fleetfox>	new \bar\bar(new baz());
<literphor>	the page actually loads just fine except for that exception at the bottom
<fl0w>	alphos: aye, well, noticed there’s support in simplexml as well - though handled separatley
<caddoo>	using a framework?
<alphos>	literphor could be that you're attempting to store a closure in sessions...
<caddoo>	phalcon maybe
<alphos>	fl0w : simplexml is a piece of crap, seriously...
<skizu>	fleetfox: but baz isn't in that namespace
<fleetfox>	namespace doesn't matter if you have instance of object
<bittarman>	skizu, you're asking about calling classes, if they're not invokable, that makes no sense.
<bittarman>	also, look at late static binding
<bittarman>	skizu, !+lsb
<php-bot>	skizu, lsb stands for late static bindings, a mechanism in php to access runtime informations about chains of static calls. as ever, the manual can help with the details: http://php.net/lsb
<skizu>	bittarman: it's a pseudo class, my example still stands
<fleetfox>	hes problem probably stems from having static calls
<bittarman>	your inheritance model also sucks a bit, but thats a different matter.
<bittarman>	skizu, your example is fundamentally flawed.
<skizu>	bittarman: why?
<primalhunter>	any idea at what point php re-reads the path variable on windows?
<bittarman>	but in \far\bar, you can use static::somemethod() to call a method as it is defined in \foo\bar\baz when \foo\bar\baz extends \foo\bar
<bittarman>	primalhunter, it doesn't
<primalhunter>	i doubt it's set at compile time. _server["path"] does contain something but it's missing the latest additions. so i wonder at what point that variable would be updated.
<skizu>	bittarman: so in all definition of anything extending \foo\foo it'll need to define the same static method?
<fleetfox>	..
<bittarman>	skizu, or, define it as a noop in foo\foo
<helvetet>	trying to search a array of values for values starting with "foo_", does anyone know any function that does that
<helvetet>	i only found functions that searched the keys
<naktibalda>	helvetet: !+array_filter
<php-bot>	helvetet, array array_filter(array input [, mixed callback])  - filters elements from the array via the callback. - http://php.net/array_filter
<siddharth030>	friends how to put . in a string
<bittarman>	siddharth030, "like . this"
<naktibalda>	"." here it is
<primalhunter>	any idea why php.exe would give me the current state of the path variable on windows and php-cgi.exe would not?
<siddharth030>	for example i have filename.txt
<bittarman>	siddharth030, "filename.txt"
<bittarman>	primalhunter, because php-cgi is being used in a cgi environment
<siddharth030>	i am getting file uploaded from html form
<siddharth030>	now i have filename and extension
<helvetet>	i dont get how that one works naktibalda
<siddharth030>	i want to combine these two
<bittarman>	siddharth030, implode('.', [$filename, $extension])
<primalhunter>	siddharth030, "filename"."."."txt"
<naktibalda>	helvetet: you could use a foreach loop too
<bittarman>	helvetet, you shouldn't use user supplied filenames on your own system though.
<siddharth030>	bittarman can iu do this $result=implode('.', [$filename, $extension])
<bittarman>	siddharth030 !+tias
<php-bot>	siddharth030, [tias] try it and see. if you want to know if or how something works, try it first. "testing is absolutely simple"
<primalhunter>	bittarman, thanks. i'll have a look at the difference.
<siddharth030>	bittarman : itried this "." it didnot help
<g105b>	is the most efficient way of obtaining a line number for where a substring exists to iterate over each line of the file?
<bittarman>	siddharth030, http://3v4l.org/zz7b4
<bittarman>	g105b, any method you use would ultimately need to do that.
<siddharth030>	bittarman:ty thats same i was looking for
<bittarman>	g105b, you could use the file function, with the array searching functions so you don't actually have a loop in your code, but internally, in the c code, its still going to iterate.
<bittarman>	siddharth030, and you couldn't give that a try for yourself becaues?
<bittarman>	*because
<siddharth030>	what ??
<bittarman>	siddharth030, try it.
<siddharth030>	i never did that before
<siddharth030>	but im tring it now
<skizu>	bittarman: sorry, i got pulled away, how would i define it as a noop in foo\foo
<skizu>	bittarman: actually don't worry, i'll restructure so that there's no "magic"
<naktibalda>	g105b: grep -n
<siddharth030>	bittarman:i tried that works fine but there is a problem when i get full path with extension it gives me /.../filename.text/html
<siddharth030>	i mean in exntension it gives text/html
<siddharth030>	i want to just get filename.html
<siddharth030>	and file extension could change
<naktibalda>	siddharth030: it looks like you try to use mime type as extension
<siddharth030>	i dont know about this but what i want is fullpath+filename+extension
<siddharth030>	how to get that i can get fullpath+filename
<bittarman>	siddharth030, var_dump the var you think contains the extension... it does not contain what you think it does.
<aton`>	hi
<siddharth030>	bittarman:how to get its extension i dont know
<bittarman>	siddharth030 !+fileinfo_into
<bittarman>	siddharth030 !+fileinfo_info
<viper-7>	!+finfo_file
<viper-7>	:<
<php-bot>	string finfo_file ( resource $finfo , string $file_name = null [, int $options = fileinfo_none [, resource $context = null ]] ) - return information about a file - http://php.net/finfo_file
<siddharth030>	i tried $_file['var']['extension']
<bittarman>	thats the one.
<viper-7>	siddharth030: dont trust that, the user gave you that.
<aton`>	i got a database with strings in utf8, but some of the strings contain broken umlauts like Ã¼, it seems like there has been some inconsistency in the encoding in the past. is there an easy way to fix that? (most of the encoding is correct though)
<bittarman>	siddharth030, i'm going to upload a file named '/../index.php' to your site.
<viper-7>	finfo_file() will actually check the file contents to make sure
<siddharth030>	bittarman : you didnot get it
<viper-7>	and yes, will return a mime type like text/plain or image/jpeg
<siddharth030>	no body will be able to reach that
<viper-7>	which you'll have to map to .txt or .jpg yourself
<bittarman>	aton`, thats utf8 being displayed as something else, fix your headers.
<bittarman>	and tell the browser to use utf8.
<siddharth030>	viper bro i just need this path/name.extension how to get that
<bittarman>	siddharth030, you've been told already.
<bittarman>	finfo_file
<bittarman>	now read its docs.
<naktibalda>	siddharth030: why do you need extension?
<viper-7>	"this path/name.extension" is not at all clear
<siddharth030>	actually i willo run a shell behind
<viper-7>	the original filename the user had? the temporary filename your webserver assigned? or the virtual filename you
<viper-7>	're going to keep somewhere else like a db
<siddharth030>	ok ok i got it i will do that'
<primalhunter>	i had a look at the php.ini and some more system settings but i can't figure it out. the path variable on windows is system wide. so a change to it should reflect (at least) as soon as the php-cgi is restarted, but it doesn't. even if i directly call php and php-cgi from a console i get different values for the path. could it be that php-cgi does have some kind of cache?
<viper-7>	primalhunter: no, the path value is not system wide. at least not during runtime
<aton`>	bittarman: my header is utf-8, it seems some text has been double encoded :/
<viper-7>	system services will typically have a very minimal path
<viper-7>	you can see it in $_env
<aton`>	bittarman: the original db entry reads like this: &atilde;&curren;
<g105b>	in an array of associative arrays, how do i remove duplicate associate arrays? array_unique seems to only work with numeric/string values?
<aton`>	seems to be utf8 in wrong display converted to html entities
<viper-7>	aton`: oh have fun turning that back :/
<viper-7>	in theory html_entity_decode() with iso-8859-1 then it should be valid utf-8 again
<viper-7>	but ugh, i doubt that theory will hold too well :p
<aton`>	viper-7: i guess i will have to do a search&replace for the most common characters and leave the ugly rest as it is
<viper-7>	still worth trying a proper decode
<bittarman>	aton`, you used htmlentities with the wrong encoding.
<aton`>	bittarman: no, most of it is actually utf-8
<viper-7>	bittarman: the question was how to repair the data
<aton`>	if i can display it correctly, i can overwrite it correctly, but so far i get mixed reulsts
<aton`>	results*
<bittarman>	oh right, i'm in and out, thought it was still the same as earlier.
<primalhunter>	i guess that means i'll be stuck until the next maintenance window than. thanks viper-7
<aton`>	i use html_entity_decode($msg, ent_quotes, 'utf-8')
<aton`>	which decodes most(tm) of the text correctly
<viper-7>	aton`: no, you'll need to decode it as iso-8859-1 since that what it was encoded as
<viper-7>	then it should result in valid utf-8 byte sequences
<aton`>	yea, its a mixture of latin1 and utf8
<aton`>	when i decode as iso-8859-1, i get the broken umlauts correctly, but then i get lots of ��
<aton`>	seems the former admin saved some data as latin1 and some as utf-8
<viper-7>	heh yeah, so.. fun :/
<naktibalda>	aton`: how many different characters are there?
<aton`>	about 10 i guess
<aton`>	äüöÖÜÖß
<aton`>	and then some rare ones
<naktibalda>	update table set field = replace(field, "&atilde;&curren;", "ä")
<aton`>	naktibalda: yes thats probably the solution that i am gonna go for
<aton`>	thanks for your help everybody
<primalhunter>	thanks for the help and see you all. :)
<tuskkk___>	i am still not able to identify the end :( please help https://bpaste.net/show/a7741cf371e7
<tuskkk___>	->504 bad gateway
<naktibalda>	tuskkk___: var_dump($next_url); before return
<tuskkk___>	my logic was- 1.hit url, 2. parse data and save, 3, get the next_url and hit it, repeat till there is a next_url
<naktibalda>	you have to discover the end condition yourself before you can write the code to check iyt
<naktibalda>	it
<tuskkk___>	naktibalda: even after var dump, 504 gateway time-out
<naktibalda>	do it manually
<tuskkk___>	naktibalda: i tried doing it manually, but it seems endless
<naktibalda>	maybe it is
<naktibalda>	try skipping some pages
<tuskkk___>	then how to limit it
<naktibalda>	decide how many results do you actually need
<tuskkk___>	like say go over 100 pages, and stop
<tuskkk___>	say i need 100 entries total
<tuskkk___>	then?
<tuskkk___>	i hope you don't leave me hanging naktibalda
<naktibalda>	talk to your project manager
<fleetfox>	lol
<tuskkk___>	:(
<tuskkk___>	he wont even be able to code up this far
<naktibalda>	not about the code, but about how many results do you need
<naktibalda>	and he probably would if he knew about ##php
<tuskkk___>	lets say i give them 100 for now, and let them decide it later using some variable for count
<tuskkk___>	shall i put the check in while: $results has 100 entries stop
<fffuuul>	tuskkk___: you can also advice him you know?
<tuskkk___>	fffuuul: that i can do later, first i need to show some results are coming
<tuskkk___>	but is my logic even correct?
<tuskkk___>	will something like this work? (!count($results) == 10)
<naktibalda>	!=
<alyx>	tuskkk___: no
<alyx>	tuskkk___: ! is binary
<bittarman>	tuskkk___, its wrong on so many levels.
<tuskkk___>	oh
<tuskkk___>	bittarman: please help me writing it correctly
<bittarman>	tuskkk___, operator precendence.
<bittarman>	and sanity
<bittarman>	if (count($foo) !== 10)
<alyx>	and exclaimations!
<bittarman>	tuskkk___, https://php.net/manual/en/language.operators.precedence.php
<tuskkk___>	not that, the logic in code
<alyx>	the code is illogical!
<bittarman>	note how ! is right associative, and higher precendence than ==
<fffuuul>	needs more parantheses!
<fffuuul>	if( (count($foo)) !== (10) ) :<
<alyx>	you could use some more
<alyx>	((if((count(($foo)) !== (10)) ))
<tuskkk___>	here is what i have now, https://bpaste.net/show/ad8c902bcde8
<bittarman>	tuskkk___, looks like a candidate to move into a work queue
<tuskkk___>	what?
<bittarman>	tuskkk___, http://www.sitepoint.com/use-rabbitmq-php/
<alyx>	yaaay rabbbitmq!
<tuskkk___>	bittarman: looks good, will read it later, but right now please help me make this one work
<bittarman>	tuskkk___, set_time_limit(0)
<bittarman>	disable the time limit, and let your user watch a loading bar for several minutes then.
<hassoon>	i sthere a way to make a php file able to receive data from html forms written in seperate files ?
<hassoon>	is there *
<bittarman>	if you insist on shooting yourself in the foot.
<bittarman>	hassoon, yes
<hassoon>	bittarman: can you please tell me how ?
<bittarman>	hassoon, it doesn't even have to be a html for, you can do it from curl on cli
<bittarman>	or any other http client.
<bittarman>	hassoon, the form just sends a request, encoded in a standardised manner.
<bittarman>	thats all a html form is.
<bittarman>	you can set the action attribute to say where to send it
<tuskkk___>	wow, getting a 429, api limit reached
<bittarman>	and the data in your form is either passed in the query string, or in the request body (encoded in exactly the same way) depending on the method attribute of the form.
<bittarman>	tuskkk___, now go use a queue like i suggested :p
<tuskkk___>	bittarman: we add that line, just before the do block right?
<hassoon>	bittarman: well i can write in a every given form action="said_file.php", but how can i recognize if the data coming from this html-form's file, or that
<bittarman>	tuskkk___, no, you rm most of that code, and use a queue.
<hassoon>	well how *
<tuskkk___>	ok, reading about the queue
<bittarman>	hassoon, you can use a hidden input
<hassoon>	ah
<bittarman>	just remember, it doesn't say which file submitted the form, it just gives you a key to see the intent of the form
<bittarman>	hassoon, anything that can be sent by a browser can be spoofed!
<bittarman>	including referer url's and hidden or read-only  form elements,
<hassoon>	in every form, i leave a hidden input containing e.g the form's role/name, so later in the php file, i test if this hidden field's content equals x or y or z
<hassoon>	?
<hassoon>	so that i can do whatever i want according to the form being used
<hassoon>	ah wait, can't the attribute <form name="whatever"> be passed ? :o
<bittarman>	hassoon, why not just choose based on the url it was posted to?
<bittarman>	and no, the name attribute of the form is not sent.
<hassoon>	bittarman: ah i liked the hidden input idea, but i don't know how to retrieve the url a form (among others) came from in a .php file
<lapide_viridi>	hey, what do the dots in this code do? 'from: www-data@server.net' . "\r\n"
<twh>	i'm working on a legacy project which because of it's nature has to be tested on a remote server. anyways, i'm having some problems and i need to turn on error reporting, i tried changing php.ini, the new settings show up in phpinfo(), everything is cool, but still no errors. i even tried this on an empty file "error_reporting(-1); echo error_reporting(); die();" and it echoes out 0, even tho i just set it to e_all.
<lapide_viridi>	does it simply put the string together?
<twh>	@lapide_viridi: they append the strings together.
<fffuuul>	lapide_viridi: concatenating strings
<lapide_viridi>	thanks, i wan't wrong after all. i'll try to remember the term.
<fffuuul>	lapide_viridi: the last part are non-printabled characters, needed by e-mail protocols
<fffuuul>	lapide_viridi: learn about php syntax https://php.net/manual/en/language.operators.string.php
<lapide_viridi>	jup, i remembered that. long time since i wrote this script.
<runtyrobot>	i have a string containing some html - where i'd like to retrieve data related to a given data-attribute. what's the easiest way of getting around this? regex? hiring slave labor? or something else?
<fffuuul>	runtyrobot: dom?
<go|dfish>	runtyrobot: depends on what the html looks like and what you need to extract. domdocument::loadhtml and domxpath::query
<runtyrobot>	currently it looks like; http://pastebin.com/bzbf6hwv - what i'm trying to fetch is the different instances of data-appt-id=
<go|dfish>	runtyrobot: ok. well the "wrong" way to do it using regex would be: preg_match_all('/ data-appt-id="(\d+)/', $html, $matches);
<runtyrobot>	i think i got it working with domdocument - just have to work out the kinks :) thanks a lot :)
<go|dfish>	runtyrobot: https://bpaste.net/show/fe50fc03c0c5 is the "right" way
<vspike>	what are the benefits or otherwise of using a unix socket for your php fpm pool vs a local tcp socket?
<bittarman>	go|dfish, is $html from user input?
<bittarman>	vspike, tcp socket means you can easily scale horizontally, unix socket is a micro-optimisation faster.
<go|dfish>	bittarman: no idea. it's in a string apparently.
<bittarman>	go|dfish, well, if $html is user input, then its not the right way, as you've not disabled entity loading.
<runtyrobot>	in brief, it's html generated by a function in a wordpress plugin (which i didn't write) - where i need the data, to do an export data function for a client.
<bittarman>	https://www.owasp.org/index.php/xml_external_entity_%28xxe%29_processing
<vspike>	bittarman: so in most cases shouldn't really matter either way assuming you want web + php on the same box
<bittarman>	vspike, pretty much, yes
<bittarman>	the other thing would be that if you have lots of pools, unix sockets means lots of files
<vspike>	if i can connect to the local tcp socket, how can i test if my pool is alive and working?
<bittarman>	heh, send it a fcgi request
<bittarman>	not really a task best suited to a human
<vspike>	i'm trying to debug a case where i have gateway timeouts, web server is logging connect timeouts to the backend, the php processes are running, the local port is listening, but php is not really logging anything useful
<bittarman>	its usually helpful to make sure your webserver fastcgi timeout is greater than php's max_execution_time
<runtyrobot>	go|dfish got it working - thanks a lot :)
<vspike>	this setup is copied from a long-standing production setup to newly built servers, so while i can't guarantee everything is the same (ub 14.04 vs 12.04 for example) it should be mostly good
<antim0>	hi all
<jm0>	antim0: ey
<antim0>	somebody got a moment to help me with some code that i cant get to work?
<jm0>	antim0: throw a paste
<fffuuul>	antim0: http://paste.ee
<antim0>	http://pastebin.com/lnyvbsxs http://pastebin.com/9ndxqbcj http://pastebin.com/humnjsgt
<antim0>	(the first code uses functions on the other 2)
<fffuuul>	http://gist.github.com/ < actually this is mor ehelpful if you paste many files
<zap0>	antim0,  <?php echo $produkt_navn ;?> fugly, better:  <?= $produkt_navn ?>
<antim0>	does that work in php?
<fffuuul>	depends on what version he is using and if he is allowed to do short tags
<fffuuul>	antim0: yes, since 5.4. short tags are enabled by default but if they are not enabled your code will fail on <?=
<fffuuul>	the safe way to do it is <?php echo
<fffuuul>	or whatever you are using to output stuff
<net2014>	hello
<antim0>	hey
<antim0>	well, the problem resides in that i cant "add" products to the cart
<naktibalda>	fffuuul: you are wrong, short tags are not enabled by default since 5.4, since 5.4 shot tag setting no longer applies to <?=
<antim0>	im running php 5.3.10
<zap0>	why?  thats old.
<zap0>	antim0,  <?php  $specs = "specs/$produkt_id.php"; include ($specs);?>     <--- this smells funny.
<net2014>	how would you understand the following: "integration of applications with php and mysql"?
<fffuuul>	naktibalda: what is the difference? you say you can't disable short-tag syntax?
<bittarman>	fffuuul, <?= is not short tag syntax.
<zap0>	net2014, which word do you not understand?
<naktibalda>	fffuuul: you can disable <?, but not <?=
<fffuuul>	it's not part of it?
<bittarman>	not since 5.4
<fffuuul>	so what is it called?
<net2014>	zap0: doesn't intergration means to assemble?
<bittarman>	fffuuul, short echo
<antim0>	that works...
<antim0>	its just to add the product specs
<zap0>	net2014, inter..  means to  connect things together.  make them communicate.  join them.  embedded parts into each other.
<fffuuul>	seriously, the official name is short echo and will always work above or equal 5.4?
<fffuuul>	does that change in php7.x?
<fffuuul>	or will the short echo remain
<net2014>	zap0: so, basically: "build applications with php and mysql"
<net2014>	then
<net2014>	?
<naktibalda>	fffuuul: http://php.net/manual/en/language.basic-syntax.phpmode.php
<naktibalda>	note: starting with php 5.4, short echo tag <?= is always recognized and valid, regardless of the short_open_tag setting.
<zap0>	net2014, yes that is one interpretation.
<net2014>	zap0: thanks
<net2014>	zap0: what other interpretations would be?
<antim0>	added it to a gist https://gist.github.com/antim0/4e15485954bdef048940
<fffuuul>	i see
<zap0>	net2014, integrate might also mean.   i have an existing application, that wishes to communicate with a php/*sql  system.
<fffuuul>	thanks for clarifying
<zap0>	net2014, maybe i have a js "app" running inside a browser.  and i want to "intergrate" it with php.  that may mean just calling web services implementated in php.
<net2014>	zap0: ah, ok, or i have app a and app b, make app a communicate with app b, through other means, like xml, an intermediary database etc
<zap0>	net2014, yes.
<net2014>	thanks zap0
<twisted`>	hey - there doesn't seem to be a psr for a mailer, any best practices though? cause i want to strip out the custom one we use in a project and just provide a method that others can replace it with their own
<bittarman>	twisted`, i'd recommend you don't re-invent that wheel unless you *really* know what you're doing.
<twisted`>	this is what i'm asking, heh, i hoped there was a psr for a mailer so i can just make our class compatible... and have it load ours if available and else another
<bittarman>	twisted`, use a well established one like swiftmailer, or phpmailer, or zend\mail
<bittarman>	there's no interop between those libraries though
<twisted`>	yeah was afraid so, damnit that seems like too much of a hassle then though, might just disable that functionality alltogether then
<twisted`>	we're willing to oss a tool we use internally, but we can't ship all the bits ;)
<jpastore>	hi, a script i wrote is no longer able to curl a site i was previously accessing. i was wondering if anyone else has run into curl being blocked somehow. i noticed yahoo.com doesn't respond to my curl request. any ideas on how to overcome that?
<twisted`>	firewall?
<jpastore>	nope can access from browser
<fffuuul>	jpastore: no  idea. guessing
<genio>	that's usually that they're blocking either your user agent string, or they've blocked you for not playing nicely according to their eula
<jpastore>	checked headers...
<jpastore>	headers are identical to ff or chrome.
<genio>	play nicely and most people don't have a problem.  set your ua string to match that of ie
<jpastore>	this is for playing nicely. roboticzing a form to help people submit applicaiton to a complex app
<nisseni>	i'm using raphael.js and imagemagick to make it possible to put an image on another image. when i rotate it more than 90 degrees, it's getting out of bounds. any idea what might cause this? http://imgur.com/yamedpd,kllhhla#0 and http://imgur.com/yamedpd,kllhhla#1
<vspike>	right, i fixed the problem that was causing no pages to render.. no database connectivity. i'm left with the lesser, but still annoying, problem of no useful php error logs. the pool access log seems ok.
<zap0>	vspike, why is your code so fragile?
<vspike>	the error log says "[12-may-2015 10:40:24.481876] notice: pid 4128, fpm_conf_init_main(), line 1683: configuration file /etc/php5/fpm/php-fpm.conf test is successful" when it starts but nothing after that
<vspike>	zap0: regarding db access? it's wordpress
<bittarman>	vspike, looking in wrong file
<bittarman>	thats the log for php-fpm, not for php.
<bittarman>	look at phpinfo()
<stevenm>	hey mediawiki recommends xcache (or apc/wincache) as it has an object cache.... but my server is already running php 5.4 with zend opcache....  if i install xcache as well (as zend opcache is missing object caching) will it conflict?
<bittarman>	stevenm, if you try and enable opcaching from both... yes
<fleetfox>	can't you just install apcu?
<stevenm>	bittarman, presumably those using php 5.5 (which has opcache built in and switched on by default i should image) use a special version of xcache that works along side!?
<stevenm>	*imagine
<stevenm>	fleetfox, i thought apc was discontinued
<fleetfox>	apcu(object cache) is still there
<bittarman>	stevenm, i don't know, don't use xcache.
<stevenm>	many things still exist fleetfox
<fleetfox>	stevenm: it's maintained
<stevenm>	apc has had no new releases since september 2012
<bittarman>	stevenm, he said apcu not apc.
<fleetfox>	https://github.com/krakjoe/apcu
<stevenm>	ok understood
<stevenm>	so this apcu - has it always had it's opcache stuff stripped? (is that why it's apcu and not apc ?)
<stevenm>	i.e. should *any* version of apcu work with *any* version of opcache - regardless of php version
<fleetfox>	http://www.mediawiki.org/wiki/manual:cache#object_caching states it supports memcached
<bittarman>	stevenm, yes, thats why it exists!
<fleetfox>	i just stick redis in everything :p
<bittarman>	fleetfox, what do you put in your coffee?
<fleetfox>	nothing, i like my coffee black
<gnfz>	is it possible to use type hinting when passing an array to specify the type of object the array contains as well?
<fleetfox>	you mean hint collection type?
<fleetfox>	nope, you can do mytype[] in annotation, but no language level support
<gnfz>	ok thanks
<stevenm>	thanks fleetfox & bittarman  -  i understand a lot better now
<stevenm>	unfortunately my employer makes me use plesk :( - i'm waiting when they support debian 8
<stevenm>	it'll make things a lot easier having php 5.6 and opcache out of the box
<stevenm>	at the moment i'm on debian 7
<lann>	ugh this is killing me. what is the name of a set of numbers that have a pattern such as 1,2,3,4,5 and 8,9,10,11,12 ?
<fleetfox>	there is no rfc for hinting collections?
<fleetfox>	lann: range?
<bittarman>	lann, sequence
<bittarman>	sequential
<bittarman>	consecutive
<lann>	sequence, thanks
<genio>	sequential real numbers?
<bittarman>	ordered
<lann>	yeah
<lann>	i just couldnt think of the word
<runtyrobot>	i have an issue with explode returning undefined within strings; http://pastebin.com/tbhcsd42
<runtyrobot>	anyone know what i'm doing wrong here?
<bittarman>	runtyrobot, undefined is not something php does...
<bittarman>	thats something you get from javascript
<runtyrobot>	i agree
<bittarman>	i don't think the code is doing what you think it is.
<bittarman>	and i think there is more to it than you have in your paste.
<runtyrobot>	bittarman - seems as if it's something in the postman addon i'm using - since it's not present in the raw format.
<runtyrobot>	cheers
<bittarman>	runtyrobot, yw
<net2014>	hello
<antim0>	hey net
<net2014>	if someone in an isolated, standalone phrase says "deep understanding of the ideas under development" in an ad
<cougarten>	can you recommend me a php grep script? i got a bunch of files and want to find text in it.
<net2014>	what does he mean? does he refer to project requirements (business logic) or the technological concepts?
<biberu>	cougarten: php.net/pcre
<cougarten>	biberu, i'm to lazy to build it myself :)
<naktibalda>	!+recommend
<php-bot>	no, we cannot recommend <whatever you asked about>. we're here to help you write php code, not spend hours arguing the relative merits of a versus b. we won't recommend packages, libraries, scripts, sites, languages, version control systems, or sports teams; our only recommendation is that you please take your recommendations questions elsewhere (e.g.,  https://softwarerecs.stackexchange.com/)
<antim0>	somebody could help me with a basket not working?
<cougarten>	naktibalda, alright, that's a point :) sorry for bothering
<yamakasy>	guys, before i reinvent the wheel, this is no script request but i need some sort of mailing software (which i like to extend) which can mail with a template from a db but is not managed like a mailinglist. i need to get some attention from people they need to update some stuff and a "managed" webbased thingy would be best i guess
<yamakasy>	where should i look for ?
<mariuscc>	is anyone aware of a method for secure storing of passwords in plain text ?
<fffuuul>	mariuscc: you joking right?
<yamakasy>	mariuscc: yes, don't
<mariuscc>	well i need to store some ftp passwords, what's the approach ?
<mariuscc>	i can't create a hash on them
<naktibalda>	mariuscc: ftp or sftp?
<mariuscc>	both
<ledat>	well, filezilla stores them as plain text in a xml file
<mchelen1>	you could encrypt them with user's pass
<naktibalda>	ftp sends them in the plain text, so there is not much point to encrypt them locally
<mariuscc>	indeed
<malade_mental>	hi people, i'm modifying an existing website that is not documented at all. i want to know if it's possible to log every action php is doing?
<naktibalda>	malade_mental: what do you mean by action?
<mariuscc>	use xdebug and create a trace log
<orion>	hi. when it comes to php-fpm, should i only run as many children as there are cpus?
<malade_mental>	naktibalda: the problem is that the websites redirects itself to the 'online' version, and i don't know where
<malade_mental>	xdebug mariuscc ? never heard of it. gonna test
<mariuscc>	xdebug is a must have for every php developer
<malade_mental>	cool :d
<sazpaimon_>	so this kind of is a question relating to an extension but i think its still general enough to ask here. i'm trying to use this xz extension for php to compress some post data. however, the extension only seems to support file operations like xzopen/read/write/passthru and nothing like xzcompress. i'm wondering, what would be a good way to work around this limitation?
<ledat>	php://input maybe?
<martinml>	dump to tmp and compress? php://input?
<sazpaimon_>	i can't do all of php://input because i only want 1 element from my post data array to be compressed.
<sazpaimon_>	hmm, i wonder. the extension also introduces a compress.lzma stream filter. so i wonder if i can do something like file_get_contents("compress.lzma://data://text/plain$mydata")
<sazpaimon_>	would that work?
<dagerik>
<sazpaimon_>	or alternatively i could do $stream = xzopen("php://temp");xzwrite($stream, $mydata); rewind($stream), $compressed = stream_get_contents($stream);
<sazpaimon_>	i don't know which is more ideal, though
<fffuuul>	what does work?
<fffuuul>	optimize afterwards
<malade_mental>	naktibalda: i installed xdebug and it's working, would you give me a hint of which option/function could help me to trace de behavior of php before it redirects my page?
<naktibalda>	malade_mental: wasn't me who suggested to use it
<naktibalda>	malade_mental: http://xdebug.org/docs/execution_trace
<malade_mental>	woops sorry
<malade_mental>	thx for answer anyway
<moep>	is there a good windows xdebug client?
<sazpaimon_>	sublime text is alright
<sazpaimon_>	with the xdebug plugin
<moep>	that's buggy as hell in my setup :/
<cryp71c>	does natsort do lexicographical ordering?
<yousaf>	hi all,
<yousaf>	what's the best way of finding duplicate article (say blog posts) in a database? basically, if you find articles that are say 90% duplicate, flag them
<sazpaimon_>	well unfortunately both methods give me a segfault so i'll have to file a bug with the extension author
<zap0>	yousaf, 90% cause they use the letter 'a' ?
<cythrawll>	yousaf, not really a quick way to do that unless you do a brute force, probably going to be slow with a lot of data
<bittarman>	yousaf, define a method to work out how similar they are, apply that meter, and hit the button.
<cythrawll>	yousaf, http://php.net/levenshtein
<cythrawll>	that could help
<yousaf>	hmm that points in me in the right direction
<yousaf>	thank you cythrawll
<cythrawll>	yousaf, http://php.net/manual/en/function.similar-text.php
<yousaf>	zap0 not in terms of letters but sentences and paragraphes
<cythrawll>	that could potentially work better for your needs
<slashlife>	levenshtein on blog posts feels like a bad idea. :/
<yousaf>	abit like how google detects duplicate content
<yousaf>	but not as sophisticated as them obviously
<zap0>	yousaf, what if their sophistication is the absolute minimum required to detect something.    less than that would just not work.
<naktibalda>	yousaf: lookup tf-idf
<zap0>	yousaf, you've got a really loose definition.    you need to go stare at the cat a bit longer.
<yousaf>	naktibalda that's for relevance not for duplicate content detection?
<yousaf>	zap0 here is an example http://pastie.org/10184618
<slashlife>	yousaf: i'd probably check the diff tool whether it has a mode that produces output that can be used to create a metric for similarity.
<yousaf>	note the difference between the two instances is "parkinson wright" and "jackson cantrel"
<zap0>	yousaf,  if 90% of a huffman table of the text is the same.. that might give you a metric
<slashlife>	not a bad idea, either.
<naktibalda>	https://janav.wordpress.com/2013/10/27/tf-idf-and-cosine-similarity/
<naktibalda>	but you need something more like copy-paste detector, right?
<yousaf>	hmm http://www.seobythesea.com/2008/02/new-google-process-for-detecting-near-duplicate-content/
<yousaf>	found something cool https://github.com/seomoz/simhash-py
<_genuser_>	do you guy use classes and encapsulate functionality, or do you guy just use functions in a file and organize your code that way?
<_genuser_>	i'm used to using just functions in php, but now thinking i should organize it like any other code - in classes.
<laszlof>	oo is the way to go
<_genuser_>	alright, at least one vote for oo. :)
<laszlof>	people are just being quiet
<laszlof>	they'll tell you the same thing
<naktibalda>	!+survey
<php-bot>	if you have to ask "does anyone here use foo" or "are there any baz experts around" you're just taking a survey. you'll likely get an answer quicker if you just ask specifically what you need help with.
<zap0>	yousaf, their method does not sounds very scalable..  if it's generating rolling hashes; it's generating as much data as it is ingesting.
<sorabji>	_genuser_: oo when i do php
<_genuser_>	sorabji: thanks.
<_genuser_>	i was curious because others teams might use my code and it makes sense to have it written in a usable/re-usable manner.
<zap0>	_genuser_, by the time you really need extensive code organizing;  you've probably chosen the wrong language!
<happy_the_exceed>	_genuser_, rather than a survey, why don't you begin oo now?
<oq>	_genuser_: if you ever have to collaborate with others they'll just laugh at you if you have a functions.php
<laszlof>	functions.php
<laszlof>	haha
<laszlof>	man
<laszlof>	memories
<_genuser_>	true that on functions.php. yet last time i did something similar it was few years ago and back then function collection was ok.
<_genuser_>	even older was asp 3.0 where most asp 3.0 devs didn't even know you could write classes.
<happy_the_exceed>	_genuser_, hey! it's my turn! my q! :d
<_genuser_>	but as i see php oo documentation, i think i'll definitely go with classes.
<_genuser_>	happy_the_exceed: heh, go for it man. ask your q.
<happy_the_exceed>	_genuser_, rather than a survey and chitty chat, why not just begin oo "now".
<sorabji>	we're getting namespaces for functions soon enough, so it might not be such a bad way to approach a problem
<happy_the_exceed>	like, you should not be chitty chatty here too much, because i will know you're not doing oo "now.
<oq>	don't we already have namespaces for functions?
<happy_the_exceed>	functions can be namespaced, and they should be namespaced in case you use any.
<sorabji>	you cannot import namespaced functions, iirc
<happy_the_exceed>	to not collide into already existing function, and function name re-use for different components you may have.
<happy_the_exceed>	_genuser_, i will get you started!!   http://codepad.viper-7.com/lityjv
<happy_the_exceed>	run that php code.   you understand what that is right?   it's    empty,  it doesn't do anything interesting.
<_genuser_>	well it does do _something_.
<_genuser_>	it waste a call to the php interpreter.
<happy_the_exceed>	_genuser_, it's defined.
<happy_the_exceed>	now we have a computer.
<happy_the_exceed>	_genuser_, let's create an object.     we will usee the  new operator to do this.    http://codepad.viper-7.com/x4x9uf
<happy_the_exceed>	now we have an object.
<_genuser_>	happy_the_exceed: i'm comfortable creating classes and using them. my original question was curious as to current state of php userbase.
<_genuser_>	happy_the_exceed: when i used to create classes in asp 3.0, people used to ask me which dll those were being imported in. many devs didn't know you could create classes.
<sorabji>	_genuser_: look through packagist, see how many libs you see without classes :p
<_genuser_>	happy_the_exceed: i wanted to avoid similar situation here.
<happy_the_exceed>	okay!
<skullcrasher>	is datetime::iso8601 the right format for a utc-timestamp in mysql?
<skullcrasher>	or should i better use y-m-d h:i:s
<naktibalda>	use y-m-d h:i:s
<sorabji>	_genuser_: https://packagist.org/
<zeranoe>	how could i validate that a string starts with a letter (regardless of case), followed by 4 numbers, followed by another latter (no case checking), followed by a letter or a 0, and finally followed by a number. an example could be e0326v01 or e0123vb0
<maoi>	zeranoe: sounds like you need regular expressions.
<maoi>	regex
<maoi>	!+pcre_match
<_genuser_>	sorabji: yep, saw that. bookmarked it.
<maoi>	zeranoe: !+preg_match
<php-bot>	zeranoe, int preg_match(string pattern, string subject [, array subpatterns [, int flags [, int offset]]])  - perform a perl-style regular expression match - http://php.net/preg_match
<noiseeee>	zeranoe: https://regex101.com/ and http://www.regular-expressions.info/tutorial.html
<zeranoe>	maoi: i'm sure ill use preg_match, i just stuggle with the string to validate
<noiseeee>	zeranoe: if you go to regex101 and show something you've tried yourself / something showing you're trying, i/we can help you along.
<zeranoe>	sounds good
<arrick>	hey all, i have the following code... i need some help because i am so new to programming... http://pastebin.com/wt3mztr5
<arrick>	i need to get ito that $emails = array says "if $emails = array conains
<arrick>	contains instead of =\
<zeranoe>	err, this? https://regex101.com/r/vk4xs8/1 noiseeee, maoi
<sorabji>	arrick: i'm not sure what you're asking
<naktibalda>	arrick: contains what? email or name?
<noiseeee>	zeranoe: throw some of your sample strings to test in that "test string" box
<arrick>	naktibalda, contas the 'mike' or 'bill' so that they can put in first and last, or just first, and it will pick up that person
<naktibalda>	i can't parse that
<arrick>	if reviewedby contains 'mike' then set the email to email1@domain.org
<arrick>	if reviewedby contains 'bill' then set the email to email2@domain.org
<arrick>	etc
<sorabji>	arrick: if (isset($emails[$reviewedby])) { ... } ?
<naktibalda>	$emails[$reviewedby]
<arrick>	the [ ] replaces { } in the module i am using if i recall correctly.
<sorabji>	wat
<sorabji>	_genuser_: no!
<naktibalda>	arrick: read a php tutorial
<sorabji>	one class per file
<sorabji>	_genuser_: look into psr and autoloading
<naktibalda>	class functions { ...  }
<sorabji>	lol
<maoi>	zeranoe: odd, it's not running it
<_genuser_>	sorabji: i saw teh __autoload bit. i just thought it was funny replacing one monsterosity with another.
<zeranoe>	maoi: odd, works when i try it. i came up with ^[a-za-z]\d{4}[a-za-z][a-za-z\d]\d
<maoi>	and does it work?
<_genuser_>	sorabji: altho, is a constants.php file a bad idea? this would be all my db connection values.
<zeranoe>	maoi: it seems to, but i don't know if it will accept things it shouldnt either
<sorabji>	_genuser_: autoloading is actually rather simple
<sorabji>	i'd also avoid constants for configuration values
<_genuser_>	sorabji: ok, what is the recommended approach to store connection string values?
<maoi>	http://viper-7.com/xwsirh
<_genuser_>	sorabji: just global $db_host=""; $db_database=""; $db_user=""; $db_pass="";   ?
<sorabji>	_genuser_: ideally outside the application itself
<maoi>	does the explanation in the top right of the regex page match your spec?
<sorabji>	certainly not global under any circumstances
<_genuser_>	sorabji: ok, so then what is "outside the application". let's say my app is in <web_root>/app/. and class1.php needs basica db connection values.
<_genuser_>	sorabji: i was going to do it as require ("db.php") with just those globals in there.
<zeranoe>	maoi: why do you put a double \\ before the d ?
<maoi>	escaping the \
<zeranoe>	maoi: does it not work without that?
<maoi>	because before the regex function can get its hands on the string, it's already been parsed by the php interpreter
<sorabji>	_genuser_: environment variables
<_genuser_>	sorabji: linux/unix shell, for example?
<_genuser_>	at least i'm seeing the general dislike of global variables, :)
<zeranoe>	maoi: interesting... i haven't done that before
<sorabji>	_genuser_: right, environment variables
<maoi>	_genuser_: there's a good reason that people don't like global variables
<_genuser_>	sorabji: i see. i'll keep that in mind to move my db.php into env vars.
<maoi>	a global variable keyed my car and spat in my soup
<_genuser_>	maoi: it would cost you a letter grade in my one of my cs classes. the professor had these rules you couldn't break.
<maoi>	sounds like a good rule
<maoi>	4 uses of a single global variable, and you're already failing
<maoi>	things that also count as global variables: singletons and class variables
<sorabji>	_genuser_: a good rule of thumb i like: could you release the source to your application right now without compromising your database, redis, etc
<noiseeee>	zeranoe: is your problem solved?
<_genuser_>	maoi: singletons were only popularized because some java dev thought he was learning design patterns.
<_genuser_>	sorabji: now, that right there is a tough rule to implement in real life. i've seen so much code that would fail that rule!
<sorabji>	indeed :p
<_genuser_>	but i like it. try to keep it as much outside the application as possible.
<maoi>	sorabji: does it cound if it's "all my code except the salt repo"?
<sorabji>	the 'except' part is probably going to get you in trouble
<zeranoe>	can i loop though all the arguments sent to a function using a foreach?
<sorabji>	zeranoe: yes
<sorabji>	func_get_args
<oq>	is that something you really want to be doing though?
<__adrian>	if you must loop over them, perhaps they ought to be a single arg.  an array?
<zeranoe>	oq: maybe not...
<jyg>	anyone familair with paging ldap queries?
<jyg>	i can page... forward.  i can find nothing about paging backwards
<zeranoe>	i'm trying to figure out how to loop though multiple arrays. can an array contain other arrays?
<jyg>	hmmm... just had an idea... storing the paging cookies...
<jyg>	zeranoe, yes
<__adrian>	yes, of course
<__adrian>	zeranoe  if you're looping over an array and want to also loop over any nested arrays, read about recursion.
<zeranoe>	is that a decent way to pass a variable amount of data to a function, without using global?
<__adrian>	use an array
<__adrian>	or ...
<__adrian>	what sort of "data"?
<zeranoe>	an array... of arrays...
<laszlof>	use ... + func_get_args()
<__adrian>	sounds like... you should use an array
<oq>	__adrian++
<sorabji>	zeranoe: why does your function need a variable amount of args? what is it doing?
<zeranoe>	i have a function that loops through an array. i want to check out multiple arrays with the same function
<zeranoe>	lol
<__adrian>	laszlof  you don't need func_get_args with ...
<laszlof>	ah right, that was for earlier versions before ...
<__adrian>	yes
<__adrian>	and oh my what a pain it was
<laszlof>	indeed.
<laszlof>	i try not to use variable-length arguments if i can avoid it
<__adrian>	zeranoe  is the array-in-question the *only* arg (not counting additional arrays of the same sort)?
<zeranoe>	__adrian: i'm not sure what you're asking. the function is designed to only work with these types of arrays, but there are more than one i want the function to process
<__adrian>	e.g., is your fucntion like  loop_over( array $array ){ ... }
<__adrian>	and you want to do  loop_over( $array1,$array2,$array3 )
<__adrian>	?
<laszlof>	zeranoe: you could just loop through the parent array, and call your function on its children
<zeranoe>	__adrian: well, the function is foreach ($array as $val) { .. } and the function would have function($array)
<zeranoe>	getting confused here...
<laszlof>	or use array_map(), i suppose
<__adrian>	ah - so it's not a function
<__adrian>	it's a foreach.
<zeranoe>	__adrian: the foreach is in a function lolo
<__adrian>	pastebin please
<__adrian>	zeranoe  i'm pretty sure ... is your answer, but the question is starting to get confusing.  :)
<zeranoe>	__adrian: there might be a much better way of doing this: http://viper-7.com/lltphk i believe it is a similar example
<sorabji>	what are you actually *doing* zeranoe
<zeranoe>	i'm trying to process multiple arrays using one function
<sorabji>	"i'm writing code"
<sorabji>	like, what are trying to accomplish
<sorabji>	what is the code doing
<jibbs>	could you elaborate on "process" ?
<sorabji>	where do those arrays come from? what's in them?
<__adrian>	zeranoe  http://viper-7.com/dmmbec
<__adrian>	zeranoe  if you want more than that, you need to give an actual answer to the "what are you trying to do" question, and show us the real code
<zeranoe>	that's even more complicated... i'm validating post input that is coming in as an array, and i'm feeding a validation function with an array along with the preg_string to compare. i use that function to generate another array that conatains any invalid data, and check against that array before finishing the post functions
<zeranoe>	*sign*
<__adrian>	zeranoe  you might want to check out http://php.net/filter_input
<jibbs>	that doesnt seem that complicated
<__adrian>	but also, i don't see why you need multiple arrays for what you describe.
<__adrian>	if you share the code, i will offer further suggestions
<zeranoe>	__adrian: i'll have to come up with something since i cannot share the source
<__adrian>	haha
<__adrian>	what were you going to do if someone offered a solution?
<__adrian>	how would you make them forget it?
<zeranoe>	__adrian: no? it's not that i'm worried about, i can apply concepts
<__adrian>	whatev.  silly.
<sorabji>	^
<zeranoe>	what?
<jibbs>	zeranoe it sounds like you already know what you are trying to do
<jibbs>	if i might...
<__adrian>	something like this is either (a) already solved, and you should use that code  (b) common sense, so why hide it  (c) both
<jibbs>	it sounds like you need an array that contains the field names as keys, and the regex patterns you want to compare against
<jibbs>	then run $_post against those
<jibbs>	and have it return data that shows either valid or invalid, correct?
<zeranoe>	__adrian: it very well could already be solved, i might be over complicating it. i would love it if that was the case
<__adrian>	zeranoe  mm.  too bad you'll never find out.
<__adrian>	:)
<__adrian>	zeranoe  but, again, you might want to check out http://php.net/filter_input
<__adrian>	good luck
<zeranoe>	jibbs: yes, one function returns an array if the post data is valid or not. then i use a final function to check if any invalid parts are in the array at different parts to see if i should continue
<zeranoe>	__adrian: patience, i'm working on an example
<jibbs>	seems like your approach is a bit odd
<zeranoe>	jibbs: very well could be
<__adrian>	sorry, honestly, i don't want an example.  working from examples tends to only uncover parts of the example which are not-exactly like the real case, and so we have to start over.
<__adrian>	not interested.
<zeranoe>	sweet
<jibbs>	http://pastebin.com/u1lwdgnk
<jibbs>	something like that?
<zeranoe>	jibbs: yes, that seems pretty close
<jibbs>	not exactly elegant but i think it solves your problem
<zeranoe>	jibbs: that's pretty similar to what i had, i just have them in functions alone. at least i'm not way off the right path
<jibbs>	well that's tough because you need to be able to identify what fields go with what patterns
<jibbs>	and thats certainly not something you want to expose to the end user
<sorabji>	why wouldn't you want the user to know how to submit data correctly?
<jibbs>	no i mean you don't want to expose the actual regex pattern
<sorabji>	keep trying! not going to tell you what will work
<jibbs>	you still want to explain to the end user what is needed
<jibbs>	i mean you wouldnt want to do something like <input type="hidden" name="pattern1" value="/regexpattern/" />
<zeranoe>	jibbs: i have mine split more, and to add to this the post is coming in as an array for each value (ie name="data-feild[]"). thus the array of arrays\
<jibbs>	well you just need to make a function to iterate over $_post better than, probably be best as a recursive function
<zeranoe>	jibbs: cool, i really appreciate the help.
<jibbs>	your welcome
<ihsw>	how do i have phpunit measure code coverage only on my stuff
<jyg>	as opposed to my stuff?
<ihsw>	jyg: yeah.
<__adrian>	don't give it my code!  how'd you get my code!?
<ihsw>	i want it to measure code coverage only on my ihsw namespace, not guzzlehttp, react, or whatever else isn't in the ihsw namespace
<sorabji>	ihsw: look into the whitelist/blacklist filter settings
<sorabji>	https://phpunit.de/manual/current/en/appendixes.configuration.html
<sorabji>	the <filter> tag :d
<jordan87>	hi im looking to write an htaccess file to redirect or rewrite a url to my cdn
<jordan87>	i'm trying to forward on anything in my domain.com/wp-content/uploads to cdn.domain.com/wp-content/uploads via either method
<sorabji>	jordan87: try #httpd
<zeranoe>	is it possible to set a variable to a return code of a function and preform an if on it's success? i don't want to keep running the function every time to see if its return status. maybe something logically along the lines of: $working = function () {return true;} if ($working) { }
<jordan87>	sorabji: thank you for the tip. someone linked me to a great answer in the httpd docs. https://httpd.apache.org/docs/2.4/rewrite/remapping.html if anyone here should be curious too!
<jordan87>	thanks!
<jibbs>	zeranoe clean up your thought a bit
<jibbs>	that doesn't register in my brain
<ihsw>	sorabji: thank you.
<knosys>	hello
<knosys>	do someone know anything about the hosting company: alfahosting.de?
<sorabji>	no hosting here knosys :d
<knosys>	right, sorry :)
<zeranoe>	jibbs: along the lines of: function errored() {return false;} if (errored()) { echo "function errored"; }, but i don't want to keep running errored() every time to check it's return status and would like to just set it to a var and check against that later
<sorabji>	zeranoe: i'm having a really difficult time following what you want here
<tuskkk___>	is it possible to check for undefined index
<dokma>	hmmm... apc_fetch cannot fetch for key that was just stored in another process? how is that possible?
<sorabji>	tuskkk___: array_key_exists
<zeranoe>	sorabji: what isn't making sense? instead of checking the return code of a function every time i want to run an if depending on it's result, i would like to just set the functions return value and check against that for all if statements (to avid rerunning the function in the if check)
<sorabji>	well, none of that
<sorabji>	made any sense to me :/
<dokma>	hmmm... both processes return the same user for get_current_user so it's not some trickery with that...
<cableguy>	hello
<cableguy>	in this line if (!$('#store-locator-form input[name="zipcode"]').val().match(/^[0-9]{4}$/)) {
<cableguy>	to be exact in .match(/^[0-9]{4}$/)) the {4} is the limit
<cableguy>	so only 4 digit numbers are allowed
<zeranoe>	sorabji: when doing if (function()) {} the function is run to check the error code. every if block that will be checked against the return status of the function() will rerun it. i would like to avoid that by possibly setting it's return code to a variable and running the if against that set variable, so the inital function check is only run once
<cableguy>	how do i do that and 4 digit allowed and 5
<sorabji>	cableguy: is that javascript?
<cableguy>	sorabji, this is in .php, but js triggers it
<cableguy>	as a validator
<jibbs>	zeranoe sounds like something you would do with an object
<cableguy>	if theres less than 4 numbers then it gives popup message
<cableguy>	also gives popup if more than 4
<jibbs>	are you farmiliar with classes?
<cableguy>	but i need to allow and 4 and 5
<sammitch>	$ret = func(); if($ret){} else{}
<zeranoe>	jibbs: roughly, but not comfortable
<cableguy>	wait, sorabji yeah that part is from js
<cableguy>	php part is $zip = (isset($_post['zipcode']) && preg_match('/^[0-9]{4}$/', $_post['zipcode']) > 0)
<cableguy>	they both has that ^[0-9]{4} part
<jibbs>	zeranoe.... $status = geterrorcode($whatever); if ($status == ...), elseif ($status == .....)
<alphos>	no, it's e_destruction_by_ninjas_from_outer_space
<_genuser_>	alphos: agreed, there's a difference. but since end result would be the same - user isn't authenticated. i was thinking of simplifying this situation.
<ph88>	why does this error not point to a line number in the file debugserviceprovider.php ???  https://github.com/jeromemacias/silex-debug/issues/5
<_genuser_>	alphos: this ways, i'd have to return an error, and then check for that in caller _in addition to_ catching exceptinos. i don't mind doing it. i was just curious how other devs feel about this type of situation.
<naktibalda>	ph88: because debugserviceprovider does not throw it
<_genuser_>	alphos: so i suppose, you'd opt for handling the two situations differently. (that's how i have it currently, i was thinking about moving it to exception in all cases).
<alphos>	_genuser_ different kinds of exceptions should be handled differently : you may wish to warn your dbadmin when a db connection couldn't be made, and your law enforcement (or something, let's not overreact) when provided credentials don't match. so you shouldn't have a single exception handler, so you shouldn't have a single exception class
<alphos>	sorry, it took me a while to properly express that
<_genuser_>	alphos: sure, what about raising a specific exception, so it can be caught explicitly (to check for credential mismatch).
<alphos>	_genuser_ but that's *if* you end up using exceptions for credentials mismatch. i'm not saying it's wrong, neither am i saying it's right
<sazpaimon_>	_genuser_, no i was responding to lnxmen
<_genuser_>	alphos: since, i catch exceptions, i like them now. however, i've noticed many people don't. so if others will use my code, i tend to prefer storing error state in a var and returning false.
<_genuser_>	sazpaimon_: thanks.
<alphos>	_genuser_ that's what i was saying was a possibility. if (and i stress that if) you use exceptions to handle the non-normal part of your otherwise normal algorithm, use specific exceptions so you can handle them in a manner suited to their needs
<_genuser_>	alphos: app will still behave weird if users don't check the var, but it won't crash. on the other hand, nothing will teach them to catch exception unless their code falls flat.
<ph88>	naktibalda: i don't understand ... sure the exception is not thrown there ... but the code is called from somewhere and this does not show up in the stack trace
<_genuser_>	alphos: right, i see. i think it's down to matter of decision really, at this point.
<naktibalda>	4   0.0400  766360  silex\provider\debugserviceprovider->register( )    ..\container.php:273
<alphos>	_genuser_ yep, and it's a bit of what i call a "religious matter" : although both have merit, people tend to have strong feelings for one or the other, and are willing to start a crusade to make their side win
<alphos>	(i'm an atheist in that matter ;-) )
<ph88>	naktibalda: container calls debugserviceprovider->register() function ... then this register function calls container->offsetset  ... but this is not visible in the stack trace. setting here https://github.com/jeromemacias/silex-debug/blob/master/debugserviceprovider.php#l36   setter function here https://github.com/silexphp/pimple/blob/master/src/pimple/container.php#l73
<naktibalda>	 $app['data_collector.templates'] =     this assignment calls offsetset
<naktibalda>	joys of using arrayobject
<sazpaimon_>	wait, alphos, how would that regex even work with whole numbers?
<_genuser_>	alphos: agreed. i used to be pretty decided one way or the other. overtime, i've come to see coding as set of instructions, it will do whatever. and today's design will be useless tomorrow.
<alphos>	sazpaimon_ add a conditional if you want it to handle integers
<_genuser_>	alphos: i kinda like xp principles of make it work for your use case and forget about pointless extensibility.
<sazpaimon_>	ugh what a pain
<literphor>	__adrian: spot on dude! i was indeed storing the closure in a session, just not directly. thank you for the help! i would have never figure that out on my own
<alphos>	sazpaimon_ @\d{1,10}(?:\.\d{1,6})?@ nothing difficult there
<literphor>	or whoever it was that pointed me in the right direction…
<sazpaimon_>	wouldn't it need to be something like @^\d{1,10}(?:\.\d{1,6})?$@
<sazpaimon_>	because what you posted would still match any number whatsoever
<alphos>	sazpaimon_ so you see, it took you less than two minutes to come up with something you've been asking for almost an hour
<alphos>	sazpaimon_ : next time, why not just try and solve it all by yourself, without the ##php training wheels ? ;)
<sazpaimon_>	or i can just stick to python
<sazpaimon_>	i really underestimated the context switch from python to php after a few months
<ph88>	naktibalda: yes exactly ... so why does this assignment not show up with the line number ?
<naktibalda>	ph88: actually it is the line #5 in stacktrace
<naktibalda>	i interpred "..\container.php:36"   as "called from line 36 in container.php
<asteele>	crying about how hard php is will fall on mostly deaf ears ;p
<odraencode>	hey
<odraencode>	i need help with scandir
<ph88>	naktibalda: yes me too !! this is so confusing
<odraencode>	it is not working with my portuguese filenames :(
<naktibalda>	ph88: that trace looks stripped down
<ph88>	naktibalda: why is there no information that this line belongs to    debugserviceprovider.php  and not container.php
<ph88>	naktibalda: wait i check my settings ...
<naktibalda>	i guess that the trace is not related to that file
<ph88>	there is nothing interesting in container on line 36 ...
<naktibalda>	ask #silex
<ph88>	sure i can ask #silex-php but it's about the stack trace of php with xdebug ...
<ph88>	i could make a small test case if that helps
<naktibalda>	#xdebug
<naktibalda>	how about a trace without xdebug?
<ph88>	how to do that ?
<naktibalda>	disable xdebug
<ph88>	ok
<naktibalda>	well, you will probably have to catch it and call ->gettrace()
<naktibalda>	catch exception
<ph88>	naktibalda: looks better http://pastebin.com/7a8abqcw (line 4)    do you think it's a bug in xdebug ?
<naktibalda>	it could be
<ph88>	ok thanks for thinking along
<midoshi27>	i have a subdomain that returns internal server error (500) for index.php and info.php but not for index.html...
<midoshi27>	i turned on php display errors and got these
<midoshi27>	warning: unknown: open_basedir restriction in effect. file(/var/www/dashboard.mydomain.com/index.php) is not within the allowed path(s): (false) in unknown on line 0
<midoshi27>	warning: unknown: failed to open stream: operation not permitted in unknown on line 0
<midoshi27>	fatal error: unknown: failed opening required '/var/www/dashboard.mydomain.com/index.php' (include_path='.:/usr/share/php:/usr/share/pear') in unknown on line 0
<midoshi27>	help?
<ph88>	midoshi27: check php.ini
<midoshi27>	ph88: kk but... uuum what for?
<ph88>	midoshi27: open_basedir
<midoshi27>	ph88: set it to true?
<ph88>	midoshi27: which php version ?
<ph88>	midoshi27: http://php.net/manual/en/ini.core.php#ini.open-basedir   it should be a string with paths
<midoshi27>	ph88: thank you!
<ph88>	midoshi27: you can turn it off as well i think ... but i forgot which setting ... it should be in the documentation i just gave you
<midoshi27>	ph88: i'll return if i have more questions
<ph88>	maybe   none    to turn it off
<midoshi27>	ph88: ok well that got the page to appear but now i have other problems to deal with
<midoshi27>	ph88: thank you tho!
<midoshi27>	ph88: so i can display the login dashboard of my client portal but cannot see anything after an attempted login... and there are no errors or anything... any tips?
<ph88>	midoshi27: ye the default tips if you don't know what your code is doing ...
<zpartw>	certainly on such a crazy setup, they'd need every protection they could get.
<dustin|work>	file storage is relevant with this
<dustin|work>	ok zpart, serve your companys 1000+ users storage space with 1 root user account
<dustin|work>	see how that works out
<zpartw>	um... they wouldn't have unix accounts.
<zpartw>	they would have some abstract form of user account.
<dustin|work>	then your not working with enterprise level storage
<zpartw>	i certainly am not. if they use that kind of stuff, i'd say their model is completely broken and they need to change asap.
<dustin|work>	lmfao
<dustin|work>	this kid
<dustin|work>	go home, you're drunk
<happy_the_exceed>	dustin|work, there goes shared hosting.
<dustin|work>	for real
<zpartw>	shared hosting is pretty much asking for zero security.
<dustin|work>	vps's are gone now due to the one root accoutn on the system
<sorabji>	trollolol
<zpartw>	the server oses seem to have been designed for an extremely naive, friendly atmosphere, whereas in reality, they are used in a hostile and radically different context.
<sorabji>	preach it broham
<dustin|work>	lmfao
<zpartw>	giving users low-level system access like unix user accounts... it's bound to cause issues.
<zpartw>	i've noticed that whenever you tell people about some obvious flaw, they get defensive and start insulting you.
<dustin|work>	damn, if only they'd invent some sort of permissions for these accounts
<dustin|work>	nah, they do that when you don't understand what you're talking about
<dustin|work>	and try to suggest 1 root accoutn per system
<dustin|work>	is the way to go
<sorabji>	it's the only obvious solution
<dustin|work>	obviously...
<sorabji>	we've been doing it wrong for so long, how has no one noticed
<dustin|work>	damn us for not seeing the light!
<zpartw>	sendmail sends out tons of private information about the system in the headers by default. that's just one example of many of how there is just zero security thinking going on, making me unable to trust the os "accounts" in any way.
<sorabji>	thankfully zpartw is here to bestow the wisdom
<happy_the_exceed>	very security problem.
<dustin|work>	someone get this guy in talks with top cryptologists, he's gotta fix the internet!
<happy_the_exceed>	now i think of it.
<__adrian>	you just don't like that he's turned a rational eye to your dogma.  https://xkcd.com/675/
<happy_the_exceed>	hmmm.
<dustin|work>	lmfao, very appropriate adrian
<happy_the_exceed>	i wonder if just only having the root account... only accessible to me... can secure me from all forms of distributed denial of service attacks.
<ledat>	zpartw, have you ever read "the unix haters handbook"? i think you might appreciate it
<zpartw>	ledat: yes.
<cyberfab007>	yo
<cyberfab007>	this is should replace all spaces with +
<cyberfab007>	str_replace(' ', '+',$mapsquery);
<happy_the_exceed>	zpartw, sudo chmod -r 777 /
<happy_the_exceed>	problem solved.
<jsnfwlr>	zpartw, lrn2linux
<jsnfwlr>	happy_the_exceed, nooo ... if you do that with wordpress or joomla or some other system installed, it becomes a "remote shell for the infidels" in about 30 seconds
<happy_the_exceed>	lies!
<jsnfwlr>	zpartw, you should put the linux box away
<jsnfwlr>	if you can't linux, don't linux
<jsnfwlr>	ish rather simple
<zpartw>	you don't even know basic english, so who are you to talk?
<zpartw>	jsnfwlr!*@* added to ignore list.
<jsnfwlr>	zpartw, i know basic english
<jsnfwlr>	sweeeeet :d
<cyberfab007>	preg_match('/\s+/','+',$mapsquery);
<cyberfab007>	this is not working either
<dustin|work>	cyberfab007, what are you trying to do
<cyberfab007>	just trying to take out the spaces
<cyberfab007>	and replace them with + signs
<cyberfab007>	pretty simple
<cyberfab007>	mayur resources+australia+pattern that is the string
<cyberfab007>	inside of $mapsquery
<dustin|work>	http://codepad.viper-7.com/wesxjh
<dustin|work>	bam
<williamtdr>	hi, is there any way i can tell if unpack is going to fail before calling it?
<cyberfab007>	ohh i seee my error now
<cyberfab007>	i am not reassing it ,
<cyberfab007>	re-assigning it , just calling the function and moving on
<dustin|work>	yeah str_replace outputs the string after the replace, it doesnt set anything on your old string
<onionnion>	williamtdr, the common practice is to check if something has failed after it's called, or directly on the same statement: if (!$foo = bar()) die("error!");
<williamtdr>	onionnion: well aware, but unpack() returns false on failure and causes an exception which causes the framework i'm in to stop execution
<onionnion>	ah
<williamtdr>	so i need to know if it's going to fail before calling it
<williamtdr>	if it doesn't have enough data to decrypt from at the current offset
<onionnion>	can't try/catch?
<williamtdr>	nope, because the exception halts execution of the block
<onionnion>	really?
<onionnion>	that's weird
<williamtdr>	i could take out the error handler altogether but i'd really like to keep it in place
<onionnion>	you've tried a try/catch around the unpack?
<williamtdr>	yup
<williamtdr>	never makes it to the catch
<onionnion>	weird
<__adrian>	williamtdr, share your code?  if it's throwing an exception, you can use try/catch to handle it.
<williamtdr>	__adrian: think i found a solution, ord returns false on failure
<williamtdr>	so i can just check that value before packing it to unpack
<williamtdr>	so there's no exception
<yuciyuar>	hi. my query results always giving me one less than it is, if i have 3 rows affected, it gives 2. what can be problem?
<sorabji>	yuciyuar: impossible to say without more information
<alphos>	katronix : when you use a heredoc or nowdoc, the closing tag must be the first thing on the line it's on (no whitespace). also, inside heredocs and double-quoted strings, you must not use quotes to access array members. finally, don't pass data from $_post to an sql query, use prepared statements instead
<katronix>	alphos: thanks got it fixed :)
<alphos>	katronix hope you fixed the sql injection vector too
<katronix>	you're right i should add escapestrings to it
<sorabji>	0.o
<sorabji>	katronix: use prepared statements
<alphos>	...
<alphos>	katronix you're aiming for the wall with uncanny accuracy. acceleration is going to be strong, impact is going to be spectacular.
<rockwood_>	hello everyone
<alphos>	hello rockwood_
<rockwood_>	hello
<sorabji>	yes, hello rockwood_
<rockwood>	hi
<rockwood_>	ticket successfully booked
<rockwood_>	sharmaji
<sorabji>	ticket?
<alphos>	ok, so we have rockwood_ *and* rockwood at the same time, and they don't seem to be the same person...
<alphos>	this is going to be fun !
<rockwood>	i m persom man
<rockwood>	not a s[pammer
<rockwood_>	actually i am rockwood's friend
<tw2113>	split personality
<tw2113>	:d
<rockwood_>	ha ha
<rockwood>	i am reall rockwood
<alphos>	rockwood_ : i was just referring to the fact that talking to two people who share their nickname is uneasy
<alphos>	dammit, that was for rockwood ! see what i mean ?
<rockwood_>	lol's
<tw2113>	just use "hey you, woody"
<rockwood_>	oki'll signout
<alphos>	just change nick ;)
<rockwood>	come to office
<rockwood>	lol
<rockwood>	i failed in book
<rockwood>	bihar's ticket
<sorabji>	mmhmm
<rockwood_>	ok. i am sending the ticket in yourmail. goodbye
<alphos>	you know you can talk to each other without the rest of us knowing ? rockwood : /query rockwood_
<zeranoe>	is there a way to use network files with php's file()? a location might be: \\server1\file.txt
<sorabji>	what's a network file?
<zeranoe>	sorabji: files stored on a remote location
<sorabji>	how do you access them?
<sorabji>	what are you wanting to do with them?
<zeranoe>	sorabji: read them
<sorabji>	like, curl https://other.server/file.txt ?
<fjnimp>	zeranoe: you will need a smb client
<alphos>	no, he won't. zeranoe : http://codepad.viper-7.com/sllxci https://php.net/manual/en/wrappers.php
<fjnimp>	he said a location might be: \\server\file...
<alphos>	so ?
<fjnimp>	test file('\\server\file');
<fjnimp>	check results
<alphos>	fjnimp and the reason not to use an fopen wrapper with a supported scheme is... ?
<cluelessperson>	hi all.
<__adrian>	hi there
<cluelessperson>	__adrian:  how are you
<__adrian>	just fine thinks
<__adrian>	*thanks
<fjnimp>	alphos: i was afk sorry had a call
<__adrian>	just hangin out for a bit before heading off to bed.
<fjnimp>	alphos: as far i see smb is not in supported scheme right?
<alphos>	my point exactly
<xa0z>	how can i prevent php/php-fpm from allowing any and all errors from being displayed on the website?
<synapt>	xa0z: display_errors set to off in the .ini
<synapt>	there's no technical way to disable it -completely, there will still be some limited ability to override that in a php script itself, but otherwise that should do it
<xa0z>	it is, however there was some weird error that was displayed on the site, on a fully white screen with text in the upper right side with an error about a timeout to some .php script.
<xa0z>	i didn't get a chance to copy the text before hitting refresh :/
<synapt>	upper -right- side?  is your site a right-to-left language output?  the exact error would be good, if it was indeed an actual php error (and not something just generated by the code itself), then your error log should have it
<xa0z>	no, upper left side.
<xa0z>	my bad.
<xa0z>	i'm curious if php-fpm generated the notice/error.
<alphos>	synapt lest one disables ini_set ;-p
<synapt>	considering php-fpm is nothing but a different medium for interpreting php, no
<synapt>	alphos: eh true but that seems like that would probably break significantly more things
<synapt>	since a lot of frameworks and stuff rely on ini_set() for certain stuff
<xa0z>	hmm, maybe nginx did it?
<alphos>	inorite
<synapt>	xa0z: nginx is an httpd, has 0 to do with php
<alphos>	xa0z what error exactly ?
<synapt>	it's not going to sit there and go "hey look this thing i'm completely unconnected to had an error, let me output it"
<synapt>	lol
<synapt>	xa0z: he didn't copy it in time
<alphos>	in time ?
<synapt>	which is why i mentioned looking at the error log which xa0z apparently ignored :p
<xa0z>	i hit refresh without copying it lol
<alphos>	that's unsmart...
<xa0z>	i can't look at the error log, i didn't have anything logging yet.
<__adrian>	"i mentioned looking at the error log"  ← ++
<alphos>	that's unsmart too...
<__adrian>	xa0z  why not?
<xa0z>	lol, well it's a test box and we're working on things that we're moving away from apache to nginx
<synapt>	xa0z: did you check if php had an error_log directive set by default?
<alphos>	so you're testing without an error log ? again with the unsmartness :/
<__adrian>	is that supposed to be an answer?
<synapt>	if so, as long as your error_reporting level was something other than 0 (which it seems it was), then error_log will have it
<__adrian>	it's generally on (to some extent) by default
<xa0z>	let me look, i know i didn't for nginx.
<synapt>	i forget what php error_log's as by default
<xa0z>	the only thing in my php-fpm.log is that my pm.maxchildren was set too low.
<synapt>	is php-fpm.log what your php.ini error_log directive set as? o.o
<hassoon>	good morning
<tuskkk___>	how to integrate rabbitmq into a mvc structured app? any tutorial?
<hassoon>	google for tutorials
<fleetfox>	tuskkk___: you want a work queue, or just the messaging
<tuskkk___>	queue to receive data from a rest service
<fleetfox>	that makes no sense, do you have the control over rest service?
<tuskkk___>	no, i am calling the service, which sends 20 items per page, i need to extract the ones i need and keep it on. when the user asks for data i send him the latest 20
<tuskkk___>	out of 20 items the likelihood of what is need is around 0~1
<__adrian>	all likelihoods are between 0 and 1
<fleetfox>	and how do you imagine rabbitmq will help you
<tuskkk___>	fleetfox: bittarman told me
<fleetfox>	https://github.com/videlalvaro/php-amqplib
<tuskkk___>	yes, installed that, have no idea where to write it at - components, controllers ...?
<fleetfox>	i have no idea what you will build with it, but you probably want a service
<slax0r>	hi
<slax0r>	i'm trying to get a string error message from ziparchive that occured on "open", but when calling getstringstatus, it complains that the object has not been initialized: http://laravel.io/bin/oknba
<slax0r>	how to get then the error message from open?
<fleetfox>	slax0r: rtfm?
<fleetfox>	http://php.net/manual/en/ziparchive.open.php#refsect1-ziparchive.open-returnvalues
<slax0r>	fleetfox: i know about those return types, but i thought i could "catch them all" with this method
<slax0r>	besides, how do i get user readable error messages of those constants?
<fleetfox>	slax0r: you don't that's not an inerfase that should be exposed to user
<fleetfox>	it's an ugly api but well documented
<slax0r>	well, for the log then, i hate looking at zip extract failed because of 11
<slax0r>	or any other int error code
<fleetfox>	it has no error messages only return codes
<slax0r>	i see
<fleetfox>	there may be third party wrapper lib with better interface
<systemovich>	check the third user comment on the page fleetfox linked to. it shows a switch that returns human-readable messages for each error code.
<slax0r>	and how do i now know what does error code 11 mean?
<fleetfox>	did you read the link?
<fleetfox>	you map it to one of the constants
<simpleuser>	hi there. does someone use guard with ctags-composer?
<gagalicious>	is there any good "all in one" collaborative open source cloud based ide with git that requires minimal setup time and can immediately involve like 10 people dev team to work on? the most convenient and least "i need to tweak this and that" kind of... ide?
<gagalicious>	for wordpress?
<ss23>	!+recommend
<php-bot>	no, we cannot recommend <whatever you asked about>. we're here to help you write php code, not spend hours arguing the relative merits of a versus b. we won't recommend packages, libraries, scripts, sites, languages, version control systems, or sports teams; our only recommendation is that you please take your recommendations questions elsewhere (e.g.,  https://softwarerecs.stackexchange.com/)
<fffuuul>	gagalicious: for wordpress :d haah
<altos>	what's the best solution to make get_headers to an array?
<simion314>	hi, i am wondering if in php  if i do ...catch(..$e){throw;} is doing same thing like in other languages (is rethorwing the $e but keeps the stack trace and all the good info)
<altos>	any idea?
<p4trix>	altos, i dont understand the problem? parsing header properties from an array?
<bittarman>	simion314, no, you put it in a new exception and throw that.
<bittarman>	altos !+get_headers
<php-bot>	altos, array get_headers(string url[, int format])  - fetches all the headers sent by the server in response to a http request - http://php.net/get_headers
<bittarman>	it returns an array....
<altos>	oh
<altos>	well, i get "warning: invalid argument supplied for foreach()"
<altos>	i thought it might be a string
<bittarman>	altos, read the docs, what conditions does it say it returns a non-array on?
<simion314>	bittarman: no, i do not want to throw a new excepiton, i would throw same exception
<gevox_>	simion314: you will need to throw a new exception with the previous exception as a parameter
<gevox_>	ex: throw new exception('ur exception', 0, $e); where $e is a previous exception
<simion314>	gevox_: why not throw $e, it seems legal , i am not sure if throw; with no argument works
<bittarman>	simion314, its legal, its just odd.
<gevox_>	then what's the point of re-throwing the exception in ur case?
<bittarman>	the line number shouldn't change. once its set it doesn't change it.
<simion314>	i want to keep the original exception stack trace, this  is a good practive  at least in c#, doing anew exception you lose the original stack trace
<bittarman>	simion314, you do keep it, either way
<gevox_>	^
<bittarman>	simion314, why didn't you even test it? :p
<simion314>	ok, let me test throw;
<simion314>	bittarman: gevox_ i done the test, "throw;" will not work , so in my case i will do "throw $e;" http://paste.debian.net/177431/
<simion314>	if you see the output of the test the 2 methods will have 2 different stack trace with the line numbers, so in this case is better to keep the original exception with the original  stack trace ,  i know that in most cases i should not catch it at all
<bittarman>	simion314, http://3v4l.org/hlair
<bittarman>	nope.
<bittarman>	re-throwing does not change stack trace of line number etc.
<simion314>	bittarman: correct, but making a new exception changes it
<bittarman>	simion314, of course it does.
<bittarman>	simion314, which is why you put the previous exception, in the previous exception parameter.
<bittarman>	simion314, https://php.net/manual/en/exception.construct.php, see the bit under "parameters"
<simion314>	bittarman: thx, yes i did not seen this pattern untill now, good to know
<bittarman>	simion314, it was our suggestion right from the start.
<simion314>	bittarman: yes, sorry i was thinking i will have to make a custom ecxeption that could store the old one, i did not know it is already there in the default exception class
<bittarman>	simion314, you could do that, many people did before it was added.
<simion314>	unfortunetly the code base i am working on contains only bad code, you do not learn anything from it
<bittarman>	you don't learn from mistakes? :)
<bittarman>	if you are identifying its bad code, then you are already learning from it.
<simion314>	bittarman: yes, but not obvious things, like catching errors but doing nothing about it (empty catch block) and latter someone needs to waste time reproducing rare issues
<bittarman>	simion314, pokemon exceptions too i'll bet.
<bittarman>	catch (exception $e) { // gotta catch 'em all!
<simion314>	i learned a lot from my othe rprojects, in other languages , from this one i learned  only the quirks from php, like the @, the fact that it is case insensitive, and that the garbage collection is  not so good
<bittarman>	php's garbage collection is pretty decent since it switched to ref counting
<bittarman>	which is in all supported php versions
<bittarman>	though, you really want to be on an up to date version if you're using spl classes.
<simion314>	bittarman: yes, in desktop apps i have a global catch  thing, and for catching erro events, that will write to the log all the details,  open a popup , there is a good place where to catch all :-)
<simion314>	bittarman:  i was using a lib for rss feds simplepie, it had memoryu leaks, could not fix it, then used other one picofeed  same issue,(it was not my code since i mad ejust simple test with only parsing the feeds, i had a loop with 1500 feeds iteration, i had to split it in chunks  and use curl , so less efficiency, but at least it is not failling because of memory
<bittarman>	simion314, just sounds like poorly written libs to me
<pc_magas>	hello
<pc_magas>	i want to download a zip file and save it to the disk
<pc_magas>	i got thw contents via php curl
<fffuuul>	readfile()
<pc_magas>	but how can i write them back to the disk?
<fffuuul>	don't forget the headers
<fffuuul>	file_put_contents, fopen/fwrite/fclose
<simion314>	bittarman: about the poor libs with memory leaks, i tried to find the issue, i could not find it, it could be in the xml parser that is used but i did not try to debug that, problem is that there are not good tools for memory profiling php comparing to java or even as3
<zap0>	why is the comparison needed?
<siddharth030>	plz help me guyz i cannot put blob into database
<siddharth030>	i used this file_gte_contents
<siddharth030>	and then put it in variable
<siddharth030>	and then put it in variable  insert into tablename values('$blobvar')
<siddharth030>	plz help
<pc_magas>	siddharth030, how apbout to use pack() before putting them into db?
<siddharth030>	ok let me try
<siddharth030>	pc_magas :i am saving html file so which format should i use in pack
<pc_magas>	siddharth030, actually i have no idea
<siddharth030>	lol
<siddharth030>	plz help me people i want to save html file as blob in database
<naktibalda>	siddharth030: use prepared statements or mysql_real_escape_string
<siddharth030>	naktibalda: ty
<siddharth030>	naktibalda>:now i want to display blob as html page but i get ????????? like data
<naktibalda>	what is a type of field?
<siddharth030>	html data is in blob
<siddharth030>	i want to get it back
<naktibalda>	is it blob, text or varchar?
<happy_the_exceed>	siddharth030, what does your code look like?
<siddharth030>	i found solution
<happy_the_exceed>	siddharth030, what does your code look like?
<siddharth030>	but let me tell you the code too
<happy_the_exceed>	please use pastebin or a service similar to that.
<siddharth030>	http://pastebin.com/xnwtkukt
<siddharth030>	happy_the_exceed : if im unable to read that string then what to do
<siddharth030>	may be sometime im not able to read that
<happy_the_exceed>	siddharth030, you didn't even specify charset. so your web browser will not know which charset to use to display data from database.
<siddharth030>	happy which one should i use
<siddharth030>	i mean i dont know which one will be most safe
<happy_the_exceed>	siddharth030, now i know there is more disaster here if you do not even know the answer. (there is absolutely ***no*** excuse to not know.)
<happy_the_exceed>	siddharth030, charsets are very important, or you will see boxes and questionmarks ? ? ? ? ? ? ?? ??.
<happy_the_exceed>	when you see that, that means data got corrupted.
<siddharth030>	happy_the_exceed : yes you are right but i dont know ehich charset will be safest
<happy_the_exceed>	and there is no "undo" once it becomes corrupted. it becomes corrupted when using wrong charset to display  data that is created using foo-charset.
<naktibalda>	siddharth030: blob has no charset, make sure that your column is blob
<happy_the_exceed>	siddharth030, data entering the database. what is it, and where did it came from? do you know which charset it should have?
<siddharth030>	its coming from html file
<siddharth030>	a normal html file
<siddharth030>	no big charsets
<siddharth030>	but i think it wil be safe to have charset
<siddharth030>	i dont know which one to use
<happy_the_exceed>	and must this be a blob?
<happy_the_exceed>	who told you it has to be a blob?
<hassoon>	is there a way to insert many elements (in a php code) in a mysql db as one element? like a list of things in an array that need to be put in the db in one field
<siddharth030>	i want to store html file in database
<hassoon>	*as one element
<siddharth030>	happy_the_exceed:i wnt to store html file in a database as report what is best idea if not blob
<naktibalda>	hassoon: it is a bad idea to store many elements as one value
<happy_the_exceed>	siddharth030, is it part of the html document? or the whole html document, with the <!doctype?
<siddharth030>	whole html with doctype
<siddharth030>	and there is no image or other resource
<siddharth030>	css is inside document itself
<hassoon>	naktibalda: :o
<siddharth030>	happy_the_exceed:  am i doing right??
<happy_the_exceed>	siddharth030, seems to me that the problem with your html documents you are storing is that  in html, it's not specifying its own charset.
<siddharth030>	ok let me show you one in pastebin
<naktibalda>	siddharth030: what charset are you reports in?
<happy_the_exceed>	siddharth030, or  the data already got corrupted  long before it reached the database.
<naktibalda>	your
<siddharth030>	happy just wait i will show you report
<hassoon>	well, i was wondering how to insert a sub-list of elements in one field of a mysql-db's table
<naktibalda>	hassoon: json_encode is the best option
<siddharth030>	http://pastebin.com/inuyfb4p
<siddharth030>	check this copy paste and open in browser
<naktibalda>	any chance that you use utf-16?
<siddharth030>	i mean i can specify in the top
<siddharth030>	will that be good
<happy_the_exceed>	hassoon, sounds like a horrible idea to me.
<siddharth030>	http://pastebin.com/inuyfb4p
<siddharth030>	check it now it will work
<hassoon>	happy_the_exceed: it's about a purchase bill that includes the elements a given client might have bought
<siddharth030>	naktibalda , i can do whatever you want on top of html or inside it you just tell me
<naktibalda>	hassoon: you should store them in another table
<siddharth030>	i want to be safe in this
<naktibalda>	siddharth030: i'm not asking about that
<naktibalda>	siddharth030: pastebin create table statement and the php code which connects to mysql
<siddharth030>	happy_the_exceed: i just want this process to be safe so that there are no ? marks in report
<siddharth030>	ok
<hassoon>	naktibalda: ah, a table listing the sub-elements of a bill, where they refer to their mother bill by the bill's id ?
<naktibalda>	yes
<happy_the_exceed>	the html doesn't have any charset specified.
<hassoon>	ummm
<siddharth030>	http://pastebin.com/7zjzljwa
<siddharth030>	if you want i can specify them but then tell me safest charsets
<siddharth030>	i am not getting ? now
<siddharth030>	but may be it comes later
<siddharth030>	im not sure
<naktibalda>	don't use mysql_escape_string
<happy_the_exceed>	siddharth030, who made that html report?
<siddharth030>	a security tool
<siddharth030>	naktibalda: but then it doesnot stores anything into database
<naktibalda>	use prepared statements
<naktibalda>	siddharth030: or !+mysqli_real_escape_string
<php-bot>	siddharth030: or, string mysqli_real_escape_string(object link, string escapestr)  - escapes special characters in a string for use in a sql statement, taking into account the current charset of the connection - http://php.net/mysqli_real_escape_string
<naktibalda>	siddharth030: is your real report in english?
<siddharth030>	yes
<siddharth030>	true english only
<happy_the_exceed>	siddharth030, here is how charset is used: <meta http-equiv="content-type" content="text/html; charset=utf-8" />           notice the utf-8
<siddharth030>	ok so i will use this in every report ty
<happy_the_exceed>	no.
<siddharth030>	and i will get to you when all reports finish
<happy_the_exceed>	i don't think that'sagood idea.
<siddharth030>	happy_the_exceed:then what
<happy_the_exceed>	header("content-type: text/html; charset: utf-8");    <--  here is how this is done on the server side.
<siddharth030>	so i put that in php
<siddharth030>	but report is from c/c++ tool
<happy_the_exceed>	utf-8 is defacto standard to use, whenever you want to create a file (html, text document, or writing some code like php.)
<siddharth030>	naktibalda: why i should not use mysl_escape_string
<happy_the_exceed>	siddharth030, you got source code to the c/c++ tool?
<siddharth030>	yeah now im not going to paste 10000000 lines of code
<siddharth030>	happy_the_exceed: i can tell you that  it is ok till now
<siddharth030>	but i want to be on a safe side
<siddharth030>	so there are no uestion marks
<siddharth030>	q is not working on my keyboard
<bittarman>	siddharth030, google for a tutorial on using prepared queries.
<happy_the_exceed>	siddharth030, then you could add it to source code of c/c++ (but not yet.)    you do understand the html, right?
<bittarman>	read it, have a go, and then come back with any questions you have.
<siddharth030>	happy_the_exceed: yeah u r right
<siddharth030>	its very very easy but will that be working in all conditions
<siddharth030>	bittarman:whats that for in my rpoject
<siddharth030>	anyway thanx guyz i will try utf-8 bye bye
<happy_the_exceed>	siddharth030, wait
<siddharth030>	ok tell me
<siddharth030>	happy_the_exceed: anything more
<happy_the_exceed>	siddharth030, since you don't have much code written in mysqli, you might want to make use of pdo while you're at it. http://wiki.hashphp.org/pdo_tutorial_for_mysql_developers  better extension to connect to mysql imo.
<siddharth030>	happy_the_exceed:sorry bro but i dont want to take that much headache
<happy_the_exceed>	siddharth030, especially since binding variables in prepared statements isnt as annoying
<happy_the_exceed>	okay, suit yourself.
<waqstar>	yeah...http://www.bbspot.com/news/2000/6/php_suspend.html
<siddharth030>	thankx
<happy_the_exceed>	siddharth030, and yea, do tests to be sure it's compatible with utf8.  (for example. copy pasting html, and using utf8 charset, and viewing it in web browser to be sure the html document appears properly.)
<siddharth030>	yeah till now its working without utf
<happy_the_exceed>	siddharth030, that's  utf-8   (and there is a hyphen in it.)
<happy_the_exceed>	have fun
<siddharth030>	this is the error
<siddharth030>	right syntax to use near 's ie's refusal to honor the fixed css attribute */ * html div#menubox { ' at line 1
<siddharth030>	ok i got one error when i dont use escape string
<happy_the_exceed>	siddharth030, for a software that generates strict xhtml, it sure do have a lot of errors in it: http://uploadpie.com/fwyfm
<happy_the_exceed>	(html errors.)
<siddharth030>	what to do now
<siddharth030>	you gave me heart attack
<happy_the_exceed>	siddharth030, to go fix that corrupt data problem first.
<happy_the_exceed>	(i'm good at pointing at glaring problems.)
<siddharth030>	there is no corrupt data
<siddharth030>	data sometimes is missing though
<happy_the_exceed>	(i'm good at pointing at glaring problems.)
<jackw411>	whats the best way to go about relative/absolute url validation in php? checkdnsrr is too slow for me, i need to validate bulk imports quickly
<allenjb>	if it's for your own site, you can validate it against your routing table, but otherwise there is no way other than to actually request the url (and even that's subject to network issues / temporary problems)
<mikeh>	silly question - i’m trying to catch a range of exceptions like \path\to\exception\notfoundexception, \path\to\exception\notfoundexception that all seem to extend “\runtimeexception”, however, trying to catch \runtimeexception or even jsut catch(exception $e) doesn’t seem to catch them
<mikeh>	any suggestions what i’m doing wrong?
<delboy1978uk>	are you sure the exception is being thrown?
<g105b>	i'm having trouble using a simple strtok to remove a space, i think because it is a &nbsp; character... can someone help? http://codepad.viper-7.com/kwwc7j
<mchelen1>	alphos: it depends if you are talking about a userbase of 100s, 1000s, 100,000s etc
<alphos>	10k-20k
<iggyziggy>	thanks again for all advices, i'll try to figure out some kind of ip tracking first and see what happens
<alphos>	(on the server i was working on)
<iggyziggy>	cya
<mchelen1>	gl
<alphos>	and maybe 5k-10k active accounts ?
<angryburger>	what you likely want is: 1) a system where users can flag things, 2) a system that compiles reports and generates a classification based upon the information, 3) a queue for a person to manually review pass/fail
<alphos>	4) ordered data -_-"
<angryburger>	yes
<katronix>	hi all, anyone here familiar with http://www.openwall.com/phpass/ ?
<alphos>	yeah, data we got was unordered
<cythrawll>	joh_, because $tablename is empty?
<cythrawll>	joh_, no
<cythrawll>	sory
<cythrawll>	dur
<cythrawll>	joh_, you forgot echo
<angryburger>	if u get it down well enough, you can even do something like... if confidences is > 90% then auto-ban
<joh_>	omg yeah ...thanks mate !
<angryburger>	90 < c > 60 review, then everything else reject
<cythrawll>	ash_m, yeah
<angryburger>	then your staff are only looking at the grey areas
<alphos>	angryburger : confidence is extremely hard to determine
<angryburger>	yar, :p
<angryburger>	depends on the category
<angryburger>	vulgar language over chat... pretty easy.
<alphos>	and considering the time it'll take to finetune sensibility and specificity, just let a human do the work, it'll be a lot easier for everyone
<angryburger>	abusive game behaviour not so much
<alphos>	quite the contrary actually
<angryburger>	oh ?
<alphos>	you have to check the "reported abuser" wasn't actually quoting the "abused reporter"
<angryburger>	heh
<angryburger>	makes me think there might be a market for a professional solution for such a thing ;)
<alphos>	you wouldn't believe the number of players reporting messages saying "i dare you to say <expletive>"
<angryburger>	although there could be some already
<angryburger>	haha
<ash_m>	cythrawll: is there any way a dao could use an ar pattern?
<angryburger>	fair enough
<alphos>	it came and it went, but when it came, it came... we ended up doubling the duration of the temp ban for those who tried "daring" others ^^'
<angryburger>	you would need some sort of contextual engine
<ash_m>	cythrawll: i mean, i think the point of a dao is decoupling which is not what ar does, so i would think the answer is no
<alphos>	angryburger soooo, a human brain ?
<angryburger>	;)
<angryburger>	google
<angryburger>	skynet
<alphos>	skype + .net ?
<cythrawll>	ash_m, not that i'm aware of
<angryburger>	if google can drive a car...
<cythrawll>	not that i thought about it too hard
<angryburger>	skypenet coming 2016
<ash_m>	lol @ skynet
<alphos>	driving a car is less complicated than understanding human language :/
<cythrawll>	how to drive
<cythrawll>	: knowing what stuff is
<angryburger>	no no...
<cythrawll>	don't hit stuff
<cythrawll>	ez
<angryburger>	how to drive safely :p
<ash_m>	cythrawll: if you weren't using an orm, would you consider an ar pattern?
<cythrawll>	already covered that
<cythrawll>	you don't run into stuff
<alphos>	angryburger : don't hit stuff and you'll be safe
<angryburger>	not running into things does not make u safe
<alphos>	don't let stuff hit you either
<angryburger>	ask any motorcyclist
<alphos>	angryburger sure it does
<cythrawll>	ash_m, i'm actually  using eloquent a bit in this project i'm doing
<cythrawll>	so yeah.
<angryburger>	u can be a very unsafe driver and just wipe out in a corner
<ash_m>	angryburger: it does if everything is programmed not to run into stuff
<angryburger>	i guess ur hitting the ground ?
<cythrawll>	but i really dislike it
<cythrawll>	that doesn't mean it's not useful now and again
<angryburger>	u dislike eloquent? :x
<cythrawll>	especially for small projects
<ash_m>	angryburger: oh
<cythrawll>	angryburger, i dislike ar
<angryburger>	oh yeah, ar is evil... but saves so much time for small things
<ash_m>	cythrawll: eloquent == orm?
<angryburger>	yes
<alphos>	angryburger : if you're hitting a bump and fly over 100 yards on your bike, you're not in any kind of immediate danger. then you hit something hard and stoney, and you're in some kind of immediate danger
<cythrawll>	ash_m, eloquent is laravel's orm (which is ar)
<ash_m>	cythrawll: is that baked into laravel?
<angryburger>	haha
<angryburger>	ash_m no
<angryburger>	its standalone
<cythrawll>	ash_m, what do you mean baked in?
<cythrawll>	you don't have to use it
<cythrawll>	and it doesn't get in away
<angryburger>	https://github.com/illuminate/database
<cythrawll>	but it's available to use
<angryburger>	i think he meant that ur forced to use laravel
<ash_m>	away = the way?
<cythrawll>	ash_m, yeah sorry
<ash_m>	angryburger: no, you answered my question well
<ash_m>	i'm just thinking about how much people feel like an orm is a requisite
<angryburger>	depends... i like to be productive so using an orm cuts a lot of time out for doing simple things like crud
<onimaker>	ash_m: it's great if you expect the underlying db to change
<angryburger>	also true
<angryburger>	its a lot more work if u roll your own db layer.
<onimaker>	that too
<angryburger>	but some people don't like the violation of ar and seperating concerns
<onimaker>	thankfully, laravel is one of the better ones
<cythrawll>	they take away a lot of the mundane crap
<angryburger>	^
<adamculp>	only 8 hours remaining to submit talks for #zendcon https://cfp.zendcon.com
<cythrawll>	however, they should always let you use the query engine easily without sweat
<angryburger>	which to me is worth it. cause i hate writing boilerplate crap
<cythrawll>	so youcan do them crazy queriers
<onimaker>	or symfony doctrine is good too, if you need a lot of functionality
<angryburger>	^^^
<cythrawll>	queries
<cythrawll>	i can't type today
<onimaker>	laravel based on symfony anyway
<angryburger>	omg i hate it when i cannot do why required 10 table joins ;(
<angryburger>	eloquent doesnt really care what you do... use the models or not.
<cythrawll>	ash_m, i honestly can do just fine without an orm, i often do
<cythrawll>	just straight pdo and map my own data objects
<cythrawll>	however, i do enjoy not having to do that stuff :p
<onimaker>	same with migrations
<cythrawll>	migrations are more so necessary imo than orms
<angryburger>	cythrawll im on a project with 50 or so objects...
<angryburger>	wanna write some boilerplate :d
<cythrawll>	angryburger, is that a lot to you?
<cythrawll>	:p
<angryburger>	for a single person yeah ;(
<angryburger>	after about 5... id shoot myself
<alphos>	angryburger : 50 rows in your database ? that's... a lot ? :p$
<angryburger>	50? no... 3 million yeah
<alphos>	was yanking your chain ^^
<angryburger>	:)
<angryburger>	its amazing the problems you find 50 rows vs 1 million
<angryburger>	all of a sudden those things that u prolly should have done... u really need to do ;)
<alphos>	"next time, i'll use indexes" ? :p
<angryburger>	i still struggle with inventory related stuff... i probably just need to partition the table into different years
<angryburger>	uh not so much indexies :p
<angryburger>	im maintain a system that was built by some university students 8 years ago ;(
<ontani>	hi guys, i'm trying to overlay an transparent png image onto a solid color to create a background effect. on the image there are also some fixed colors (255,0,255) which i would like to make transparent after the overlay is done. (if that makes any sense).
<angryburger>	i love the column names like... `office notes`
<ontani>	this is the image: https://dl.dropboxusercontent.com/u/79192/05_test.png
<angryburger>	ontani ... php prolly not the best for image processing...
<alphos>	angryburger : i've maintained a system that was built by a plumber and a delicatessen worker. sorry, but you're nowhere near my pain :p
<ontani>	i've got this result: https://dl.dropboxusercontent.com/u/79192/05_result.png
<angryburger>	heh shall we compare ?
<ontani>	with this code: http://pastie.org/10191033
<ontani>	i'm unable to make the bright pink transparent
<angryburger>	https://gist.github.com/geggleto/0a92460c29943bdb48f8
<angryburger>	dont ask me what it does
<angryburger>	cause idk
<angryburger>	imagealphablending($backgroundimg, false); => true
<angryburger>	?
<alphos>	angryburger : no subversion before i arrived, db replication was done in-software by performing a second mysql_query call to another server, i've seen pagination with 15 items per page done with % 16, nested queries handled with a back and forth between php and mysql at every level, 5 or 6 levels deep...
<ash_m>	i keep getting pulled away from the des
<ash_m>	i don't understand the generic idea of "migrations" ... i would expect, "during migrations, such-and-such is important"
<ash_m>	caffinated: i never realized your name is missing an 'e'
<alphos>	when he picked it, he was typing too fast, for some reason
<ontani>	no luck
<ash_m>	alphos: lol
<ash_m>	cythrawll: can you elaborate on this concept of migration? ^
<cythrawll>	ash_m, think of it is a set of scripts to keep your database schema that you can easily move back and forth between versions
<cythrawll>	it's like version control for database schema
<cythrawll>	usually it's a set of scripts separated by version, with an up and down section
<cythrawll>	up applies changes, down removes said changes.  like you need a new table, up creates it, down drops it.
<ash_m>	cythrawll: i see... and is this a framework (like doctrine) or is this just a word used to describe that functionality (like orm)?
<cythrawll>	word used to describe
<cythrawll>	it's in doctrine iirc
<ash_m>	"in" it?
<cythrawll>	yeah like it's a feature in doctrine (i think)
<ash_m>	i seee
<ash_m>	that's neat
<caffinated>	ash_m: it's intentional.  throwback to the efnet days when there were limits on nick size
<caffinated>	it just kinda stuck
<ash_m>	caffinated: i see
<nicolas_leonidas>	hey i'm trying to write sessions on redis
<nicolas_leonidas>	unknown: failed to write session data (files). please verify that the current setting of session.save_path is correct (tcp://some.redis.amazonaws.com:6379) @ unknown:0
<nicolas_leonidas>	getting this error
<nicolas_leonidas>	i can connect to redis from that machine, what could be the cause of this
<caffinated>	nicolas_leonidas: you should verify that the user php is running as is able.  sometimes ports are limited in web environments.
<dietdrk>	i think there is a small problem in line 9 here: http://pastebin.com/3vt7th17 . i want the word to be excluded if any of the letters appear. in_array($needlelettersarray, $haystacklettersarray); is there a better function for this?
<nicolas_leonidas>	caffinated: it's php fm and i think root is running it
<caffinated>	nicolas_leonidas: i'd be very shocked and kindof afraid if you were running script instances through your webserver as root
<nicolas_leonidas>	caffinated: it's php-fpm
<dietdrk>	should i be running a foreach on $letters there with a break? seems like bad practice.
<mmazing>	wow ... can't figure this one out - $array = &$other['something']; $test = each($array); works, but if i replace $test = .... with "while ($test = each($array)) { ... }" it fails
<nicolas_leonidas>	ok i tried with another user that i think php is running and it is working, anything else i could check?
<dietdrk>	https://eval.in/362039 i want this to evaluate to "it's there!"
<caffinated>	dietdrk: you should use a regex instead
<caffinated>	in_array() probably isn't going to work the way you want it to
<dietdrk>	that's disheartening. i thought i had it working the way the documents explained it.
<caffinated>	dietdrk: in array literally looks for a value.  if you give it 'abc' as the needle, it will look for values that contain exactly 'abc'.  if you use array('a', 'b', 'c') it will look for exactly that value in the array./
<php>	i now own the name php
<php>	on freenode
<php>	:d
<caffinated>	php: that might work against you in other places
<php>	yeah, like pings?
<php>	xd
<caffinated>	like any other language channel
<php>	got about 100 from #nginx, and 30 here (shockingly)
<php>	xd
<cjohnson>	is there a tool/helper that will scan my codebase for array(...) and replace it with [...] ?
<cjohnson>	i don't want to just do a simple find/replace since obviously there can be pretty much anything in between array( and )
<caffinated>	cjohnson: most ides have some kind of refactoring support.  for that specifically, i don't know.
<caffinated>	it seems like a waste of time given that they're functionally quivalent
<cjohnson>	it's just about keeping a consistent codebase... i place value in having my code follow a common style
<mchelen1>	cjohnson: you could use regex
<caffinated>	i would definitely not use regex
<cjohnson>	yeah but that would have to be some sure insane regex
<raverix>	regex sounds very scary
<caffinated>	no, no regex
<mchelen1>	haha why not?
<caffinated>	regex won't understand the contaxt
<caffinated>	er context
<raverix>	yeah
<mchelen1>	well then you run your unit tests :p
<cjohnson>	array(foo(array(func(!($foo)
<mchelen1>	hmm yeah true
<mchelen1>	i was thinking look for the );
<caffinated>	you'd have to do it with something that could parse php properly if you wanted reliability.
<cjohnson>	yeah that's what i'm thinking
<cjohnson>	darn
<caffinated>	you might be better off doing a search, and then manually deciding when it's appropriate
<caffinated>	or just fix it as you go
<cjohnson>	i'm doing the fix it as you go approach, it's just veyr slow moving
<cjohnson>	and i'm impatient :)
<raverix>	do a global find, how many results?
<caffinated>	as long as you leave it a little better than you found it, you're doing the right thing
<cjohnson>	grep says at least hundreds
<cjohnson>	of lines
<cjohnson>	left
<cjohnson>	i'll do a regexp for the really simple ones i guess and just stick with it
<cjohnson>	ohhh! https://github.com/thomasbachem/php-short-array-syntax-converter
<raverix>	using php's tokenizer is smart.
<cjohnson>	yeah that's what i was thinking but i've never used it's tokenizer
<alphos>	raverix +1
<cjohnson>	all tests passed so far...
<cjohnson>	oh, that's why i don't understand the tokenizer. i always thought it was for generic parsing but it's literally only for parsing php code
<cjohnson>	brilliant. all tests passed
<cjohnson>	great tool
<jpereira>	hi! i would like to know how to send  $pkt = array(44, 22, 123, 0, 0, 12) over network using socket_sendto(), someone could help?
<jpereira>	have tried: $buf = unpack("n", implode($pkt)); but without success.
<caffinated>	why would you unpack() something you intend to send?
<caffinated>	jpereira: i'm guessing you want something more like this: http://codepad.viper-7.com/2l5yhg
<nicolas_leonidas>	save_handler still says "files" in my phpinfo()
<nicolas_leonidas>	even though i clearly have defined redis
<nicolas_leonidas>	in php.ini, why is that?
<caffinated>	could be a few reasons.  start with the php error log to ensure it's not erroring out loading when you start the webserver.  next, verify that the php.ini file you're editing is the one php is reading.
<alphos>	and don't forget to reload
<nicolas_leonidas>	those two are verified
<nicolas_leonidas>	failed to write session data (files). please verify that the current setting of session.save_path
<caffinated>	another thing to check is that the redis module is actually loading via phpinfo()
<nicolas_leonidas>	keeps thinking i want files,
<nicolas_leonidas>	redis module is loading and i see registered save handlers	files user memcache redis
<nicolas_leonidas>	in phpinfo()
<caffinated>	yeah, those are the available handlers, not necessarily the one you're using
<caffinated>	duno.  check redis logs, see if php even tries to talk to it
<jpereira>	hi caffinated thanks for reply.. but doesnt works... check it out http://codepad.viper-7.com/h5mrof
<caffinated>	jpereira: ok, what error is being thrown?
<caffinated>	jpereira: or, maybe you can elaborate on what doesn't work
<caffinated>	jpereira: also, count() is not for strings.  it's for arrays.  you want strlen() if a byte count is what you're after
<caffinated>	using count() on a string will always result in a return value of 1
<jpereira>	caffinated,  i didn't found solution for this. feel may lost.
<caffinated>	jpereira: you haven't told me what's actually wrong, so i can't help you
<caffinated>	i can see errors in your code, but i don't know if they're the only problems
<jpereira>	caffinated,  the idea is to receive a array like $data = array(1, 4, 22, 33, 0, 11); and send over network.  and in my function wrapper_send($payload i'm prepared to receive a array() and im trying to push() follow the current indice.
<caffinated>	right, but you haven't told me where it's breaking
<caffinated>	or given me any error messages.  or told me how the result is malformed.
<caffinated>	what exactly do you expect from me if you're unwilling to share details?
<ash_m>	i can't believe i can't remember who was talking to me about silverstripe
<caffinated>	you also haven't indicated if you've fixed the problem with count()
<caffinated>	because that will almost certainly break stuff
<caffinated>	ash_m: unicorn?
<ash_m>	i even still have their pastie
<jpereira>	the expected result would be to have the $args filled with array('*n', 1, 4, 22, 33, 0, 11);
<caffinated>	jpereira: that isn't even right for the arguments to pack.  it's n* not *n
<ash_m>	i think it might've been acidreign
<jpereira>	but was formated like: array('*n', array(1, 4, 22, 33, 0, 11));
<jpereira>	hmmm, i got it now... it's a first parameter expected in the pack()
<ash_m>	no, it was viper-7 that's who
<ash_m>	ah, i feel so much better now
<caffinated>	ash_m: the last person i see mention it that wasn't you according to /lastlog is b0ss_
<ash_m>	caffinated: yeah, yesterday though
<caffinated>	granted, it probably only goes back 1 day
<ash_m>	caffinated: today i was actually talking to b0ss_ about viper-7
<ash_m>	caffinated: but i couldn't think of the name
<caffinated>	ash_m: i don't keep longer logs so the bodies stay hidden
<ash_m>	;)
<caffinated>	sorry
<ash_m>	time for me to get caffinated
<fxmulder>	if i have a php website that is taking a long time to load, is there a way i can profile it to figure out what general activities seem to be taking the most time?
<caffinated>	fxmulder: http://php.net/xhprof
<caffinated>	fxmulder: http://php.net/xdebug.org
<caffinated>	err http://xdebug.org that is
<caffinated>	damn my rampant prefixing
<caffinated>	anyway, both those will profile, and generate logs in a cachegrind format
<ash_m>	back
<jpereira>	caffinated,  $data = call_user_func_array("pack", array_merge(array("c*"), $payload)); this solve my problem
<jpereira>	caffinated,   btw, thanks!
<ash_m>	caffinated: have you ever used silverstripe?
<caffinated>	ash_m: i looked at it once a long time ago, but i rarely use php for new projects these days.
<caffinated>	anything i remember about it likely isn't useful since it's not current
<ash_m>	caffinated: roger
<jonez>	caffinated, what do you use instead of php?
<caffinated>	ruby
<jonez>	cool
<cyndre>	?useruid=0 < why does that fail for !empty($_get['useruid']) != null
<php>	wait
<caffinated>	becuase 0 is treated as empty
<caffinated>	and true != null
<php>	caffinated: no?
<php>	0 is still there
<cyndre>	that makes me sad
<caffinated>	the statement really makes no sense
<forbidd3n>	if i zip up a directory with php zip functions does it retain file persmissions and users?
<caffinated>	use something like: isset($var) && $var != ''
<caffinated>	if you want to test for "set but no value"
<ash_m>	namespace mapper; use modeluser; means new modeluser() == new mapper\modeluser(), right?
<duvdevan>	salvation
<duvdevan>	i have a salvation for all thee
<ash_m>	duvdevan: yay
<duvdevan>	<?php die(); // write this at the top of thine files!
<cyndre>	only issue i have found was just now with 0 - been using that forever
<duvdevan>	minified version
<duvdevan>	<?=die(); // happyness is all there!
<cyndre>	duvdevan: and to fix windows hit ctrl f4
<caffinated>	cyndre: i hear alt works better
<cyndre>	been a long time, you are right
<cyndre>	lol
<ash_m>	ah
<cyndre>	no wonder my windows is broken
<duvdevan>	my f4 is broken
<duvdevan>	:(
<ash_m>	i was confused for a moment
<duvdevan>	illuminati's use php
<cyndre>	lol, illuminatis and free masons use alt f4 and <?=die();
<alphos>	i typed alt+f+4 and nothing happened
<alphos>	is a+l+t+f+4 ?
<cyndre>	hmm, can anyone else hold alt and press f4 and make sure it works for alphos?
<caffinated>	alphos: it's like apple.  you're probably holding it wrong.
<ash_m>	once you declare namespace you no longer need to nest anything in that namespace, right?
<duvdevan>	btw
<duvdevan>	ctrl is satanic button
<duvdevan>	don't ever use it
<duvdevan>	solution for all of us programmers
<alphos>	i've never had anyone complain about me holding anything wrong, i take great offense to that !
<ash_m>	like namespace foo; class bar { ... } means foo\bar right?
<duvdevan>	is to invent a new keyboard
<cyndre>	whats satanic is i my new child support payment - no joke - 613.55
<cyndre>	er 613.66
<ebonics>	anyone know offhand what would be the cause of this.. is it cgi related? https://dpaste.de/k4wp
<caffinated>	alphos: http://www.engadget.com/2010/06/24/apple-responds-over-iphone-4-reception-issues-youre-holding-th/
<duvdevan>	leave europe cyndre
<duvdevan>	europe sucks
<duvdevan>	i'm near it
<cyndre>	im in canada - way better
<alphos>	caffinated : old. now, they bend !
<caffinated>	alphos: it's not a defect, it's a feature.  you pay a premium for it too.
<alphos>	:d
<duvdevan>	oh sorry
<duvdevan>	my being stupid
<ash_m>	alphos: who doesn't want a phone that bends?
<ash_m>	alphos: now if they can just make it so it bends back.
<duvdevan>	i want a girl
<duvdevan>	which bends
<ash_m>	okay, so i'm looking at this code: namespace mapper; use modeluserinterface;   interface usermapperinterface { ... }
<ash_m>	and i don't get why they use the `use` keyword
<sorabji>	to show off that they know it exists?
<domas>	hi! how does one fsync() a file in php?
<caffinated>	domas: fflush() ?
<ash_m>	which means that namespace\foo is now shorthand for my\full\namespace\foo
<domas>	caffinated: it just calls underlying fflush() which doesn't fsync
<domas>	fflush is libc function that empties libc buffers into the kernel, but doesn't actually cause a synchronization
<caffinated>	domas: honestly i couldn't tell you then.  it's more low level than i've ever really needed.
<sorabji>	modeluserinterface makes no sense as a namespace
<sorabji>	is interface, not namespace, if names are anything to go by
<ash_m>	sorabji: i see, i'll apply it to an interface and see if it makes sense to me
<caffinated>	domas: http://php.net/eio_fsync
<domas>	caffinated: yeah, pecl
<domas>	caffinated: kinda awesome that you need external module to write a file
<jhave>	hello
<caffinated>	domas: you don't.  but you do need a module if you want access at that level, which is very uncommon for php.
<duvdevan>	die();
<domas>	what do you mean by "that level" ?
<jhave>	is there a better development envirement than vagrant/virtualbox/puppet ?
<ash_m>	oops
<caffinated>	if all you're doing is writing a file, there's a bunch of ways to do it that don't involve that
<ash_m>	i'm using new wrong
<duvdevan>	jhave yes there is: die(); !
<duvdevan>	:d
<domas>	caffinated: but the file won't be written
<ash_m>	substitute new for type-hinting
<domas>	caffinated: the file _maybe_ will be written
<jhave>	duvdevan, sure ;)
<domas>	fsync() is the guarantee that file will be written
<alphos>	jhave an actual machine
<caffinated>	domas: it gets written every time for me.  i mean, i get what you're saying, but unless you're going in to mission critical land you're overdoing it.
<jhave>	alphos, its the setup i have used for some time
<jhave>	a local lamp install on my network
<alphos>	there you go then
<domas>	caffinated: i am in mission critical land \o/
<caffinated>	domas: if it were that critical, i'd be using something that isn't php
<ash_m>	sorabji: so namespace mapper; use modeluserinterface; interface usermapperinterface { ... } <-- the reason to use the `use` keyword is to ensure that anywhere modeluserinterface is used it is substituted with \mapper\modeluserinterface ... assuming that is used as a type-hint in one of the interface's methods... right?
<domas>	caffinated: legacy code
<ebergen>	hah
<domas>	caffinated: none of this code today is written in php, for sure
<sorabji>	domas: why not write to a database?
<ebergen>	like python :)
<jhave>	 ask only for the experience of others, after that it's all gone virtual, there are many more options :)
<domas>	sorabji: this is data that is coming from database, tbh!
<sorabji>	and?
<domas>	sorabji: i want that data on a file
<domas>	outside of a database
<domas>	well, and not buffered in kernel too
<alig1000>	i am trying to make a connection between amazon ec2 and a postgres database on rds using the following (http://pastebin.com/uy3qwzsn).  i just get a blank page with no error messages.  not a clue why.
<ebergen>	the database is putting the file into the kernel
<sorabji>	databases are better for storing stuff like that, imo
<ebergen>	we would like to help it to disk
<sorabji>	ash_m: no
<ash_m>	sorabji: drat
<sorabji>	use statements are not relative
<domas>	sorabji: databases store data on files and use fsync()
<domas>	sorabji: so i'm sure databases are better, because they have fsync() and php does not
<domas>	well, they used not to have it back when people were using myisam
<sorabji>	domas: i don't even know what you're saying anymore
<domas>	i'm saying that there's no way to safely write a file from php :(
<sorabji>	well, you've already been shown you can do it with a separate module if you want
<caffinated>	i'm thinking he prefers complaining to solving problems
<caffinated>	to each their own, i guess
<sorabji>	or you can push it to a database, which will handle this missions critical nonsense for you
<domas>	hm
<domas>	i'm not sure i can afford that dependency
<domas>	heh
<alphos>	now you got me wondering about sqlite : if it does fsync, your problem is solved ^^'
<ash_m>	sorabji: actually, they later define a user class in the model namespace ... i wonder if use modeluser means allow access to namespace: model and class user
<domas>	alphos: it actually is the only part that does
<caffinated>	if it's so important, you can install the pecl module.
<alphos>	domas then i guess your problem is solved :p and by the by, long time no see ^^
<domas>	alphos: \o/
<domas>	alphos: wouldn't work in this case, i actually need that file :)
<alphos>	does it have to be a flatfile ?
<domas>	alphos: yup
<sorabji>	whyyy
<nuge>	anyone have experience with revive adserver?
<alphos>	wow :/
<alphos>	nuge no. !+g10
<php-bot>	nuge no., guideline #10) we don't support script(s). we help you *write* php, not recommend or download and install/hack/modify/adapt/use pre-written scripts or third party apis. contact the authors of the script for support options they provide.
<sorabji>	ash_m: you're jumbled. take some time form an actual question :)
<domas>	sorabji: because it is written to and read from by external things
<domas>	which expect a file!
<sorabji>	i wouldn't stuff mission critical things in a file
<ebergen>	where everything is a file it seems reasonable to support syncing files
<domas>	sorabji: how's a database better than a file?
<sorabji>	0.o
<domas>	sorabji: i mean, i know databases
<sorabji>	but you don't know how it's better than a file
<domas>	i know how it is different from a file
<caffinated>	domas: in your case, it probably isn't.  however you're resistant to other solutions.
<domas>	database is abstraction layer that sits on top of files, usually
<alphos>	domas : yes, but if they implement fsync, they're your way out
<domas>	caffinated: in this case the solution will be simply shelling out to non-php program to sync
<caffinated>	domas: whatever bakes your noodle.  php has support for what you're trying to do.  you just don't want to use it.
<domas>	caffinated: what do you mean it has support?
<sorabji>	lol
<domas>	calling external programs?
<domas>	shell_exec("sync")
<caffinated>	domas: i mean we showed you a module that does what you're asking about.
<domas>	yup, i get it
<domas>	to be honest, yeah, with external modules you can do anything you want
<caffinated>	domas: so you can understand how stupid i find it when someone comes in and complains for 20 minutes about php's shortcomings when there's a solution available.  only in php do people complain so much about dependencies.
<domas>	alphos: to be honest, in this case we just want to inject fsync() in between select into outfile and load data
<domas>	caffinated: yup. it is just part of standard library in every other language
<domas>	/o\
<alphos>	domas : suddenly there's something wrong with native replication ? :p
<domas>	on php that is some community contribution that is not in any distributions
<domas>	alphos: online schema change
<alphos>	dayum ^^
<domas>	for some reason we wrote it ages ago in php
<domas>	seemed like a good idea to the person who did it
<domas>	:)
<alphos>	as did the rest of the stuff :p
<domas>	touche
<ebergen>	if the kernel was smarter and storage was smarter it would all just work
<domas>	ebergen: we get kernel engineers to fix it in future too!
<domas>	had to be fixed ages ago
<alphos>	it's not a dumb thing, it's just not a reliable thing
<ebergen>	the hierarchy of dumb is mysql -> linux -> storage
<ebergen>	if alter table worked we wouldn't be here either :)
<alphos>	ebergen : alter table can't create new data
<raymond>	alphos: it sure can.
<domas>	oh look at that, raymond woke up
<ebergen>	alter table created osc
<alphos>	raymond : depends how new. concatenation don't count !
<raymond>	domas: been awake, just been marveling at the interchange.
<raymond>	alphos: index creation.
<alphos>	that's not data, that's metadata
<domas>	null is also data!
<domas>	oh well
<raymond>	domas: plus with you and ebergen going at it... i'm not one to wade in the middle. :)
<ash_m>	sorabji: [15:56] <sorabji> use statements are not relative | are namespace statements?
<ebergen>	i don't need alter table to create new data i need it to not block other queries from creating new data :)
<sorabji>	ash_m: no, they're not relative either
<domas>	ebergen: need to add eio_* to hhvm !
<alphos>	g'luck to the other guy for that :p
<domas>	ebergen: there's eio_readahead()!
<domas>	and fallocate
<domas>	and lots of other interesting things, yet no fadvise :(
<ash_m>	sorabji: roger that; so if you so something like namespace foo; require('bar.php'); and bar.php contains a statement: namespace bar; does the code following the require statement (in foo.php) end up being within the bar namespace accidentally?
<ebergen>	oh god no fadvise?!?!
<ebergen>	fadv_willneed
<azrael_->	hi
<azrael_->	i've got an array which has nested arrays. how can i put a nested array as a reference into another variable to manipulate the nested one_
<azrael_->	?
<domas>	ebergen: 7098655
<domas>	oh no, i leaked proprietary information
<sorabji>	ash_m: namespaces are limited to the file they're in
<ebergen>	good job :)
<alphos>	domas : make a t-shirt of it :p
<ash_m>	sorabji: roger that; and there's no way an included file could be a subset of a namespace unless it's explicitly defined as such in the included file, right?
<glowdemon1>	hi, is it possible to have 2 input buttons (login + register) and have them both do two different things? like login for the one and register for the other
<sorabji>	ash_m: yes
<ash_m>	sorabji: thanks for confirming that for me
<glowdemon1>	for example, send the register button to a register page, how do i do that?
<sorabji>	glowdemon1: ajax is one solution
<ash_m>	glowdemon1: there's a variety of ways to accomplish that
<sorabji>	glowdemon1: o, i misread. you're just talking about links
<sorabji>	was thinking forms
<ash_m>	sorabji: so was i
<glowdemon1>	ive made a form and two input "submit" buttons
<ash_m>	sorabji: but i reread it too
<sorabji>	okay, it is forms :)
<glowdemon1>	but if its not possible that way, i'll change it
<sorabji>	glowdemon1: i'd use javascript to post the data to the correct endpoint
<caffinated>	glowdemon1: as long as the user is clicking the button, it will send the value set by the submit button.  you can have more than one.
<glowdemon1>	oh
<sorabji>	that too. i wouldn't want to mix registration and login code though :/
<glowdemon1>	no?
<ash_m>	glowdemon1: you could just use 2 forms.... or you can just use links like example.com/q=register or just example.com/register, or you could have the page redirect after submission or you can print a different tpl based on a routing table, etc
<caffinated>	eh, you just redirect it to the right code.
<caffinated>	more traditionally they're usually different endpoint though, yes.
<ash_m>	glowdemon1: kinda depends on your set up
<glowdemon1>	if i click the login button and do $_post["login"] what will the $_post show?
<glowdemon1>	bool or wouldn't it work?
<caffinated>	glowdemon1: it depends on what you set it to
<glowdemon1>	value="login" and "register" for the other
<glowdemon1>	if thats what you meant
<domas>	ebergen: now that hhvm engineers, #php, linux block layer guys and others are informed, maybe it is a time to ask db engineering to fix this too?!!?! :)
<domas>	would be a terribly productive day
<ash_m>	glowdemon1: you have to define names
<caffinated>	if you're going to use multiple buttons in a signle form, i'd probably use <button> tags, since they'll act like submit buttons and allow you to set display text independent of the value.
<ebergen>	i'm sure a bootcamper will get right on it
<glowdemon1>	ah
<ash_m>	glowdemon1: <submit name="submission" value="login" /> <submit name="submission" value="register" /> i think will work... but i dunno for sure
<ebergen>	i need some vitamin d
<domas>	ebergen: too late, sun is at the wrong angle
<ash_m>	caffinated: care to comment on my code?
<ebergen>	not here
<caffinated>	ash_m: which code is that?
<domas>	ebergen: you won't get any uvbs, only uvas, sun has to be above 50°
<ebergen>	maybe if i screw my back up worse i have an excuse to stay inside and play video games
<ebergen>	uvas will have to do
<katronix>	hey all, can bind_param handle putting in values from $_post? or do i to turn them into local variables?
<caffinated>	katronix: sure it can
<ash_m>	caffinated: the multiple submits
<caffinated>	katronix: if you're talking about pdo, i'd probably use bindvalue() though, so you don't have to deal with references.
<ash_m>	caffinated: i mean, i personally think he's better off with just links
<ash_m>	caffinated: unless he's submitting info
<ash_m>	caffinated: which is probably the case, but i think i'd set them to 2 different pages
<caffinated>	ash_m: if <submit> is a legal tag, it's the first time i've seen it
<katronix>	caffinated, here is what i'm using: http://pastebin.com/vwuvzpnr and i'm getting the error: fatal error: call to a member function bind_param() on a non-object on the second line
<caffinated>	ash_m: are you sure you're not aiming for <input type="submit" ... ?
<ash_m>	caffinated: pardon! <input type="submit"
<ash_m>	yeah
<ash_m>	i am typically not generating these forms ^^;
<caffinated>	ash_m: my only complaint with that is that it uses the value as the display text.
<ash_m>	caffinated: yeah, but it doesn't seem to be terrible in this case
<caffinated>	which is why i'd go with <button name="some_name" value="some_value">crap to display</button>
<viper-7>	there used to be browsers that didnt send the post field for a submit button, but i'm talking netscape here :p also if the user presses enter from within a text field in the same form, their browser will click the first one it finds in the dom tree, all by itself
<ash_m>	caffinated: yeah
<rxro>	guys
<rxro>	i have those errors on my site
<rxro>	http://pastebin.com/1aix30y4
<rxro>	is that good or bad ?
<ash_m>	viper-7: terrific note!
<alphos>	katronix : i see two problem with your prepared statements that will prevent it from being prepared : $sql will never be a mysqli_stmt instance
<caffinated>	viper-7: the bug was actually that it might not send a value if you hit enter in a text input
<alphos>	katronix 1) you're using value instead of values. 2) you have 8 fields, but 9 placeholders
<caffinated>	since that triggers a submit, but doesn't send the button value since it's not clicked.
<ash_m>	also, what happens with button elements?
<ash_m>	(in the event of an enter key press)
<viper-7>	caffinated: not what i was referring to
<katronix>	alphos, that could do it
<viper-7>	but yes that too
<ash_m>	i think the op left...?
<viper-7>	buttons dont do much of anything by themselves
<viper-7>	so, nothing
<alphos>	katronix : next time, $db->error
<viper-7>	rxro: your site was developed with little or no error reporting, and it's code is filled with basic issues like trying to read variables that dont exist
<katronix>	alphos, i have one of those, but it didn't return anything :(
<viper-7>	rxro: you can likely lower your error_reporting value in php.ini to make it work, but you really should fix that code asap
<caffinated>	ash_m: if the buttons are a child of a form, clicking a button will trigger the form.  if you submit via pressing enter, it depends on the element that has focus.
<alphos>	katronix you don't have any of those there
<viper-7>	careful not to conflate input:submit with buttons there
<ash_m>	caffinated: but with no submit, you'll have to press enter with focus on the actual button?
<katronix>	alphos, yes i didn't include it with the code i copied, but i do have one :)
<caffinated>	if it's a text field, it'll be a browser-dependent behavior.  a good rule is either not to rely on the submit value, or choose a sane default if a value is not sent.
<alphos>	katronix if you did, why not paste the error you were getting, or even better read it ?
<ash_m>	caffinated: that's a good idea, but honestly, i don't see much of mixing sign-in with account registration
<rxro>	+viper-7 how bad is it ??
<viper-7>	ash_m: buttons should be safe and force a click
<katronix>	alphos, i posted the php error i was getting which was all i was getting
<caffinated>	ash_m: well, not really going to comment on whether it's good or bad.  only that it can definitely be done.
<viper-7>	rxro: well from what that pastebin shows, 15-20% of your code contains problems
<viper-7>	rxro: however they're not "critical" problems, it'll still run.
<alphos>	katronix then you didn't look at $db->error
<rxro>	+viper-7 : i didn't do the site myself and i have no idea how to fix that
<rxro>	+viper-7 : the dev is kinda busy for weeks working on a bigger project
<viper-7>	rxro: error_reporting = e_all & ~e_strict & ~e_deprecated & ~e_warning & ~e_notice
<viper-7>	and i hate myself
<alphos>	rxro : it's his responsibility not to write crappy code : bug him again
<viper-7>	find the error_reporting line in your php.ini and change it to that
<viper-7>	if you dont know your php.ini, make a simple script with <?php phpinfo(); ?> inside and check the loaded configuration file.
<katronix>	alphos, i think the issue is the error is on line 20, the $db-error is on line 21
<alphos>	are you up to self-loathing now viper-7 ?
<rxro>	+viper-7: actually i know its php 5.4.4
<alphos>	katronix then guess what you should have done...
<viper-7>	after teaching people to disable e_notice messages, yep
<alphos>	to and how to
<alphos>	kudos :p
<viper-7>	:p
<rxro>	alphos >> i will but how hard it's to get it fixed ?
<cluelessperson>	hi all
<rxro>	the problem is he will be busy for weeks
<alphos>	rxro not too hard if you know how to write proper code
<rxro>	no i don't :p but i think he does
<rxro>	so i am guessing i will wait for him then
<viper-7>	if he wrote the current code i doubt that :/
<alphos>	obviously he doesn't. or maybe he just doesn't care
<viper-7>	notice: use of undefined constant site_site_theme – assumed ‘site_site_theme’
<viper-7>	is not a typical accidental mistake
<viper-7>	its a sign of a damn sloppy developer
<viper-7>	who codes without error_reporting
<azrael_->	thanks for the answers, solved it
<alphos>	yeah okay, even if he cared, he doesn't know
<duvdevan>	so
<duvdevan>	there are programming people/men
<duvdevan>	who have success with woman?
<soud>	what's a woman?
<duvdevan>	i always get the same response from every girl:
<caffinated>	soud: a species used to torture a man until no vestage of said manhood remains
<duvdevan>	{ success: false, errors: [] }
<duvdevan>	that's what i always get from them!
<alphos>	i wouldn't know about women :)
<viper-7>	ladder theory.
<duvdevan>	i try to resend the request
<alphos>	doesn't mean success can't be met
<duvdevan>	but they turn of the web server
<duvdevan>	or add a firewall rule to the responding port/protocol
<mentoc>	firewall penetration?
<duvdevan>	i'm a phpist, not a network breach-ist
<viper-7>	they have one heck of an intrusion detection system.
<duvdevan>	once i even got a different response
<alphos>	on another note, now that we've established that duvdevan isn't really here to help people (not a single helpful line since he joined), can we part ways with him ?
<duvdevan>	{ success: false, errors: ["you're booooring me..."] }
<viper-7>	but seriously, ladder theory kgo
<duvdevan>	alphos what the hell are you talking about?
<duvdevan>	you think i've joined here today?
<caffinated>	viper-7: jumping ladders is not permitted!
<viper-7>	duvdevan: this is a technical support channel, not a social one. try #phpc if you want to shoot the breeze, otherwise please keep it on topic.
<alphos>	duvdevan i kinda do, yes
<duvdevan>	well, your bad nigga
<duvdevan>	i'm here for months now
<caffinated>	duvdevan: what he's asking of you isn't a suggestion
<duvdevan>	so he wants me to part the channel?
<alphos>	that would be an option
<caffinated>	that's up to you.
<viper-7>	or stick to technical discussion related to php
<duvdevan>	php is biblical.
<dr-007>	how do i get a translatable string like "over 5 weeks, 2 days and 10 minutes" with a date object? i understand how i can get the difference between two dates. only not the translatable part. i've found strftime online to use linux's locales to get a date translated ..
<dr-007>	or should i not be looking for a php function at all? and use something like translate('over @weeks weeks, @days days and @minutes minutes, array('@weeks' => 5, '@days' => 2, '@minutes' => 10));
<duvdevan>	dr-007 find some i18n librraries for php
<dr-007>	in any case. it would be pleasant to output a date where it is keeping account with the locale so the months are properly translated. this is possible with strftime but i'm missing something ... since it is not working
<duvdevan>	i18n should help you bro
<viper-7>	that the kind of "bordering on esoteric" stuff i'd look to zf for
<viper-7>	zend_date probably handles it :p
<dr-007>	duvdevan, i was looking at it. http://php-flp.sourceforge.net/getting_started_english.htm
<dr-007>	but i think you were referring to the translate part?
<duvdevan>	yes
<dr-007>	ok. then i've got that covered via anoher way. thanks though
<dr-007>	viper-7, i'm not using zend
<dr-007>	i'm now doing something like setlocale(lc_all, "de_de.utf8"); return strftime("%e %b %y", $date->gettimestamp());
<rlf>	hello, is there a reason why i would get different hashes with and without pdo::mysql_attr_init_command => "set names utf8"?
<viper-7>	dr-007: zend framework is modular, you can use just the bits you want, i'd just expect it to be built to handle this for you.
<katronix>	okay here is the current version, http://pastebin.com/zr856u2p i think i took care of the issues before, but obviously not as i still get the same error "fatal error: call to a member function bind_param() on a non-object"
<alphos>	rlf : password hashes ? depends how you stored them :-/ also, if you're not on php <5.3.8, stop using set names as your init command, use ;charset in your dsn instead
<alphos>	katronix : why don't you see if preparing the statement triggers an sql errorstate ?
<rlf>	alphos: well it's a sha256, i just noticed the pdo param is causing it
<alphos>	rlf : do you store it as a binary ?
<rlf>	alphos: yup
<alphos>	rlf why not just as a hexdec ?
<katronix>	alphos do you mean on line 17?
<alphos>	katronix right after line 17, yes
<rlf>	alphos: apparently the hash is in hex, but i have a salt which is in binary
<rlf>	alphos: i suppose the salt is causing the mismatch
<alphos>	rlf depends if the salt is stored in the resulting hash
<katronix>	alphos, good call, that got me, "you have an error in your sql syntax; check the manual that corresponds to your mysql server version for the right syntax to use near '-hash) values (?,?,?,?,?,?,?,?)' at line 1"
<katronix>	what version of mysql do you need to be able to make these calls?
<alphos>	any currently available
<katronix>	okay, wonder if it didn't like the - in the field name...
<alphos>	katronix that's exactly what it didn't like
<alphos>	- is the subtraction operator
<katronix>	odd that phpmyadmin would allow it then
<alphos>	between ticks perhaps ?
<viper-7>	rlf: by default, pdo_mysql uses prepare emulation, meaning it escapes values and embeds them in your sql string and runs it as a single query. to do this, it needs to know the character set of the database connection, so it will use the correct escaping rules
<viper-7>	thats what you tell it by putting set_names in the attr_init_command
<numline1>	btw, i found a solution to my problem
<numline1>	array_column seems to be what i was looking for
<numline1>	but thanks anyways :)
